<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 15 Validity and Reliability | bmbstats: bootstrap magnitude-based statistics for sports scientists</title>
  <meta name="description" content="Chapter 15 Validity and Reliability | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 15 Validity and Reliability | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="www.complementarytraining.net" />
  
  
  <meta name="github-repo" content="mladenjovanovic/bmbstats-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 15 Validity and Reliability | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta name="twitter:site" content="@physical_prep" />
  
  

<meta name="author" content="Mladen Jovanovic" />


<meta name="date" content="2020-07-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="predictive-tasks-using-bmbstats.html"/>
<link rel="next" href="rct-analysis-and-prediction-in-bmbstats.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="adv-r.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">bmbstats book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-and-r-packages"><i class="fa fa-check"></i>R and R packages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Part One</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>2</b> Description</a>
<ul>
<li class="chapter" data-level="2.1" data-path="description.html"><a href="description.html#comparing-two-independent-groups"><i class="fa fa-check"></i><b>2.1</b> Comparing two independent groups</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="description.html"><a href="description.html#sample-mean-as-the-simplest-statistical-model"><i class="fa fa-check"></i><b>2.1.1</b> Sample <code>mean</code> as the simplest statistical model</a></li>
<li class="chapter" data-level="2.1.2" data-path="description.html"><a href="description.html#effect-sizes"><i class="fa fa-check"></i><b>2.1.2</b> Effect Sizes</a></li>
<li class="chapter" data-level="2.1.3" data-path="description.html"><a href="description.html#the-smallest-effect-size-of-interest"><i class="fa fa-check"></i><b>2.1.3</b> The Smallest Effect Size Of Interest</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="description.html"><a href="description.html#comparing-dependent-groups"><i class="fa fa-check"></i><b>2.2</b> Comparing dependent groups</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="description.html"><a href="description.html#describing-groups-as-independent"><i class="fa fa-check"></i><b>2.2.1</b> Describing groups as independent</a></li>
<li class="chapter" data-level="2.2.2" data-path="description.html"><a href="description.html#effect-sizes-1"><i class="fa fa-check"></i><b>2.2.2</b> Effect Sizes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="description.html"><a href="description.html#describing-relationship-between-two-variables"><i class="fa fa-check"></i><b>2.3</b> Describing relationship between two variables</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="description.html"><a href="description.html#magnitude-based-estimators"><i class="fa fa-check"></i><b>2.3.1</b> Magnitude-based estimators</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="description.html"><a href="description.html#advanced-uses"><i class="fa fa-check"></i><b>2.4</b> Advanced uses</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>3</b> Prediction</a>
<ul>
<li class="chapter" data-level="3.1" data-path="prediction.html"><a href="prediction.html#overfitting"><i class="fa fa-check"></i><b>3.1</b> Overfitting</a></li>
<li class="chapter" data-level="3.2" data-path="prediction.html"><a href="prediction.html#cross-validation"><i class="fa fa-check"></i><b>3.2</b> Cross-Validation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="prediction.html"><a href="prediction.html#sample-mean-as-the-simplest-predictive-model"><i class="fa fa-check"></i><b>3.2.1</b> Sample <code>mean</code> as the simplest predictive model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="prediction.html"><a href="prediction.html#bias-variance-decomposition-and-trade-off"><i class="fa fa-check"></i><b>3.3</b> Bias-Variance decomposition and trade-off</a></li>
<li class="chapter" data-level="3.4" data-path="prediction.html"><a href="prediction.html#interpretability"><i class="fa fa-check"></i><b>3.4</b> Interpretability</a></li>
<li class="chapter" data-level="3.5" data-path="prediction.html"><a href="prediction.html#magnitude-based-prediction-estimators"><i class="fa fa-check"></i><b>3.5</b> Magnitude-based prediction estimators</a></li>
<li class="chapter" data-level="3.6" data-path="prediction.html"><a href="prediction.html#practical-example-mas-and-yoyoir1-prediction"><i class="fa fa-check"></i><b>3.6</b> Practical example: MAS and YoYoIR1 prediction</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prediction.html"><a href="prediction.html#predicting-mas-from-yoyoir1"><i class="fa fa-check"></i><b>3.6.1</b> Predicting MAS from YoYoIR1</a></li>
<li class="chapter" data-level="3.6.2" data-path="prediction.html"><a href="prediction.html#predicting-yoyoir1-from-mas"><i class="fa fa-check"></i><b>3.6.2</b> Predicting YoYoIR1 from MAS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="causal-inference.html"><a href="causal-inference.html"><i class="fa fa-check"></i><b>4</b> Causal inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="causal-inference.html"><a href="causal-inference.html#necessary-versus-sufficient-causality"><i class="fa fa-check"></i><b>4.1</b> Necessary versus sufficient causality</a></li>
<li class="chapter" data-level="4.2" data-path="causal-inference.html"><a href="causal-inference.html#observational-data"><i class="fa fa-check"></i><b>4.2</b> Observational data</a></li>
<li class="chapter" data-level="4.3" data-path="causal-inference.html"><a href="causal-inference.html#potential-outcomes-or-counterfactuals"><i class="fa fa-check"></i><b>4.3</b> Potential outcomes or counterfactuals</a></li>
<li class="chapter" data-level="4.4" data-path="causal-inference.html"><a href="causal-inference.html#ceteris-paribus-and-the-biases"><i class="fa fa-check"></i><b>4.4</b> <em>Ceteris paribus</em> and the biases</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="causal-inference.html"><a href="causal-inference.html#randomization"><i class="fa fa-check"></i><b>4.4.1</b> Randomization</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="causal-inference.html"><a href="causal-inference.html#subject-matter-knowledge"><i class="fa fa-check"></i><b>4.5</b> Subject matter knowledge</a></li>
<li class="chapter" data-level="4.6" data-path="causal-inference.html"><a href="causal-inference.html#example-of-randomized-control-trial"><i class="fa fa-check"></i><b>4.6</b> Example of randomized control trial</a></li>
<li class="chapter" data-level="4.7" data-path="causal-inference.html"><a href="causal-inference.html#prediction-as-a-complement-to-causal-inference"><i class="fa fa-check"></i><b>4.7</b> Prediction as a complement to causal inference</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="causal-inference.html"><a href="causal-inference.html#analysis-of-the-individual-residuals-responders-vs-non-responders"><i class="fa fa-check"></i><b>4.7.1</b> Analysis of the individual residuals: responders vs non-responders</a></li>
<li class="chapter" data-level="4.7.2" data-path="causal-inference.html"><a href="causal-inference.html#counterfactual-analysis-and-individual-treatment-effects"><i class="fa fa-check"></i><b>4.7.2</b> Counterfactual analysis and Individual Treatment Effects</a></li>
<li class="chapter" data-level="4.7.3" data-path="causal-inference.html"><a href="causal-inference.html#direct-and-indirect-effect-covariates-and-then-some"><i class="fa fa-check"></i><b>4.7.3</b> Direct and indirect effect, covariates and then some</a></li>
<li class="chapter" data-level="4.7.4" data-path="causal-inference.html"><a href="causal-inference.html#model-selection"><i class="fa fa-check"></i><b>4.7.4</b> Model selection</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="causal-inference.html"><a href="causal-inference.html#ergodicity"><i class="fa fa-check"></i><b>4.8</b> Ergodicity</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>5</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistical-inference.html"><a href="statistical-inference.html#two-kinds-of-uncertainty-two-kinds-of-probability-two-kinds-of-statistical-inference"><i class="fa fa-check"></i><b>5.1</b> Two kinds of uncertainty, two kinds of probability, two kinds of statistical inference</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html"><i class="fa fa-check"></i><b>6</b> Frequentist perspective</a>
<ul>
<li class="chapter" data-level="6.1" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#null-hypothesis-significance-testing"><i class="fa fa-check"></i><b>6.1</b> Null-Hypothesis Significance Testing</a></li>
<li class="chapter" data-level="6.2" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#statistical-power"><i class="fa fa-check"></i><b>6.2</b> Statistical Power</a></li>
<li class="chapter" data-level="6.3" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#new-statistics-confidence-intervals-and-estimation"><i class="fa fa-check"></i><b>6.3</b> New Statistics: Confidence Intervals and Estimation</a></li>
<li class="chapter" data-level="6.4" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#minimum-effect-tests"><i class="fa fa-check"></i><b>6.4</b> Minimum Effect Tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#individual-vs.-parameter-sesoi"><i class="fa fa-check"></i><b>6.4.1</b> Individual vs. Parameter SESOI</a></li>
<li class="chapter" data-level="6.4.2" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#two-one-sided-tests-of-equivalence"><i class="fa fa-check"></i><b>6.4.2</b> Two one-sided tests of equivalence</a></li>
<li class="chapter" data-level="6.4.3" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#superiority-and-non-inferiority"><i class="fa fa-check"></i><b>6.4.3</b> Superiority and Non-Inferiority</a></li>
<li class="chapter" data-level="6.4.4" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#inferiority-and-non-superiority"><i class="fa fa-check"></i><b>6.4.4</b> Inferiority and Non-Superiority</a></li>
<li class="chapter" data-level="6.4.5" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#inference-from-mets"><i class="fa fa-check"></i><b>6.4.5</b> Inference from METs</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#magnitude-based-inference"><i class="fa fa-check"></i><b>6.5</b> Magnitude Based Inference</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html"><i class="fa fa-check"></i><b>7</b> Bayesian perspective</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#grid-approximation"><i class="fa fa-check"></i><b>7.1</b> Grid approximation</a></li>
<li class="chapter" data-level="7.2" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#priors"><i class="fa fa-check"></i><b>7.2</b> Priors</a></li>
<li class="chapter" data-level="7.3" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#likelihood-function"><i class="fa fa-check"></i><b>7.3</b> Likelihood function</a></li>
<li class="chapter" data-level="7.4" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#posterior-probability"><i class="fa fa-check"></i><b>7.4</b> Posterior probability</a></li>
<li class="chapter" data-level="7.5" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#adding-more-possibilities"><i class="fa fa-check"></i><b>7.5</b> Adding more possibilities</a></li>
<li class="chapter" data-level="7.6" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#different-prior"><i class="fa fa-check"></i><b>7.6</b> Different prior</a></li>
<li class="chapter" data-level="7.7" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#more-data"><i class="fa fa-check"></i><b>7.7</b> More data</a></li>
<li class="chapter" data-level="7.8" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#summarizing-prior-and-posterior-distributions-with-map-and-hdi"><i class="fa fa-check"></i><b>7.8</b> Summarizing prior and posterior distributions with MAP and HDI</a></li>
<li class="chapter" data-level="7.9" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#comparison-to-nhst-type-i-errors"><i class="fa fa-check"></i><b>7.9</b> Comparison to NHST Type I errors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bootstrap.html"><a href="bootstrap.html"><i class="fa fa-check"></i><b>8</b> Bootstrap</a>
<ul>
<li class="chapter" data-level="8.1" data-path="bootstrap.html"><a href="bootstrap.html#summarizing-bootstrap-distribution"><i class="fa fa-check"></i><b>8.1</b> Summarizing bootstrap distribution</a></li>
<li class="chapter" data-level="8.2" data-path="bootstrap.html"><a href="bootstrap.html#bootstrap-type-i-errors"><i class="fa fa-check"></i><b>8.2</b> Bootstrap Type I errors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="statistical-inference-conclusion.html"><a href="statistical-inference-conclusion.html"><i class="fa fa-check"></i><b>9</b> Statistical inference conclusion</a></li>
<li class="chapter" data-level="10" data-path="measurement-error.html"><a href="measurement-error.html"><i class="fa fa-check"></i><b>10</b> Measurement Error</a>
<ul>
<li class="chapter" data-level="10.1" data-path="measurement-error.html"><a href="measurement-error.html#estimating-te-using-ordinary-least-products-regression"><i class="fa fa-check"></i><b>10.1</b> Estimating <code>TE</code> using <em>ordinary least products</em> regression</a></li>
<li class="chapter" data-level="10.2" data-path="measurement-error.html"><a href="measurement-error.html#smallest-detectable-change"><i class="fa fa-check"></i><b>10.2</b> Smallest Detectable Change</a></li>
<li class="chapter" data-level="10.3" data-path="measurement-error.html"><a href="measurement-error.html#interpreting-individual-changes-using-sesoi-and-sdc"><i class="fa fa-check"></i><b>10.3</b> Interpreting individual changes using SESOI and SDC</a></li>
<li class="chapter" data-level="10.4" data-path="measurement-error.html"><a href="measurement-error.html#what-to-do-when-we-know-the-error"><i class="fa fa-check"></i><b>10.4</b> What to do when we know the error?</a></li>
<li class="chapter" data-level="10.5" data-path="measurement-error.html"><a href="measurement-error.html#extending-the-classical-test-theory"><i class="fa fa-check"></i><b>10.5</b> Extending the Classical Test Theory</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>11</b> Conclusion</a></li>
<li class="part"><span><b>II Part Two</b></span></li>
<li class="chapter" data-level="12" data-path="bmbstats-bootstrap-magnitude-based-statistics-package.html"><a href="bmbstats-bootstrap-magnitude-based-statistics-package.html"><i class="fa fa-check"></i><b>12</b> <code>bmbstats</code>: Bootstrap Magnitude-based Statistics package</a>
<ul>
<li class="chapter" data-level="12.1" data-path="bmbstats-bootstrap-magnitude-based-statistics-package.html"><a href="bmbstats-bootstrap-magnitude-based-statistics-package.html#installation"><i class="fa fa-check"></i><b>12.1</b> Installation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html"><i class="fa fa-check"></i><b>13</b> Descriptive tasks using <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#generating-height-data"><i class="fa fa-check"></i><b>13.1</b> Generating <em>height data</em></a></li>
<li class="chapter" data-level="13.2" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#visualization-and-analysis-of-a-single-groupvariable"><i class="fa fa-check"></i><b>13.2</b> Visualization and analysis of a single group/variable</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#using-your-own-estimators"><i class="fa fa-check"></i><b>13.2.1</b> Using your own estimators</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#visualization-and-analysis-of-the-two-independent-groups"><i class="fa fa-check"></i><b>13.3</b> Visualization and analysis of the two independent groups</a></li>
<li class="chapter" data-level="13.4" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#nhst-mets-and-mbi-functions"><i class="fa fa-check"></i><b>13.4</b> NHST, METs and MBI functions</a></li>
<li class="chapter" data-level="13.5" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#comparing-two-dependent-groups"><i class="fa fa-check"></i><b>13.5</b> Comparing two dependent groups</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#measurement-error-issues"><i class="fa fa-check"></i><b>13.5.1</b> Measurement error issues</a></li>
<li class="chapter" data-level="13.5.2" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#analysis-of-the-dependent-groups-using-bmbstatscompare_dependent_groups"><i class="fa fa-check"></i><b>13.5.2</b> Analysis of the dependent groups using <code>bmbstats::compare_dependent_groups</code></a></li>
<li class="chapter" data-level="13.5.3" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#statistical-tests"><i class="fa fa-check"></i><b>13.5.3</b> Statistical tests</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#describing-relationship-between-two-groups"><i class="fa fa-check"></i><b>13.6</b> Describing relationship between two groups</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html"><i class="fa fa-check"></i><b>14</b> Predictive tasks using <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="14.1" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#how-to-implement-different-performance-metrics"><i class="fa fa-check"></i><b>14.1</b> How to implement different performance metrics?</a></li>
<li class="chapter" data-level="14.2" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#how-to-use-different-prediction-model"><i class="fa fa-check"></i><b>14.2</b> How to use different prediction model?</a></li>
<li class="chapter" data-level="14.3" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#example-of-using-tuning-parameter"><i class="fa fa-check"></i><b>14.3</b> Example of using tuning parameter</a></li>
<li class="chapter" data-level="14.4" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#plotting"><i class="fa fa-check"></i><b>14.4</b> Plotting</a></li>
<li class="chapter" data-level="14.5" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#comparing-models"><i class="fa fa-check"></i><b>14.5</b> Comparing models</a></li>
<li class="chapter" data-level="14.6" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#bootstrapping-model"><i class="fa fa-check"></i><b>14.6</b> Bootstrapping model</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html"><i class="fa fa-check"></i><b>15</b> Validity and Reliability</a>
<ul>
<li class="chapter" data-level="15.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#data-generation"><i class="fa fa-check"></i><b>15.1</b> Data generation</a></li>
<li class="chapter" data-level="15.2" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#validity"><i class="fa fa-check"></i><b>15.2</b> Validity</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#true-vs-criterion"><i class="fa fa-check"></i><b>15.2.1</b> True vs Criterion</a></li>
<li class="chapter" data-level="15.2.2" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#practical-vs-criterion"><i class="fa fa-check"></i><b>15.2.2</b> Practical vs Criterion</a></li>
<li class="chapter" data-level="15.2.3" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#prediction-approach"><i class="fa fa-check"></i><b>15.2.3</b> Prediction approach</a></li>
<li class="chapter" data-level="15.2.4" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#can-we-adjust-for-the-know-criterion-measure-random-error"><i class="fa fa-check"></i><b>15.2.4</b> Can we adjust for the know criterion measure random error?</a></li>
<li class="chapter" data-level="15.2.5" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#estimating-sesoi-for-the-practical-score"><i class="fa fa-check"></i><b>15.2.5</b> Estimating SESOI for the practical score</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#reliability"><i class="fa fa-check"></i><b>15.3</b> Reliability</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#reproducibility"><i class="fa fa-check"></i><b>15.3.1</b> Reproducibility</a></li>
<li class="chapter" data-level="15.3.2" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#repeatability"><i class="fa fa-check"></i><b>15.3.2</b> Repeatability</a></li>
<li class="chapter" data-level="15.3.3" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#the-difference-between-reproducibility-and-repeatability"><i class="fa fa-check"></i><b>15.3.3</b> The difference between Reproducibility and Repeatability</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html"><i class="fa fa-check"></i><b>16</b> RCT analysis and prediction in <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#data-generating-process-behind-rct"><i class="fa fa-check"></i><b>16.1</b> Data Generating Process behind RCT</a></li>
<li class="chapter" data-level="16.2" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#rct-analysis-using-bmbstatsrct_analysis-function"><i class="fa fa-check"></i><b>16.2</b> RCT analysis using <code>bmbstats::RCT_analysis</code> function</a></li>
<li class="chapter" data-level="16.3" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#adding-some-effects"><i class="fa fa-check"></i><b>16.3</b> Adding some effects</a></li>
<li class="chapter" data-level="16.4" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#what-goes-inside-the-measurement-error"><i class="fa fa-check"></i><b>16.4</b> What goes inside the <em>measurement error</em>?</a></li>
<li class="chapter" data-level="16.5" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#prediction-perspective"><i class="fa fa-check"></i><b>16.5</b> Prediction perspective</a></li>
</ul></li>
<li><a href="appendix-a-dorem-package.html#appendix-a-dorem-package">Appendix A: <code>dorem</code> package</a></li>
<li><a href="appendix-b-shorts-package.html#appendix-b-shorts-package">Appendix B: <code>shorts</code> package</a></li>
<li class="chapter" data-level="" data-path="appendix-c-recommended-material.html"><a href="appendix-c-recommended-material.html"><i class="fa fa-check"></i>Appendix C: Recommended material</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">bmbstats: bootstrap magnitude-based statistics for sports scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="validity-and-reliability" class="section level1" number="15">
<h1><span class="header-section-number">Chapter 15</span> Validity and Reliability</h1>
<p>Although we have <em>sort-of-touched</em> validity and reliability topics in the <a href="measurement-error.html#measurement-error">Measurement Error</a> chapter, here I will spend more time explaining the concepts and the use of <code>bmbstats</code> functions to perform the analysis. As pointed out multiple times thorough this book, simulation and the knowledge of the data generating process (DGP) is very helpful in understanding the analysis and what we are trying to do. To understand validity and reliability analyses, it is thus best to generate the data (i.e. simulate the DGP).</p>
<div id="data-generation" class="section level2" number="15.1">
<h2><span class="header-section-number">15.1</span> Data generation</h2>
<p>Let’s imagine that we know the <em>true</em> vertical jump scores for N=20 individuals. We measure this true score with a <em>gold standard</em> device twice (i.e. trial 1 and trial 2). Unfortunately, this <em>criterion</em> device is expensive or takes a lot of time, so we have developed a <em>practical</em> device that measures vertical jump height much quicker and cheaper. Unfortunately, we do not know the measurement error of this device and we want to estimate how valid and reliable this practical measure is. Luckily for us, we generate the data, so we actually know all the measurement error components (i.e. fixed and proportional bias components of the the systematic error and random error).</p>
<p>The below code generates the data for both criteriona and practical measures using two trials and N=20 athletes:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="validity-and-reliability.html#cb114-1"></a><span class="kw">require</span>(tidyverse)</span>
<span id="cb114-2"><a href="validity-and-reliability.html#cb114-2"></a><span class="kw">require</span>(bmbstats)</span>
<span id="cb114-3"><a href="validity-and-reliability.html#cb114-3"></a><span class="kw">require</span>(cowplot)</span>
<span id="cb114-4"><a href="validity-and-reliability.html#cb114-4"></a></span>
<span id="cb114-5"><a href="validity-and-reliability.html#cb114-5"></a>n_subjects &lt;-<span class="st"> </span><span class="dv">20</span></span>
<span id="cb114-6"><a href="validity-and-reliability.html#cb114-6"></a></span>
<span id="cb114-7"><a href="validity-and-reliability.html#cb114-7"></a>criterion_random &lt;-<span class="st"> </span><span class="fl">0.3</span></span>
<span id="cb114-8"><a href="validity-and-reliability.html#cb114-8"></a>practical_fixed &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb114-9"><a href="validity-and-reliability.html#cb114-9"></a>practical_proportional &lt;-<span class="st"> </span><span class="fl">1.1</span></span>
<span id="cb114-10"><a href="validity-and-reliability.html#cb114-10"></a>practical_random &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb114-11"><a href="validity-and-reliability.html#cb114-11"></a></span>
<span id="cb114-12"><a href="validity-and-reliability.html#cb114-12"></a><span class="kw">set.seed</span>(<span class="dv">1667</span>)</span>
<span id="cb114-13"><a href="validity-and-reliability.html#cb114-13"></a></span>
<span id="cb114-14"><a href="validity-and-reliability.html#cb114-14"></a>agreement_data &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb114-15"><a href="validity-and-reliability.html#cb114-15"></a>  <span class="dt">Athlete =</span> <span class="kw">paste</span>(</span>
<span id="cb114-16"><a href="validity-and-reliability.html#cb114-16"></a>    <span class="st">&quot;Athlete&quot;</span>,</span>
<span id="cb114-17"><a href="validity-and-reliability.html#cb114-17"></a>    <span class="kw">str_pad</span>(</span>
<span id="cb114-18"><a href="validity-and-reliability.html#cb114-18"></a>      <span class="dt">string =</span> <span class="kw">seq</span>(<span class="dv">1</span>, n_subjects),</span>
<span id="cb114-19"><a href="validity-and-reliability.html#cb114-19"></a>      <span class="dt">width =</span> <span class="dv">2</span>,</span>
<span id="cb114-20"><a href="validity-and-reliability.html#cb114-20"></a>      <span class="dt">pad =</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb114-21"><a href="validity-and-reliability.html#cb114-21"></a>    )</span>
<span id="cb114-22"><a href="validity-and-reliability.html#cb114-22"></a>  ),</span>
<span id="cb114-23"><a href="validity-and-reliability.html#cb114-23"></a>  <span class="dt">True_score =</span> <span class="kw">rnorm</span>(n_subjects, <span class="dv">45</span>, <span class="dv">5</span>),</span>
<span id="cb114-24"><a href="validity-and-reliability.html#cb114-24"></a>  <span class="dt">Criterion_score.trial1 =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, criterion_random),</span>
<span id="cb114-25"><a href="validity-and-reliability.html#cb114-25"></a>  <span class="dt">Criterion_score.trial2 =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, criterion_random),</span>
<span id="cb114-26"><a href="validity-and-reliability.html#cb114-26"></a>  <span class="dt">Practical_score.trial1 =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random),</span>
<span id="cb114-27"><a href="validity-and-reliability.html#cb114-27"></a>  <span class="dt">Practical_score.trial2 =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random)</span>
<span id="cb114-28"><a href="validity-and-reliability.html#cb114-28"></a>)</span>
<span id="cb114-29"><a href="validity-and-reliability.html#cb114-29"></a></span>
<span id="cb114-30"><a href="validity-and-reliability.html#cb114-30"></a><span class="kw">head</span>(agreement_data)</span>
<span id="cb114-31"><a href="validity-and-reliability.html#cb114-31"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb114-32"><a href="validity-and-reliability.html#cb114-32"></a><span class="co">#&gt;   Athlete True_score Criterion_score… Criterion_score… Practical_score…</span></span>
<span id="cb114-33"><a href="validity-and-reliability.html#cb114-33"></a><span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span id="cb114-34"><a href="validity-and-reliability.html#cb114-34"></a><span class="co">#&gt; 1 Athlet…       52.9             52.9             52.9             60.2</span></span>
<span id="cb114-35"><a href="validity-and-reliability.html#cb114-35"></a><span class="co">#&gt; 2 Athlet…       42.4             42.3             42.2             48.7</span></span>
<span id="cb114-36"><a href="validity-and-reliability.html#cb114-36"></a><span class="co">#&gt; 3 Athlet…       49.2             49.1             49.5             56.0</span></span>
<span id="cb114-37"><a href="validity-and-reliability.html#cb114-37"></a><span class="co">#&gt; 4 Athlet…       44.8             44.7             44.8             51.5</span></span>
<span id="cb114-38"><a href="validity-and-reliability.html#cb114-38"></a><span class="co">#&gt; 5 Athlet…       40.0             40.4             40.1             45.7</span></span>
<span id="cb114-39"><a href="validity-and-reliability.html#cb114-39"></a><span class="co">#&gt; 6 Athlet…       42.6             42.5             42.2             49.7</span></span>
<span id="cb114-40"><a href="validity-and-reliability.html#cb114-40"></a><span class="co">#&gt; # … with 1 more variable: Practical_score.trial2 &lt;dbl&gt;</span></span></code></pre></div>
<p>The assumption of the above DGP is that true score stays unchanged for trial 1 and trial 2. Thus, the only thing that creates variance in the criterion and practical measures is the random error component of the measurement error.</p>
<p>It is also assumed that there is no <em>biological noise</em> involved in the measurement error. We will make this example a bit more complex later on, so for now let’s stick to this sand box example.</p>
</div>
<div id="validity" class="section level2" number="15.2">
<h2><span class="header-section-number">15.2</span> Validity</h2>
<p><em>“How well does the measure measure what it’s supposed to measure?”</em> <span class="citation">(Will G Hopkins <a href="#ref-hopkinsBiasBlandAltmanNot2004" role="doc-biblioref">2004</a><a href="#ref-hopkinsBiasBlandAltmanNot2004" role="doc-biblioref">b</a>; Hopkins <a href="#ref-hopkinsSocraticDialogueComparison2010" role="doc-biblioref">2010</a>; W. Hopkins <a href="#ref-hopkinsSpreadsheetsAnalysisValidity2015" role="doc-biblioref">2015</a>)</span> is the question validity analysis tries to answer. There are few common approaches to estimate validity of the measurements, with Bland-Altman analysis <span class="citation">(Bland and Altman <a href="#ref-blandStatisticalMethodsAssessing1986" role="doc-biblioref">1986</a>; Giavarina <a href="#ref-giavarinaUnderstandingBlandAltman2015" role="doc-biblioref">2015</a>)</span> being one of the most used (also referred to as the <em>method of the differences</em>), linear regression, and <em>ordinary least products</em> (OLP) being a better alternative <span class="citation">(Ludbrook <a href="#ref-ludbrookLinearRegressionAnalysis2010" role="doc-biblioref">2010</a>, <a href="#ref-ludbrookPrimerBiomedicalScientists2012" role="doc-biblioref">2012</a>, <a href="#ref-ludbrookSPECIALARTICLECOMPARING1997" role="doc-biblioref">1997</a>, <a href="#ref-ludbrookStatisticalTechniquesComparing2002" role="doc-biblioref">2002</a>; Mullineaux, Barnes, and Batterham <a href="#ref-mullineauxAssessmentBiasComparing1999" role="doc-biblioref">1999</a>)</span>. Since we have simulated the DGP, we know exactly the measurement error components as well as true scores (which we do not know in the <em>real life</em>).</p>
<div id="true-vs-criterion" class="section level3" number="15.2.1">
<h3><span class="header-section-number">15.2.1</span> True vs Criterion</h3>
<p>To <em>re-create</em> DGP parameters for the criterion measure, we will use the true scores as a predictor, and criterion score (trial 1) as the outcome. Here is the scatter plot:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="validity-and-reliability.html#cb115-1"></a><span class="kw">ggplot</span>(</span>
<span id="cb115-2"><a href="validity-and-reliability.html#cb115-2"></a>  agreement_data,</span>
<span id="cb115-3"><a href="validity-and-reliability.html#cb115-3"></a>  <span class="kw">aes</span>(</span>
<span id="cb115-4"><a href="validity-and-reliability.html#cb115-4"></a>    <span class="dt">x =</span> True_score,</span>
<span id="cb115-5"><a href="validity-and-reliability.html#cb115-5"></a>    <span class="dt">y =</span> Criterion_score.trial1</span>
<span id="cb115-6"><a href="validity-and-reliability.html#cb115-6"></a>  )</span>
<span id="cb115-7"><a href="validity-and-reliability.html#cb115-7"></a>) <span class="op">+</span></span>
<span id="cb115-8"><a href="validity-and-reliability.html#cb115-8"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb115-9"><a href="validity-and-reliability.html#cb115-9"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-3-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>For the sake of this example, let’s assume that SESOI is equal to ±2.5cm (for the criterion score). We are interested in few things: (1) re-create the DGP components, or (2) can we predict the true score from the criterion score (which implies flipping predictor and outcome variables). Most validity research papers in the sports science are concerned with with describing or explaining the validity by trying to re-create the DGP components, while not many are concerned with predictive performance of the model. Let’s deal with the descriptive (i.e explanatory) tasks first.</p>
<div id="method-of-the-differences" class="section level4" number="15.2.1.1">
<h4><span class="header-section-number">15.2.1.1</span> Method of the differences</h4>
<p>Using the <code>bmbstats::plot_pair_BA</code> function we can generate Bland-Altman plot for the true score and the criterion score:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="validity-and-reliability.html#cb116-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_BA</span>(</span>
<span id="cb116-2"><a href="validity-and-reliability.html#cb116-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>True_score,</span>
<span id="cb116-3"><a href="validity-and-reliability.html#cb116-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb116-4"><a href="validity-and-reliability.html#cb116-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;True Score&quot;</span>,</span>
<span id="cb116-5"><a href="validity-and-reliability.html#cb116-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score&quot;</span>,</span>
<span id="cb116-6"><a href="validity-and-reliability.html#cb116-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb116-7"><a href="validity-and-reliability.html#cb116-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb116-8"><a href="validity-and-reliability.html#cb116-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-4-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Panel A in the previous figure depicts simple scatter plot with added <em>identity line</em> (dashed line), SESOI band around identity line, and linear regression model (blue line; this could be changed using the <code>control = bmbstats::plot_contron()</code> parameter). Panel B depicts the difference between criterion and true score (oy y-axis) and their average (on the x-axis). Using SESOI of ±2.5cm, we can conclude that all the differences fall within the SESOI band, confirming that the criterion measure has outstanding practical validity characteristic.</p>
<p>How do we re-create the DGP parameters? Well, using Bland-Altman method, both fixed and proportional bias are lumped together in the <code>bias</code> (i.e. <code>mean difference</code>) estimator, and random error component is estimated using <code>SD</code> of the differences. Let’s write a simple estimator function to perform method of the differences validity analysis (do not mind the names of the function parameters; I know they make thing more confusing, but bear with me for a second):</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="validity-and-reliability.html#cb117-1"></a>differences_method &lt;-<span class="st"> </span><span class="cf">function</span>(data,</span>
<span id="cb117-2"><a href="validity-and-reliability.html#cb117-2"></a>                               criterion,</span>
<span id="cb117-3"><a href="validity-and-reliability.html#cb117-3"></a>                               practical,</span>
<span id="cb117-4"><a href="validity-and-reliability.html#cb117-4"></a>                               <span class="dt">SESOI_lower =</span> <span class="dv">0</span>,</span>
<span id="cb117-5"><a href="validity-and-reliability.html#cb117-5"></a>                               <span class="dt">SESOI_upper =</span> <span class="dv">0</span>,</span>
<span id="cb117-6"><a href="validity-and-reliability.html#cb117-6"></a>                               <span class="dt">na.rm =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb117-7"><a href="validity-and-reliability.html#cb117-7"></a>  practical_obs &lt;-<span class="st"> </span>data[[practical]]</span>
<span id="cb117-8"><a href="validity-and-reliability.html#cb117-8"></a>  criterion_obs &lt;-<span class="st"> </span>data[[criterion]]</span>
<span id="cb117-9"><a href="validity-and-reliability.html#cb117-9"></a></span>
<span id="cb117-10"><a href="validity-and-reliability.html#cb117-10"></a>  SESOI_range &lt;-<span class="st"> </span>SESOI_upper <span class="op">-</span><span class="st"> </span>SESOI_lower</span>
<span id="cb117-11"><a href="validity-and-reliability.html#cb117-11"></a></span>
<span id="cb117-12"><a href="validity-and-reliability.html#cb117-12"></a>  diff &lt;-<span class="st"> </span>criterion_obs <span class="op">-</span><span class="st"> </span>practical_obs</span>
<span id="cb117-13"><a href="validity-and-reliability.html#cb117-13"></a></span>
<span id="cb117-14"><a href="validity-and-reliability.html#cb117-14"></a>  n_obs &lt;-<span class="st"> </span><span class="kw">length</span>(diff)</span>
<span id="cb117-15"><a href="validity-and-reliability.html#cb117-15"></a></span>
<span id="cb117-16"><a href="validity-and-reliability.html#cb117-16"></a>  mean_diff &lt;-<span class="st"> </span><span class="kw">mean</span>(diff, <span class="dt">na.rm =</span> na.rm)</span>
<span id="cb117-17"><a href="validity-and-reliability.html#cb117-17"></a>  sd_diff &lt;-<span class="st"> </span><span class="kw">sd</span>(diff, <span class="dt">na.rm =</span> na.rm)</span>
<span id="cb117-18"><a href="validity-and-reliability.html#cb117-18"></a></span>
<span id="cb117-19"><a href="validity-and-reliability.html#cb117-19"></a>  PPER &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_upper <span class="op">-</span><span class="st"> </span>mean_diff) <span class="op">/</span><span class="st"> </span>sd_diff, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">-</span></span>
<span id="cb117-20"><a href="validity-and-reliability.html#cb117-20"></a><span class="st">    </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_lower <span class="op">-</span><span class="st"> </span>mean_diff) <span class="op">/</span><span class="st"> </span>sd_diff, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb117-21"><a href="validity-and-reliability.html#cb117-21"></a></span>
<span id="cb117-22"><a href="validity-and-reliability.html#cb117-22"></a>  <span class="kw">c</span>(</span>
<span id="cb117-23"><a href="validity-and-reliability.html#cb117-23"></a>    <span class="st">&quot;Mean diff&quot;</span> =<span class="st"> </span>mean_diff,</span>
<span id="cb117-24"><a href="validity-and-reliability.html#cb117-24"></a>    <span class="st">&quot;SD diff&quot;</span> =<span class="st"> </span>sd_diff,</span>
<span id="cb117-25"><a href="validity-and-reliability.html#cb117-25"></a>    <span class="dt">PPER =</span> PPER</span>
<span id="cb117-26"><a href="validity-and-reliability.html#cb117-26"></a>  )</span>
<span id="cb117-27"><a href="validity-and-reliability.html#cb117-27"></a>}</span>
<span id="cb117-28"><a href="validity-and-reliability.html#cb117-28"></a></span>
<span id="cb117-29"><a href="validity-and-reliability.html#cb117-29"></a><span class="co"># Run the analysis</span></span>
<span id="cb117-30"><a href="validity-and-reliability.html#cb117-30"></a><span class="kw">differences_method</span>(</span>
<span id="cb117-31"><a href="validity-and-reliability.html#cb117-31"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb117-32"><a href="validity-and-reliability.html#cb117-32"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb117-33"><a href="validity-and-reliability.html#cb117-33"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb117-34"><a href="validity-and-reliability.html#cb117-34"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb117-35"><a href="validity-and-reliability.html#cb117-35"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb117-36"><a href="validity-and-reliability.html#cb117-36"></a>)</span>
<span id="cb117-37"><a href="validity-and-reliability.html#cb117-37"></a><span class="co">#&gt;   Mean diff     SD diff        PPER </span></span>
<span id="cb117-38"><a href="validity-and-reliability.html#cb117-38"></a><span class="co">#&gt; -0.07726199  0.26125825  0.99999999</span></span></code></pre></div>
<p>We do know that the random error for the criterion score is 0.3cm since we have generated the data, and <code>SD diff</code> is our estimate of that parameter. Let’s perform bootstrap method to get confidence intervals for these estimators using <code>bmbstats::validity_analysis</code> function with <code>differences_method</code> as a parameter:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="validity-and-reliability.html#cb118-1"></a>difference_validity &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb118-2"><a href="validity-and-reliability.html#cb118-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb118-3"><a href="validity-and-reliability.html#cb118-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb118-4"><a href="validity-and-reliability.html#cb118-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb118-5"><a href="validity-and-reliability.html#cb118-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb118-6"><a href="validity-and-reliability.html#cb118-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb118-7"><a href="validity-and-reliability.html#cb118-7"></a>  <span class="dt">estimator_function =</span> differences_method,</span>
<span id="cb118-8"><a href="validity-and-reliability.html#cb118-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb118-9"><a href="validity-and-reliability.html#cb118-9"></a>)</span>
<span id="cb118-10"><a href="validity-and-reliability.html#cb118-10"></a></span>
<span id="cb118-11"><a href="validity-and-reliability.html#cb118-11"></a>difference_validity</span>
<span id="cb118-12"><a href="validity-and-reliability.html#cb118-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb118-13"><a href="validity-and-reliability.html#cb118-13"></a><span class="co">#&gt; </span></span>
<span id="cb118-14"><a href="validity-and-reliability.html#cb118-14"></a><span class="co">#&gt;  estimator       value      lower      upper</span></span>
<span id="cb118-15"><a href="validity-and-reliability.html#cb118-15"></a><span class="co">#&gt;  Mean diff -0.07726199 -0.1768739 0.04312759</span></span>
<span id="cb118-16"><a href="validity-and-reliability.html#cb118-16"></a><span class="co">#&gt;    SD diff  0.26125825  0.1964889 0.34579624</span></span>
<span id="cb118-17"><a href="validity-and-reliability.html#cb118-17"></a><span class="co">#&gt;       PPER  0.99999999  0.9999993 1.00000000</span></span></code></pre></div>
<p>As can be seen in the results, 95% CIs for the <code>SD diff</code> captures the true DGP parameter value for the random error of the criterion measure.</p>
</div>
<div id="linear-regression-method" class="section level4" number="15.2.1.2">
<h4><span class="header-section-number">15.2.1.2</span> Linear Regression method</h4>
<p>Another approach involves using simple linear regression method, where <code>RSE</code> is used to estimate <code>PPER</code> estimator. Using linear regression we can estimate the intercept (i.e. fixed bias), slope (i.e. proportional bias), and random error (i.e. <code>RSE</code>). Before writing the estimators function, let’s plot the relationship using <code>bmbstats::plot_pair_lm</code>:</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="validity-and-reliability.html#cb119-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_lm</span>(</span>
<span id="cb119-2"><a href="validity-and-reliability.html#cb119-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>True_score,</span>
<span id="cb119-3"><a href="validity-and-reliability.html#cb119-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb119-4"><a href="validity-and-reliability.html#cb119-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;True Score&quot;</span>,</span>
<span id="cb119-5"><a href="validity-and-reliability.html#cb119-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score&quot;</span>,</span>
<span id="cb119-6"><a href="validity-and-reliability.html#cb119-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb119-7"><a href="validity-and-reliability.html#cb119-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb119-8"><a href="validity-and-reliability.html#cb119-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>The linear regression parameters are used as estimates of the measurement error:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="validity-and-reliability.html#cb120-1"></a>lm_method &lt;-<span class="st"> </span><span class="cf">function</span>(data,</span>
<span id="cb120-2"><a href="validity-and-reliability.html#cb120-2"></a>                      criterion,</span>
<span id="cb120-3"><a href="validity-and-reliability.html#cb120-3"></a>                      practical,</span>
<span id="cb120-4"><a href="validity-and-reliability.html#cb120-4"></a>                      <span class="dt">SESOI_lower =</span> <span class="dv">0</span>,</span>
<span id="cb120-5"><a href="validity-and-reliability.html#cb120-5"></a>                      <span class="dt">SESOI_upper =</span> <span class="dv">0</span>,</span>
<span id="cb120-6"><a href="validity-and-reliability.html#cb120-6"></a>                      <span class="dt">na.rm =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb120-7"><a href="validity-and-reliability.html#cb120-7"></a>  practical_obs &lt;-<span class="st"> </span>data[[practical]]</span>
<span id="cb120-8"><a href="validity-and-reliability.html#cb120-8"></a>  criterion_obs &lt;-<span class="st"> </span>data[[criterion]]</span>
<span id="cb120-9"><a href="validity-and-reliability.html#cb120-9"></a></span>
<span id="cb120-10"><a href="validity-and-reliability.html#cb120-10"></a>  SESOI_range &lt;-<span class="st"> </span>SESOI_upper <span class="op">-</span><span class="st"> </span>SESOI_lower</span>
<span id="cb120-11"><a href="validity-and-reliability.html#cb120-11"></a></span>
<span id="cb120-12"><a href="validity-and-reliability.html#cb120-12"></a>  lm_model &lt;-<span class="st"> </span><span class="kw">lm</span>(criterion_obs <span class="op">~</span><span class="st"> </span>practical_obs)</span>
<span id="cb120-13"><a href="validity-and-reliability.html#cb120-13"></a></span>
<span id="cb120-14"><a href="validity-and-reliability.html#cb120-14"></a>  n_obs &lt;-<span class="st"> </span><span class="kw">length</span>(criterion_obs)</span>
<span id="cb120-15"><a href="validity-and-reliability.html#cb120-15"></a></span>
<span id="cb120-16"><a href="validity-and-reliability.html#cb120-16"></a>  intercept &lt;-<span class="st"> </span><span class="kw">coef</span>(lm_model)[[<span class="dv">1</span>]]</span>
<span id="cb120-17"><a href="validity-and-reliability.html#cb120-17"></a>  slope &lt;-<span class="st"> </span><span class="kw">coef</span>(lm_model)[[<span class="dv">2</span>]]</span>
<span id="cb120-18"><a href="validity-and-reliability.html#cb120-18"></a>  rse &lt;-<span class="st"> </span><span class="kw">summary</span>(lm_model)<span class="op">$</span>sigma</span>
<span id="cb120-19"><a href="validity-and-reliability.html#cb120-19"></a></span>
<span id="cb120-20"><a href="validity-and-reliability.html#cb120-20"></a>  <span class="co"># This is very close to 0, but will use it nonetheless</span></span>
<span id="cb120-21"><a href="validity-and-reliability.html#cb120-21"></a>  mean_diff &lt;-<span class="st"> </span><span class="kw">mean</span>(<span class="kw">residuals</span>(lm_model))</span>
<span id="cb120-22"><a href="validity-and-reliability.html#cb120-22"></a></span>
<span id="cb120-23"><a href="validity-and-reliability.html#cb120-23"></a>  PPER &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_upper <span class="op">-</span><span class="st"> </span>mean_diff) <span class="op">/</span><span class="st"> </span>rse, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">-</span></span>
<span id="cb120-24"><a href="validity-and-reliability.html#cb120-24"></a><span class="st">    </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_lower <span class="op">-</span><span class="st"> </span>mean_diff) <span class="op">/</span><span class="st"> </span>rse, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb120-25"><a href="validity-and-reliability.html#cb120-25"></a></span>
<span id="cb120-26"><a href="validity-and-reliability.html#cb120-26"></a>  <span class="kw">c</span>(</span>
<span id="cb120-27"><a href="validity-and-reliability.html#cb120-27"></a>    <span class="st">&quot;Intercept&quot;</span> =<span class="st"> </span>intercept,</span>
<span id="cb120-28"><a href="validity-and-reliability.html#cb120-28"></a>    <span class="st">&quot;Slope&quot;</span> =<span class="st"> </span>slope,</span>
<span id="cb120-29"><a href="validity-and-reliability.html#cb120-29"></a>    <span class="st">&quot;RSE&quot;</span> =<span class="st"> </span>rse,</span>
<span id="cb120-30"><a href="validity-and-reliability.html#cb120-30"></a>    <span class="dt">PPER =</span> PPER</span>
<span id="cb120-31"><a href="validity-and-reliability.html#cb120-31"></a>  )</span>
<span id="cb120-32"><a href="validity-and-reliability.html#cb120-32"></a>}</span>
<span id="cb120-33"><a href="validity-and-reliability.html#cb120-33"></a></span>
<span id="cb120-34"><a href="validity-and-reliability.html#cb120-34"></a><span class="co"># Run the analysis</span></span>
<span id="cb120-35"><a href="validity-and-reliability.html#cb120-35"></a><span class="kw">lm_method</span>(</span>
<span id="cb120-36"><a href="validity-and-reliability.html#cb120-36"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb120-37"><a href="validity-and-reliability.html#cb120-37"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb120-38"><a href="validity-and-reliability.html#cb120-38"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb120-39"><a href="validity-and-reliability.html#cb120-39"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb120-40"><a href="validity-and-reliability.html#cb120-40"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb120-41"><a href="validity-and-reliability.html#cb120-41"></a>)</span>
<span id="cb120-42"><a href="validity-and-reliability.html#cb120-42"></a><span class="co">#&gt;  Intercept      Slope        RSE       PPER </span></span>
<span id="cb120-43"><a href="validity-and-reliability.html#cb120-43"></a><span class="co">#&gt; -0.4518909  1.0084198  0.2643645  1.0000000</span></span></code></pre></div>
<p>We will use <code>bmbstats::validity_analysis</code> to get 95% CIs around the estimates:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="validity-and-reliability.html#cb121-1"></a>lm_validity &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb121-2"><a href="validity-and-reliability.html#cb121-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb121-3"><a href="validity-and-reliability.html#cb121-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb121-4"><a href="validity-and-reliability.html#cb121-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb121-5"><a href="validity-and-reliability.html#cb121-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb121-6"><a href="validity-and-reliability.html#cb121-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb121-7"><a href="validity-and-reliability.html#cb121-7"></a>  <span class="dt">estimator_function =</span> lm_method,</span>
<span id="cb121-8"><a href="validity-and-reliability.html#cb121-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb121-9"><a href="validity-and-reliability.html#cb121-9"></a>)</span>
<span id="cb121-10"><a href="validity-and-reliability.html#cb121-10"></a></span>
<span id="cb121-11"><a href="validity-and-reliability.html#cb121-11"></a>lm_validity</span>
<span id="cb121-12"><a href="validity-and-reliability.html#cb121-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb121-13"><a href="validity-and-reliability.html#cb121-13"></a><span class="co">#&gt; </span></span>
<span id="cb121-14"><a href="validity-and-reliability.html#cb121-14"></a><span class="co">#&gt;  estimator      value      lower     upper</span></span>
<span id="cb121-15"><a href="validity-and-reliability.html#cb121-15"></a><span class="co">#&gt;  Intercept -0.4518909 -1.0759400 0.8336904</span></span>
<span id="cb121-16"><a href="validity-and-reliability.html#cb121-16"></a><span class="co">#&gt;      Slope  1.0084198  0.9825368 1.0220937</span></span>
<span id="cb121-17"><a href="validity-and-reliability.html#cb121-17"></a><span class="co">#&gt;        RSE  0.2643645  0.1859689 0.3575745</span></span>
<span id="cb121-18"><a href="validity-and-reliability.html#cb121-18"></a><span class="co">#&gt;       PPER  1.0000000  0.9999988 1.0000000</span></span></code></pre></div>
<p>Since we know the DGP behind the criterion measure, we can confirm that fixed bias estimate (i.e. intercept) CI captured 0, proportional bias (i.e. slope) captured 1 and that random error (i.e. <code>RSE</code>) captured 0.3. We have thus managed to re-create DGP parameters using simple linear regression.</p>
<p>We can also perform NHST for fixed and proportional bias, and random error (<code>RSE</code>):</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="validity-and-reliability.html#cb122-1"></a>bmbstats<span class="op">::</span><span class="kw">bootstrap_NHST</span>(</span>
<span id="cb122-2"><a href="validity-and-reliability.html#cb122-2"></a>  lm_validity,</span>
<span id="cb122-3"><a href="validity-and-reliability.html#cb122-3"></a>  <span class="dt">estimator =</span> <span class="st">&quot;Intercept&quot;</span>,</span>
<span id="cb122-4"><a href="validity-and-reliability.html#cb122-4"></a>  <span class="dt">null_hypothesis =</span> <span class="dv">0</span>,</span>
<span id="cb122-5"><a href="validity-and-reliability.html#cb122-5"></a>  <span class="dt">test =</span> <span class="st">&quot;two.sided&quot;</span></span>
<span id="cb122-6"><a href="validity-and-reliability.html#cb122-6"></a>)</span>
<span id="cb122-7"><a href="validity-and-reliability.html#cb122-7"></a><span class="co">#&gt; Null-hypothesis significance test for the `Intercept` estimator</span></span>
<span id="cb122-8"><a href="validity-and-reliability.html#cb122-8"></a><span class="co">#&gt; Bootstrap result: Intercept=-0.452, 95% CI [-1.076, 0.834]</span></span>
<span id="cb122-9"><a href="validity-and-reliability.html#cb122-9"></a><span class="co">#&gt; H0=0, test: two.sided</span></span>
<span id="cb122-10"><a href="validity-and-reliability.html#cb122-10"></a><span class="co">#&gt; p=0.262</span></span></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="validity-and-reliability.html#cb123-1"></a>bmbstats<span class="op">::</span><span class="kw">bootstrap_NHST</span>(</span>
<span id="cb123-2"><a href="validity-and-reliability.html#cb123-2"></a>  lm_validity,</span>
<span id="cb123-3"><a href="validity-and-reliability.html#cb123-3"></a>  <span class="dt">estimator =</span> <span class="st">&quot;Slope&quot;</span>,</span>
<span id="cb123-4"><a href="validity-and-reliability.html#cb123-4"></a>  <span class="dt">null_hypothesis =</span> <span class="dv">1</span>,</span>
<span id="cb123-5"><a href="validity-and-reliability.html#cb123-5"></a>  <span class="dt">test =</span> <span class="st">&quot;two.sided&quot;</span></span>
<span id="cb123-6"><a href="validity-and-reliability.html#cb123-6"></a>)</span>
<span id="cb123-7"><a href="validity-and-reliability.html#cb123-7"></a><span class="co">#&gt; Null-hypothesis significance test for the `Slope` estimator</span></span>
<span id="cb123-8"><a href="validity-and-reliability.html#cb123-8"></a><span class="co">#&gt; Bootstrap result: Slope=1.008, 95% CI [0.983, 1.022]</span></span>
<span id="cb123-9"><a href="validity-and-reliability.html#cb123-9"></a><span class="co">#&gt; H0=1, test: two.sided</span></span>
<span id="cb123-10"><a href="validity-and-reliability.html#cb123-10"></a><span class="co">#&gt; p=0.322</span></span></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="validity-and-reliability.html#cb124-1"></a>bmbstats<span class="op">::</span><span class="kw">bootstrap_NHST</span>(</span>
<span id="cb124-2"><a href="validity-and-reliability.html#cb124-2"></a>  lm_validity,</span>
<span id="cb124-3"><a href="validity-and-reliability.html#cb124-3"></a>  <span class="dt">estimator =</span> <span class="st">&quot;RSE&quot;</span>,</span>
<span id="cb124-4"><a href="validity-and-reliability.html#cb124-4"></a>  <span class="dt">null_hypothesis =</span> criterion_random,</span>
<span id="cb124-5"><a href="validity-and-reliability.html#cb124-5"></a>  <span class="dt">test =</span> <span class="st">&quot;two.sided&quot;</span></span>
<span id="cb124-6"><a href="validity-and-reliability.html#cb124-6"></a>)</span>
<span id="cb124-7"><a href="validity-and-reliability.html#cb124-7"></a><span class="co">#&gt; Null-hypothesis significance test for the `RSE` estimator</span></span>
<span id="cb124-8"><a href="validity-and-reliability.html#cb124-8"></a><span class="co">#&gt; Bootstrap result: RSE=0.264, 95% CI [0.186, 0.358]</span></span>
<span id="cb124-9"><a href="validity-and-reliability.html#cb124-9"></a><span class="co">#&gt; H0=0.3, test: two.sided</span></span>
<span id="cb124-10"><a href="validity-and-reliability.html#cb124-10"></a><span class="co">#&gt; p=0.427</span></span></code></pre></div>
<p>Please notice the similarity between <code>SD diff</code> from the method of differences and <code>RSE</code> estimator, both of which are estimates of the random error of the measurement error:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="validity-and-reliability.html#cb125-1"></a><span class="kw">rbind</span>(</span>
<span id="cb125-2"><a href="validity-and-reliability.html#cb125-2"></a>  difference_validity<span class="op">$</span>estimators[<span class="dv">2</span>, ],</span>
<span id="cb125-3"><a href="validity-and-reliability.html#cb125-3"></a>  lm_validity<span class="op">$</span>estimators[<span class="dv">3</span>, ]</span>
<span id="cb125-4"><a href="validity-and-reliability.html#cb125-4"></a>)</span>
<span id="cb125-5"><a href="validity-and-reliability.html#cb125-5"></a><span class="co">#&gt;   estimator     value     lower     upper</span></span>
<span id="cb125-6"><a href="validity-and-reliability.html#cb125-6"></a><span class="co">#&gt; 2   SD diff 0.2612583 0.1964889 0.3457962</span></span>
<span id="cb125-7"><a href="validity-and-reliability.html#cb125-7"></a><span class="co">#&gt; 3       RSE 0.2643645 0.1859689 0.3575745</span></span></code></pre></div>
</div>
<div id="olp-method" class="section level4" number="15.2.1.3">
<h4><span class="header-section-number">15.2.1.3</span> OLP method</h4>
<p>Ordinary least product approach calculates the residuals using product between y-residual <span class="math inline">\(y - \hat{y}\)</span> and x-residual <span class="math inline">\(x - \hat{x}\)</span>. This method is used more in reliability analysis when we do not know which variable is predictor and which is the outcome or target, but it can be used with the validity analysis as well. OLP method doesn’t assume that the x-variable is without random error, which in this example doesn’t help since we are using the true score (and the true score is without random error). But it is useful <em>exactly</em> for this reason for the real-world analysis when both variables (x and y) have random error involved. Here is a quote from Ludbrook 1997 paper <span class="citation">(Ludbrook <a href="#ref-ludbrookSPECIALARTICLECOMPARING1997" role="doc-biblioref">1997</a>, 194)</span>:</p>
<blockquote>
<p>"It is an important assumption of OLS regression that whereas the values of Y in the population that has been sampled are attended by error, those of X are not. Strictly, this can be so only if the X values are categorical: for instance, conditions, treatments or places. However, most statistical theorists follow the advice of Berkson, which is that if the X values have been fixed in advance by the experimenter (e.g. by specifying times, doses or settings of a pump), then they can be regarded for practical purposes as error-free. When X is error-free, Model I regression analysis is the proper form to use. It includes the well-known OLS regression technique as well as modifications of it, such as weighted least squares (WLS) regression.</p>
</blockquote>
<blockquote>
<p>When both X and Y are free to vary and are attended by error, some statisticians allow that Model I regression analysis may still be used if it is certain, on biological grounds, that Y must depend on X and never the reverse. This is the case, for instance, in dose- or stimulus-response relationships. Even then, the Model I regression line should be used for empirical, rather than explanatory, purposes.</p>
</blockquote>
<blockquote>
<p>When investigators plan experiments to compare methods of measurement, they must assume that both Y and X will be attended by random error. Moreover, it is impossible to decide which method should be regarded as dependent and which independent and because of this it is wrong to use Model I regression analysis. Instead, one or another form of Model I regression analysis must be used. These are described later."</p>
</blockquote>
<p>To plot OLP regression, use <code>bmbstats::plot_pair_OLP</code> function. The OLP regression, in this case, looks very close to simple linear regression:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="validity-and-reliability.html#cb126-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_OLP</span>(</span>
<span id="cb126-2"><a href="validity-and-reliability.html#cb126-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>True_score,</span>
<span id="cb126-3"><a href="validity-and-reliability.html#cb126-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb126-4"><a href="validity-and-reliability.html#cb126-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;True Score&quot;</span>,</span>
<span id="cb126-5"><a href="validity-and-reliability.html#cb126-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score&quot;</span>,</span>
<span id="cb126-6"><a href="validity-and-reliability.html#cb126-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb126-7"><a href="validity-and-reliability.html#cb126-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb126-8"><a href="validity-and-reliability.html#cb126-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Let’s write the OLP validity estimators and check the output. OLP regression is implemented in the <code>bmbstats::OLP_regression</code> function.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="validity-and-reliability.html#cb127-1"></a>olp_method &lt;-<span class="st"> </span><span class="cf">function</span>(data,</span>
<span id="cb127-2"><a href="validity-and-reliability.html#cb127-2"></a>                      criterion,</span>
<span id="cb127-3"><a href="validity-and-reliability.html#cb127-3"></a>                      practical,</span>
<span id="cb127-4"><a href="validity-and-reliability.html#cb127-4"></a>                      <span class="dt">SESOI_lower =</span> <span class="dv">0</span>,</span>
<span id="cb127-5"><a href="validity-and-reliability.html#cb127-5"></a>                      <span class="dt">SESOI_upper =</span> <span class="dv">0</span>,</span>
<span id="cb127-6"><a href="validity-and-reliability.html#cb127-6"></a>                      <span class="dt">na.rm =</span> <span class="ot">FALSE</span>) {</span>
<span id="cb127-7"><a href="validity-and-reliability.html#cb127-7"></a>  practical_obs &lt;-<span class="st"> </span>data[[practical]]</span>
<span id="cb127-8"><a href="validity-and-reliability.html#cb127-8"></a>  criterion_obs &lt;-<span class="st"> </span>data[[criterion]]</span>
<span id="cb127-9"><a href="validity-and-reliability.html#cb127-9"></a></span>
<span id="cb127-10"><a href="validity-and-reliability.html#cb127-10"></a>  SESOI_range &lt;-<span class="st"> </span>SESOI_upper <span class="op">-</span><span class="st"> </span>SESOI_lower</span>
<span id="cb127-11"><a href="validity-and-reliability.html#cb127-11"></a></span>
<span id="cb127-12"><a href="validity-and-reliability.html#cb127-12"></a>  olp_model &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">OLP_regression</span>(</span>
<span id="cb127-13"><a href="validity-and-reliability.html#cb127-13"></a>    <span class="dt">outcome =</span> criterion_obs,</span>
<span id="cb127-14"><a href="validity-and-reliability.html#cb127-14"></a>    <span class="dt">predictor =</span> practical_obs,</span>
<span id="cb127-15"><a href="validity-and-reliability.html#cb127-15"></a>    <span class="dt">na.rm =</span> na.rm)</span>
<span id="cb127-16"><a href="validity-and-reliability.html#cb127-16"></a></span>
<span id="cb127-17"><a href="validity-and-reliability.html#cb127-17"></a>  n_obs &lt;-<span class="st"> </span><span class="kw">length</span>(criterion_obs)</span>
<span id="cb127-18"><a href="validity-and-reliability.html#cb127-18"></a></span>
<span id="cb127-19"><a href="validity-and-reliability.html#cb127-19"></a>  intercept &lt;-<span class="st"> </span>olp_model<span class="op">$</span>intercept</span>
<span id="cb127-20"><a href="validity-and-reliability.html#cb127-20"></a>  slope &lt;-<span class="st"> </span>olp_model<span class="op">$</span>slope</span>
<span id="cb127-21"><a href="validity-and-reliability.html#cb127-21"></a>  rse &lt;-<span class="st"> </span>olp_model<span class="op">$</span>rse</span>
<span id="cb127-22"><a href="validity-and-reliability.html#cb127-22"></a></span>
<span id="cb127-23"><a href="validity-and-reliability.html#cb127-23"></a>  PPER &lt;-<span class="st"> </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_upper) <span class="op">/</span><span class="st"> </span>rse, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">-</span></span>
<span id="cb127-24"><a href="validity-and-reliability.html#cb127-24"></a><span class="st">    </span>stats<span class="op">::</span><span class="kw">pt</span>((SESOI_lower) <span class="op">/</span><span class="st"> </span>rse, <span class="dt">df =</span> n_obs <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb127-25"><a href="validity-and-reliability.html#cb127-25"></a></span>
<span id="cb127-26"><a href="validity-and-reliability.html#cb127-26"></a>  <span class="kw">c</span>(</span>
<span id="cb127-27"><a href="validity-and-reliability.html#cb127-27"></a>    <span class="st">&quot;Intercept&quot;</span> =<span class="st"> </span>intercept,</span>
<span id="cb127-28"><a href="validity-and-reliability.html#cb127-28"></a>    <span class="st">&quot;Slope&quot;</span> =<span class="st"> </span>slope,</span>
<span id="cb127-29"><a href="validity-and-reliability.html#cb127-29"></a>    <span class="st">&quot;RSE&quot;</span> =<span class="st"> </span>rse,</span>
<span id="cb127-30"><a href="validity-and-reliability.html#cb127-30"></a>    <span class="dt">PPER =</span> PPER</span>
<span id="cb127-31"><a href="validity-and-reliability.html#cb127-31"></a>  )</span>
<span id="cb127-32"><a href="validity-and-reliability.html#cb127-32"></a>}</span>
<span id="cb127-33"><a href="validity-and-reliability.html#cb127-33"></a></span>
<span id="cb127-34"><a href="validity-and-reliability.html#cb127-34"></a></span>
<span id="cb127-35"><a href="validity-and-reliability.html#cb127-35"></a><span class="kw">olp_method</span>(</span>
<span id="cb127-36"><a href="validity-and-reliability.html#cb127-36"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb127-37"><a href="validity-and-reliability.html#cb127-37"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb127-38"><a href="validity-and-reliability.html#cb127-38"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb127-39"><a href="validity-and-reliability.html#cb127-39"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb127-40"><a href="validity-and-reliability.html#cb127-40"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb127-41"><a href="validity-and-reliability.html#cb127-41"></a>)</span>
<span id="cb127-42"><a href="validity-and-reliability.html#cb127-42"></a><span class="co">#&gt;  Intercept      Slope        RSE       PPER </span></span>
<span id="cb127-43"><a href="validity-and-reliability.html#cb127-43"></a><span class="co">#&gt; -0.5024828  1.0095568  0.2644390  1.0000000</span></span></code></pre></div>
<p>To estimate 95% CIs for these estimators, use the <em>default</em> <code>bmbstats::validity_analysis</code>:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="validity-and-reliability.html#cb128-1"></a>olp_validity &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb128-2"><a href="validity-and-reliability.html#cb128-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb128-3"><a href="validity-and-reliability.html#cb128-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb128-4"><a href="validity-and-reliability.html#cb128-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb128-5"><a href="validity-and-reliability.html#cb128-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb128-6"><a href="validity-and-reliability.html#cb128-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb128-7"><a href="validity-and-reliability.html#cb128-7"></a>  <span class="dt">estimator_function =</span> olp_method,</span>
<span id="cb128-8"><a href="validity-and-reliability.html#cb128-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb128-9"><a href="validity-and-reliability.html#cb128-9"></a>)</span>
<span id="cb128-10"><a href="validity-and-reliability.html#cb128-10"></a></span>
<span id="cb128-11"><a href="validity-and-reliability.html#cb128-11"></a>olp_validity</span>
<span id="cb128-12"><a href="validity-and-reliability.html#cb128-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb128-13"><a href="validity-and-reliability.html#cb128-13"></a><span class="co">#&gt; </span></span>
<span id="cb128-14"><a href="validity-and-reliability.html#cb128-14"></a><span class="co">#&gt;  estimator      value      lower     upper</span></span>
<span id="cb128-15"><a href="validity-and-reliability.html#cb128-15"></a><span class="co">#&gt;  Intercept -0.5024828 -1.1085643 0.7298272</span></span>
<span id="cb128-16"><a href="validity-and-reliability.html#cb128-16"></a><span class="co">#&gt;      Slope  1.0095568  0.9843866 1.0226211</span></span>
<span id="cb128-17"><a href="validity-and-reliability.html#cb128-17"></a><span class="co">#&gt;        RSE  0.2644390  0.1859924 0.3579299</span></span>
<span id="cb128-18"><a href="validity-and-reliability.html#cb128-18"></a><span class="co">#&gt;       PPER  1.0000000  0.9999988 1.0000000</span></span></code></pre></div>
</div>
<div id="what-happens-if-we-flip-the-variables" class="section level4" number="15.2.1.4">
<h4><span class="header-section-number">15.2.1.4</span> What happens if we flip the variables?</h4>
<p>In the DGP we have used true scores to generate both criterion and practical measures, thus using true score as predictor (x-variable) and criterion as the outcome (y-variable) is valid approach to re-create the DGP parameters. Please note that <code>bmbstats::validity_analysis</code> uses <code>practical</code> parameter as predictor (x-variable) and <code>criterion</code> parameter as outcome variable (y-variable).</p>
<p>But in the real life (as we will soon see when using criterion and practical measures) we do not know the true scores and we might be interested in <em>predicting</em> criterion from the practical measures. Let’s see what happens when we flip the predictor and outcome for all three methods:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="validity-and-reliability.html#cb129-1"></a>difference_validity_flip &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb129-2"><a href="validity-and-reliability.html#cb129-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb129-3"><a href="validity-and-reliability.html#cb129-3"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb129-4"><a href="validity-and-reliability.html#cb129-4"></a>  <span class="dt">criterion =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb129-5"><a href="validity-and-reliability.html#cb129-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb129-6"><a href="validity-and-reliability.html#cb129-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb129-7"><a href="validity-and-reliability.html#cb129-7"></a>  <span class="dt">estimator_function =</span> differences_method,</span>
<span id="cb129-8"><a href="validity-and-reliability.html#cb129-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb129-9"><a href="validity-and-reliability.html#cb129-9"></a>)</span>
<span id="cb129-10"><a href="validity-and-reliability.html#cb129-10"></a></span>
<span id="cb129-11"><a href="validity-and-reliability.html#cb129-11"></a>difference_validity_flip</span>
<span id="cb129-12"><a href="validity-and-reliability.html#cb129-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb129-13"><a href="validity-and-reliability.html#cb129-13"></a><span class="co">#&gt; </span></span>
<span id="cb129-14"><a href="validity-and-reliability.html#cb129-14"></a><span class="co">#&gt;  estimator      value       lower     upper</span></span>
<span id="cb129-15"><a href="validity-and-reliability.html#cb129-15"></a><span class="co">#&gt;  Mean diff 0.07726199 -0.04312759 0.1768739</span></span>
<span id="cb129-16"><a href="validity-and-reliability.html#cb129-16"></a><span class="co">#&gt;    SD diff 0.26125825  0.19648887 0.3457962</span></span>
<span id="cb129-17"><a href="validity-and-reliability.html#cb129-17"></a><span class="co">#&gt;       PPER 0.99999999  0.99999933 1.0000000</span></span></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="validity-and-reliability.html#cb130-1"></a>lm_validity_flip &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb130-2"><a href="validity-and-reliability.html#cb130-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb130-3"><a href="validity-and-reliability.html#cb130-3"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb130-4"><a href="validity-and-reliability.html#cb130-4"></a>  <span class="dt">criterion =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb130-5"><a href="validity-and-reliability.html#cb130-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb130-6"><a href="validity-and-reliability.html#cb130-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb130-7"><a href="validity-and-reliability.html#cb130-7"></a>  <span class="dt">estimator_function =</span> lm_method,</span>
<span id="cb130-8"><a href="validity-and-reliability.html#cb130-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb130-9"><a href="validity-and-reliability.html#cb130-9"></a>)</span>
<span id="cb130-10"><a href="validity-and-reliability.html#cb130-10"></a></span>
<span id="cb130-11"><a href="validity-and-reliability.html#cb130-11"></a>lm_validity_flip</span>
<span id="cb130-12"><a href="validity-and-reliability.html#cb130-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb130-13"><a href="validity-and-reliability.html#cb130-13"></a><span class="co">#&gt; </span></span>
<span id="cb130-14"><a href="validity-and-reliability.html#cb130-14"></a><span class="co">#&gt;  estimator     value      lower     upper</span></span>
<span id="cb130-15"><a href="validity-and-reliability.html#cb130-15"></a><span class="co">#&gt;  Intercept 0.5472786 -0.6599661 1.1190949</span></span>
<span id="cb130-16"><a href="validity-and-reliability.html#cb130-16"></a><span class="co">#&gt;      Slope 0.9894180  0.9770752 1.0135275</span></span>
<span id="cb130-17"><a href="validity-and-reliability.html#cb130-17"></a><span class="co">#&gt;        RSE 0.2618619  0.1813661 0.3559808</span></span>
<span id="cb130-18"><a href="validity-and-reliability.html#cb130-18"></a><span class="co">#&gt;       PPER 1.0000000  0.9999989 1.0000000</span></span></code></pre></div>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="validity-and-reliability.html#cb131-1"></a>olp_validity_flip &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb131-2"><a href="validity-and-reliability.html#cb131-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb131-3"><a href="validity-and-reliability.html#cb131-3"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb131-4"><a href="validity-and-reliability.html#cb131-4"></a>  <span class="dt">criterion =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb131-5"><a href="validity-and-reliability.html#cb131-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb131-6"><a href="validity-and-reliability.html#cb131-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb131-7"><a href="validity-and-reliability.html#cb131-7"></a>  <span class="dt">estimator_function =</span> olp_method,</span>
<span id="cb131-8"><a href="validity-and-reliability.html#cb131-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb131-9"><a href="validity-and-reliability.html#cb131-9"></a>)</span>
<span id="cb131-10"><a href="validity-and-reliability.html#cb131-10"></a></span>
<span id="cb131-11"><a href="validity-and-reliability.html#cb131-11"></a>olp_validity_flip</span>
<span id="cb131-12"><a href="validity-and-reliability.html#cb131-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb131-13"><a href="validity-and-reliability.html#cb131-13"></a><span class="co">#&gt; </span></span>
<span id="cb131-14"><a href="validity-and-reliability.html#cb131-14"></a><span class="co">#&gt;  estimator     value      lower     upper</span></span>
<span id="cb131-15"><a href="validity-and-reliability.html#cb131-15"></a><span class="co">#&gt;  Intercept 0.4977261 -0.7419619 1.0837733</span></span>
<span id="cb131-16"><a href="validity-and-reliability.html#cb131-16"></a><span class="co">#&gt;      Slope 0.9905337  0.9778841 1.0158849</span></span>
<span id="cb131-17"><a href="validity-and-reliability.html#cb131-17"></a><span class="co">#&gt;        RSE 0.2619357  0.1812142 0.3560398</span></span>
<span id="cb131-18"><a href="validity-and-reliability.html#cb131-18"></a><span class="co">#&gt;       PPER 1.0000000  0.9999989 1.0000000</span></span></code></pre></div>
<p>Let’s combine the result for the random error estimates so we can compare them all:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="validity-and-reliability.html#cb132-1"></a>rand_err_estimates &lt;-<span class="st"> </span><span class="kw">rbind</span>(</span>
<span id="cb132-2"><a href="validity-and-reliability.html#cb132-2"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;Criterion&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;Difference&quot;</span>, difference_validity<span class="op">$</span>estimators[<span class="dv">2</span>, ]),</span>
<span id="cb132-3"><a href="validity-and-reliability.html#cb132-3"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;True&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;Difference&quot;</span>, difference_validity_flip<span class="op">$</span>estimators[<span class="dv">2</span>, ]),</span>
<span id="cb132-4"><a href="validity-and-reliability.html#cb132-4"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;Criterion&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, lm_validity<span class="op">$</span>estimators[<span class="dv">3</span>, ]),</span>
<span id="cb132-5"><a href="validity-and-reliability.html#cb132-5"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;True&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, lm_validity_flip<span class="op">$</span>estimators[<span class="dv">3</span>, ]),</span>
<span id="cb132-6"><a href="validity-and-reliability.html#cb132-6"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;Criterion&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;olp&quot;</span>, olp_validity<span class="op">$</span>estimators[<span class="dv">3</span>, ]),</span>
<span id="cb132-7"><a href="validity-and-reliability.html#cb132-7"></a>  <span class="kw">data.frame</span>(<span class="dt">outcome =</span> <span class="st">&quot;True&quot;</span>, <span class="dt">method =</span> <span class="st">&quot;olp&quot;</span>, olp_validity_flip<span class="op">$</span>estimators[<span class="dv">3</span>, ])</span>
<span id="cb132-8"><a href="validity-and-reliability.html#cb132-8"></a>)</span>
<span id="cb132-9"><a href="validity-and-reliability.html#cb132-9"></a></span>
<span id="cb132-10"><a href="validity-and-reliability.html#cb132-10"></a><span class="kw">print</span>(rand_err_estimates, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</span>
<span id="cb132-11"><a href="validity-and-reliability.html#cb132-11"></a><span class="co">#&gt;    outcome     method estimator     value     lower     upper</span></span>
<span id="cb132-12"><a href="validity-and-reliability.html#cb132-12"></a><span class="co">#&gt;  Criterion Difference   SD diff 0.2612583 0.1964889 0.3457962</span></span>
<span id="cb132-13"><a href="validity-and-reliability.html#cb132-13"></a><span class="co">#&gt;       True Difference   SD diff 0.2612583 0.1964889 0.3457962</span></span>
<span id="cb132-14"><a href="validity-and-reliability.html#cb132-14"></a><span class="co">#&gt;  Criterion         lm       RSE 0.2643645 0.1859689 0.3575745</span></span>
<span id="cb132-15"><a href="validity-and-reliability.html#cb132-15"></a><span class="co">#&gt;       True         lm       RSE 0.2618619 0.1813661 0.3559808</span></span>
<span id="cb132-16"><a href="validity-and-reliability.html#cb132-16"></a><span class="co">#&gt;  Criterion        olp       RSE 0.2644390 0.1859924 0.3579299</span></span>
<span id="cb132-17"><a href="validity-and-reliability.html#cb132-17"></a><span class="co">#&gt;       True        olp       RSE 0.2619357 0.1812142 0.3560398</span></span></code></pre></div>
<p>As can be seen from the table, the estimates for the random error component of the criterion measure are very similar (although <code>SD diff</code> is smaller due dividing by <span class="math inline">\(N-1\)</span>, while <code>RSE</code> uses <span class="math inline">\(N-k-1\)</span>, where k is number of predictors, thus we get <span class="math inline">\(N-2\)</span>) regardless of the method and which variable is the predictor and which is outcome. But this is the case since true score is the <em>true score</em> without measurement error. Let’s see what happens in the <em>real-world</em>.</p>
</div>
</div>
<div id="practical-vs-criterion" class="section level3" number="15.2.2">
<h3><span class="header-section-number">15.2.2</span> Practical vs Criterion</h3>
<p>In the real-world, we do not know the true scores. We can only use some type of the gold standard measure. In our DGP simulation we have generated both criterion and practical measures using the known true scores and measurement error for the each measure.</p>
<p><img src="figures/validity-analysis.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Let’s check if we can re-create DGP parameters for the practical measure (which has both proportional and fixed bias, as well as larger random error than criterion) using the criterion score. Here is the scatter plot of the two:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="validity-and-reliability.html#cb133-1"></a><span class="kw">ggplot</span>(</span>
<span id="cb133-2"><a href="validity-and-reliability.html#cb133-2"></a>  agreement_data,</span>
<span id="cb133-3"><a href="validity-and-reliability.html#cb133-3"></a>  <span class="kw">aes</span>(</span>
<span id="cb133-4"><a href="validity-and-reliability.html#cb133-4"></a>    <span class="dt">x =</span> True_score,</span>
<span id="cb133-5"><a href="validity-and-reliability.html#cb133-5"></a>    <span class="dt">y =</span> Practical_score.trial1</span>
<span id="cb133-6"><a href="validity-and-reliability.html#cb133-6"></a>  )</span>
<span id="cb133-7"><a href="validity-and-reliability.html#cb133-7"></a>) <span class="op">+</span></span>
<span id="cb133-8"><a href="validity-and-reliability.html#cb133-8"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb133-9"><a href="validity-and-reliability.html#cb133-9"></a><span class="st">  </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To re-create DGP for the practical measure, we need to use true score as the predictor (since that is how we have generated the practical scores). Let’s use the simple linear regression method to do so:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="validity-and-reliability.html#cb134-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_lm</span>(</span>
<span id="cb134-2"><a href="validity-and-reliability.html#cb134-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>True_score,</span>
<span id="cb134-3"><a href="validity-and-reliability.html#cb134-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Practical_score.trial1,</span>
<span id="cb134-4"><a href="validity-and-reliability.html#cb134-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;True Score&quot;</span>,</span>
<span id="cb134-5"><a href="validity-and-reliability.html#cb134-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Practical Score&quot;</span></span>
<span id="cb134-6"><a href="validity-and-reliability.html#cb134-6"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>And let’s estimate the 95% bootstrap confidence intervals:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="validity-and-reliability.html#cb135-1"></a>lm_validity_practical &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb135-2"><a href="validity-and-reliability.html#cb135-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb135-3"><a href="validity-and-reliability.html#cb135-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb135-4"><a href="validity-and-reliability.html#cb135-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb135-5"><a href="validity-and-reliability.html#cb135-5"></a>  <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb135-6"><a href="validity-and-reliability.html#cb135-6"></a>  <span class="dt">SESOI_upper =</span> <span class="ot">NA</span>,</span>
<span id="cb135-7"><a href="validity-and-reliability.html#cb135-7"></a>  <span class="dt">estimator_function =</span> lm_method,</span>
<span id="cb135-8"><a href="validity-and-reliability.html#cb135-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb135-9"><a href="validity-and-reliability.html#cb135-9"></a>)</span>
<span id="cb135-10"><a href="validity-and-reliability.html#cb135-10"></a></span>
<span id="cb135-11"><a href="validity-and-reliability.html#cb135-11"></a>lm_validity_practical</span>
<span id="cb135-12"><a href="validity-and-reliability.html#cb135-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb135-13"><a href="validity-and-reliability.html#cb135-13"></a><span class="co">#&gt; </span></span>
<span id="cb135-14"><a href="validity-and-reliability.html#cb135-14"></a><span class="co">#&gt;  estimator     value     lower    upper</span></span>
<span id="cb135-15"><a href="validity-and-reliability.html#cb135-15"></a><span class="co">#&gt;  Intercept 4.7157542 0.6929173 7.345273</span></span>
<span id="cb135-16"><a href="validity-and-reliability.html#cb135-16"></a><span class="co">#&gt;      Slope 1.0386315 0.9758422 1.132740</span></span>
<span id="cb135-17"><a href="validity-and-reliability.html#cb135-17"></a><span class="co">#&gt;        RSE 0.8518886 0.6168049 1.304054</span></span>
<span id="cb135-18"><a href="validity-and-reliability.html#cb135-18"></a><span class="co">#&gt;       PPER        NA        NA       NA</span></span></code></pre></div>
<p>In our DGP, we have used fixed bias equal to 2cm, proportional bias equal to 1.1, and random error equal to 1cm to generate the practical scores. As can be seen from results, our 95% CI captured the true DGP parameter values.</p>
<p>Unfortunately, we have to use the criterion measure, since we do not know the true scores. Let’s check the results:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="validity-and-reliability.html#cb136-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_lm</span>(</span>
<span id="cb136-2"><a href="validity-and-reliability.html#cb136-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb136-3"><a href="validity-and-reliability.html#cb136-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Practical_score.trial1,</span>
<span id="cb136-4"><a href="validity-and-reliability.html#cb136-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Criterion Score&quot;</span>,</span>
<span id="cb136-5"><a href="validity-and-reliability.html#cb136-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Practical Score&quot;</span></span>
<span id="cb136-6"><a href="validity-and-reliability.html#cb136-6"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>And let’s estimate the bootstrap 95% CIs:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="validity-and-reliability.html#cb137-1"></a>lm_validity_practical_criterion &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb137-2"><a href="validity-and-reliability.html#cb137-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb137-3"><a href="validity-and-reliability.html#cb137-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb137-4"><a href="validity-and-reliability.html#cb137-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb137-5"><a href="validity-and-reliability.html#cb137-5"></a>  <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb137-6"><a href="validity-and-reliability.html#cb137-6"></a>  <span class="dt">SESOI_upper =</span> <span class="ot">NA</span>,</span>
<span id="cb137-7"><a href="validity-and-reliability.html#cb137-7"></a>  <span class="dt">estimator_function =</span> lm_method,</span>
<span id="cb137-8"><a href="validity-and-reliability.html#cb137-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb137-9"><a href="validity-and-reliability.html#cb137-9"></a>)</span>
<span id="cb137-10"><a href="validity-and-reliability.html#cb137-10"></a></span>
<span id="cb137-11"><a href="validity-and-reliability.html#cb137-11"></a>lm_validity_practical_criterion</span>
<span id="cb137-12"><a href="validity-and-reliability.html#cb137-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb137-13"><a href="validity-and-reliability.html#cb137-13"></a><span class="co">#&gt; </span></span>
<span id="cb137-14"><a href="validity-and-reliability.html#cb137-14"></a><span class="co">#&gt;  estimator     value     lower    upper</span></span>
<span id="cb137-15"><a href="validity-and-reliability.html#cb137-15"></a><span class="co">#&gt;  Intercept 5.3054383 0.8089323 8.054704</span></span>
<span id="cb137-16"><a href="validity-and-reliability.html#cb137-16"></a><span class="co">#&gt;      Slope 1.0271620 0.9616332 1.126357</span></span>
<span id="cb137-17"><a href="validity-and-reliability.html#cb137-17"></a><span class="co">#&gt;        RSE 0.9111659 0.7303417 1.224814</span></span>
<span id="cb137-18"><a href="validity-and-reliability.html#cb137-18"></a><span class="co">#&gt;       PPER        NA        NA       NA</span></span></code></pre></div>
<p>Since criterion measure (in this case used as predictor, or x-variable) also contains random error, OLP method can be used instead:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="validity-and-reliability.html#cb138-1"></a>olp_validity_practical_criterion &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb138-2"><a href="validity-and-reliability.html#cb138-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb138-3"><a href="validity-and-reliability.html#cb138-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb138-4"><a href="validity-and-reliability.html#cb138-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb138-5"><a href="validity-and-reliability.html#cb138-5"></a>  <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb138-6"><a href="validity-and-reliability.html#cb138-6"></a>  <span class="dt">SESOI_upper =</span> <span class="ot">NA</span>,</span>
<span id="cb138-7"><a href="validity-and-reliability.html#cb138-7"></a>  <span class="dt">estimator_function =</span> olp_method,</span>
<span id="cb138-8"><a href="validity-and-reliability.html#cb138-8"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb138-9"><a href="validity-and-reliability.html#cb138-9"></a>)</span>
<span id="cb138-10"><a href="validity-and-reliability.html#cb138-10"></a></span>
<span id="cb138-11"><a href="validity-and-reliability.html#cb138-11"></a>olp_validity_practical_criterion</span>
<span id="cb138-12"><a href="validity-and-reliability.html#cb138-12"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb138-13"><a href="validity-and-reliability.html#cb138-13"></a><span class="co">#&gt; </span></span>
<span id="cb138-14"><a href="validity-and-reliability.html#cb138-14"></a><span class="co">#&gt;  estimator     value      lower    upper</span></span>
<span id="cb138-15"><a href="validity-and-reliability.html#cb138-15"></a><span class="co">#&gt;  Intercept 4.7308268 -0.1090732 7.659421</span></span>
<span id="cb138-16"><a href="validity-and-reliability.html#cb138-16"></a><span class="co">#&gt;      Slope 1.0400989  0.9737440 1.150441</span></span>
<span id="cb138-17"><a href="validity-and-reliability.html#cb138-17"></a><span class="co">#&gt;        RSE 0.9140125  0.7314260 1.235110</span></span>
<span id="cb138-18"><a href="validity-and-reliability.html#cb138-18"></a><span class="co">#&gt;       PPER        NA         NA       NA</span></span></code></pre></div>
<p>Let’s combine the three approaches so we can compare them more easily with the true DGP parameter values:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="validity-and-reliability.html#cb139-1"></a>practical_estimators &lt;-<span class="st"> </span><span class="kw">rbind</span>(</span>
<span id="cb139-2"><a href="validity-and-reliability.html#cb139-2"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb139-3"><a href="validity-and-reliability.html#cb139-3"></a>    <span class="dt">method =</span> <span class="st">&quot;DGP&quot;</span>,</span>
<span id="cb139-4"><a href="validity-and-reliability.html#cb139-4"></a>    <span class="dt">estimator =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>),</span>
<span id="cb139-5"><a href="validity-and-reliability.html#cb139-5"></a>    <span class="dt">value =</span> <span class="kw">c</span>(practical_fixed, practical_proportional, practical_random),</span>
<span id="cb139-6"><a href="validity-and-reliability.html#cb139-6"></a>    <span class="dt">lower =</span> <span class="ot">NA</span>,</span>
<span id="cb139-7"><a href="validity-and-reliability.html#cb139-7"></a>    <span class="dt">upper =</span> <span class="ot">NA</span></span>
<span id="cb139-8"><a href="validity-and-reliability.html#cb139-8"></a>  ),</span>
<span id="cb139-9"><a href="validity-and-reliability.html#cb139-9"></a>  <span class="kw">data.frame</span>(<span class="dt">method =</span> <span class="st">&quot;True lm&quot;</span>, lm_validity_practical<span class="op">$</span>estimators[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, ]),</span>
<span id="cb139-10"><a href="validity-and-reliability.html#cb139-10"></a>  <span class="kw">data.frame</span>(<span class="dt">method =</span> <span class="st">&quot;Criterion lm&quot;</span>, lm_validity_practical_criterion<span class="op">$</span>estimators[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, ]),</span>
<span id="cb139-11"><a href="validity-and-reliability.html#cb139-11"></a>  <span class="kw">data.frame</span>(<span class="dt">method =</span> <span class="st">&quot;Criterion olp&quot;</span>, olp_validity_practical_criterion<span class="op">$</span>estimators[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, ])</span>
<span id="cb139-12"><a href="validity-and-reliability.html#cb139-12"></a>)</span>
<span id="cb139-13"><a href="validity-and-reliability.html#cb139-13"></a></span>
<span id="cb139-14"><a href="validity-and-reliability.html#cb139-14"></a>practical_estimators<span class="op">$</span>method &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb139-15"><a href="validity-and-reliability.html#cb139-15"></a>  practical_estimators<span class="op">$</span>method,</span>
<span id="cb139-16"><a href="validity-and-reliability.html#cb139-16"></a>  <span class="dt">levels =</span> <span class="kw">rev</span>(<span class="kw">c</span>(<span class="st">&quot;DGP&quot;</span>, <span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>))</span>
<span id="cb139-17"><a href="validity-and-reliability.html#cb139-17"></a>)</span>
<span id="cb139-18"><a href="validity-and-reliability.html#cb139-18"></a></span>
<span id="cb139-19"><a href="validity-and-reliability.html#cb139-19"></a>practical_estimators<span class="op">$</span>estimator &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb139-20"><a href="validity-and-reliability.html#cb139-20"></a>  practical_estimators<span class="op">$</span>estimator,</span>
<span id="cb139-21"><a href="validity-and-reliability.html#cb139-21"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>)</span>
<span id="cb139-22"><a href="validity-and-reliability.html#cb139-22"></a>)</span>
<span id="cb139-23"><a href="validity-and-reliability.html#cb139-23"></a></span>
<span id="cb139-24"><a href="validity-and-reliability.html#cb139-24"></a><span class="kw">print</span>(practical_estimators, <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</span>
<span id="cb139-25"><a href="validity-and-reliability.html#cb139-25"></a><span class="co">#&gt;         method estimator     value      lower    upper</span></span>
<span id="cb139-26"><a href="validity-and-reliability.html#cb139-26"></a><span class="co">#&gt;            DGP Intercept 2.0000000         NA       NA</span></span>
<span id="cb139-27"><a href="validity-and-reliability.html#cb139-27"></a><span class="co">#&gt;            DGP     Slope 1.1000000         NA       NA</span></span>
<span id="cb139-28"><a href="validity-and-reliability.html#cb139-28"></a><span class="co">#&gt;            DGP       RSE 1.0000000         NA       NA</span></span>
<span id="cb139-29"><a href="validity-and-reliability.html#cb139-29"></a><span class="co">#&gt;        True lm Intercept 4.7157542  0.6929173 7.345273</span></span>
<span id="cb139-30"><a href="validity-and-reliability.html#cb139-30"></a><span class="co">#&gt;        True lm     Slope 1.0386315  0.9758422 1.132740</span></span>
<span id="cb139-31"><a href="validity-and-reliability.html#cb139-31"></a><span class="co">#&gt;        True lm       RSE 0.8518886  0.6168049 1.304054</span></span>
<span id="cb139-32"><a href="validity-and-reliability.html#cb139-32"></a><span class="co">#&gt;   Criterion lm Intercept 5.3054383  0.8089323 8.054704</span></span>
<span id="cb139-33"><a href="validity-and-reliability.html#cb139-33"></a><span class="co">#&gt;   Criterion lm     Slope 1.0271620  0.9616332 1.126357</span></span>
<span id="cb139-34"><a href="validity-and-reliability.html#cb139-34"></a><span class="co">#&gt;   Criterion lm       RSE 0.9111659  0.7303417 1.224814</span></span>
<span id="cb139-35"><a href="validity-and-reliability.html#cb139-35"></a><span class="co">#&gt;  Criterion olp Intercept 4.7308268 -0.1090732 7.659421</span></span>
<span id="cb139-36"><a href="validity-and-reliability.html#cb139-36"></a><span class="co">#&gt;  Criterion olp     Slope 1.0400989  0.9737440 1.150441</span></span>
<span id="cb139-37"><a href="validity-and-reliability.html#cb139-37"></a><span class="co">#&gt;  Criterion olp       RSE 0.9140125  0.7314260 1.235110</span></span></code></pre></div>
<p>Or plot for even more easier comparison (red vertical dashed line represent the true DGP parameter values):</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="validity-and-reliability.html#cb140-1"></a><span class="kw">ggplot</span>(</span>
<span id="cb140-2"><a href="validity-and-reliability.html#cb140-2"></a>  <span class="dt">data =</span> <span class="kw">filter</span>(practical_estimators, method <span class="op">!=</span><span class="st"> &quot;DGP&quot;</span>),</span>
<span id="cb140-3"><a href="validity-and-reliability.html#cb140-3"></a>  <span class="kw">aes</span>(<span class="dt">y =</span> method, <span class="dt">x =</span> value)</span>
<span id="cb140-4"><a href="validity-and-reliability.html#cb140-4"></a>) <span class="op">+</span></span>
<span id="cb140-5"><a href="validity-and-reliability.html#cb140-5"></a><span class="st">  </span><span class="kw">theme_bw</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb140-6"><a href="validity-and-reliability.html#cb140-6"></a><span class="st">  </span><span class="kw">geom_errorbarh</span>(<span class="kw">aes</span>(<span class="dt">xmax =</span> upper, <span class="dt">xmin =</span> lower),</span>
<span id="cb140-7"><a href="validity-and-reliability.html#cb140-7"></a>    <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb140-8"><a href="validity-and-reliability.html#cb140-8"></a>    <span class="dt">height =</span> <span class="dv">0</span></span>
<span id="cb140-9"><a href="validity-and-reliability.html#cb140-9"></a>  ) <span class="op">+</span></span>
<span id="cb140-10"><a href="validity-and-reliability.html#cb140-10"></a><span class="st">  </span><span class="kw">geom_vline</span>(</span>
<span id="cb140-11"><a href="validity-and-reliability.html#cb140-11"></a>    <span class="dt">data =</span> <span class="kw">filter</span>(practical_estimators, method <span class="op">==</span><span class="st"> &quot;DGP&quot;</span>),</span>
<span id="cb140-12"><a href="validity-and-reliability.html#cb140-12"></a>    <span class="kw">aes</span>(<span class="dt">xintercept =</span> value),</span>
<span id="cb140-13"><a href="validity-and-reliability.html#cb140-13"></a>    <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb140-14"><a href="validity-and-reliability.html#cb140-14"></a>  ) <span class="op">+</span></span>
<span id="cb140-15"><a href="validity-and-reliability.html#cb140-15"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb140-16"><a href="validity-and-reliability.html#cb140-16"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb140-17"><a href="validity-and-reliability.html#cb140-17"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;&quot;</span>) <span class="op">+</span></span>
<span id="cb140-18"><a href="validity-and-reliability.html#cb140-18"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>estimator, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-29-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To understand how these methods and how their estimates behave when there is random error in the predictor variable (x-value; criterion in this case), let’s create a quick simulation (see also the SIMEX procedure explained in the <a href="measurement-error.html#what-to-do-when-we-know-the-error">What to do when we know the error?</a> section of the <a href="measurement-error.html#measurement-error">Measurement Error</a> chapter). The DGP parameters of the practical measure will stay the same, but we will change the random error for the criterion score from 0 (i.e. making it essentially the true score), to double th random error of the practical score.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="validity-and-reliability.html#cb141-1"></a>simulation_df &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(</span>
<span id="cb141-2"><a href="validity-and-reliability.html#cb141-2"></a>  <span class="dt">simulation =</span> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">500</span>),</span>
<span id="cb141-3"><a href="validity-and-reliability.html#cb141-3"></a>  <span class="dt">criterion_random_error =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">2</span> <span class="op">*</span><span class="st"> </span>practical_random, <span class="dt">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb141-4"><a href="validity-and-reliability.html#cb141-4"></a>)</span>
<span id="cb141-5"><a href="validity-and-reliability.html#cb141-5"></a></span>
<span id="cb141-6"><a href="validity-and-reliability.html#cb141-6"></a>simulation_df &lt;-<span class="st"> </span>simulation_df <span class="op">%&gt;%</span></span>
<span id="cb141-7"><a href="validity-and-reliability.html#cb141-7"></a><span class="st">  </span><span class="kw">pmap_dfr</span>(<span class="cf">function</span>(...) {</span>
<span id="cb141-8"><a href="validity-and-reliability.html#cb141-8"></a>    current &lt;-<span class="st"> </span><span class="kw">tibble</span>(...)</span>
<span id="cb141-9"><a href="validity-and-reliability.html#cb141-9"></a></span>
<span id="cb141-10"><a href="validity-and-reliability.html#cb141-10"></a>    agreement_data &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb141-11"><a href="validity-and-reliability.html#cb141-11"></a>      <span class="dt">True_score =</span> <span class="kw">rnorm</span>(n_subjects, <span class="dv">45</span>, <span class="dv">5</span>),</span>
<span id="cb141-12"><a href="validity-and-reliability.html#cb141-12"></a>      <span class="dt">Criterion_score.trial1 =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, current<span class="op">$</span>criterion_random_error),</span>
<span id="cb141-13"><a href="validity-and-reliability.html#cb141-13"></a>      <span class="dt">Criterion_score.trial2 =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, current<span class="op">$</span>criterion_random_error),</span>
<span id="cb141-14"><a href="validity-and-reliability.html#cb141-14"></a>      <span class="dt">Practical_score.trial1 =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random),</span>
<span id="cb141-15"><a href="validity-and-reliability.html#cb141-15"></a>      <span class="dt">Practical_score.trial2 =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random)</span>
<span id="cb141-16"><a href="validity-and-reliability.html#cb141-16"></a>    )</span>
<span id="cb141-17"><a href="validity-and-reliability.html#cb141-17"></a>    </span>
<span id="cb141-18"><a href="validity-and-reliability.html#cb141-18"></a>    <span class="kw">cbind</span>(current, agreement_data)</span>
<span id="cb141-19"><a href="validity-and-reliability.html#cb141-19"></a>  })</span>
<span id="cb141-20"><a href="validity-and-reliability.html#cb141-20"></a></span>
<span id="cb141-21"><a href="validity-and-reliability.html#cb141-21"></a><span class="kw">head</span>(simulation_df)</span>
<span id="cb141-22"><a href="validity-and-reliability.html#cb141-22"></a><span class="co">#&gt;   simulation criterion_random_error True_score Criterion_score.trial1</span></span>
<span id="cb141-23"><a href="validity-and-reliability.html#cb141-23"></a><span class="co">#&gt; 1          1                      0   41.44284               41.44284</span></span>
<span id="cb141-24"><a href="validity-and-reliability.html#cb141-24"></a><span class="co">#&gt; 2          1                      0   42.76338               42.76338</span></span>
<span id="cb141-25"><a href="validity-and-reliability.html#cb141-25"></a><span class="co">#&gt; 3          1                      0   39.33558               39.33558</span></span>
<span id="cb141-26"><a href="validity-and-reliability.html#cb141-26"></a><span class="co">#&gt; 4          1                      0   54.14657               54.14657</span></span>
<span id="cb141-27"><a href="validity-and-reliability.html#cb141-27"></a><span class="co">#&gt; 5          1                      0   42.17742               42.17742</span></span>
<span id="cb141-28"><a href="validity-and-reliability.html#cb141-28"></a><span class="co">#&gt; 6          1                      0   50.57845               50.57845</span></span>
<span id="cb141-29"><a href="validity-and-reliability.html#cb141-29"></a><span class="co">#&gt;   Criterion_score.trial2 Practical_score.trial1 Practical_score.trial2</span></span>
<span id="cb141-30"><a href="validity-and-reliability.html#cb141-30"></a><span class="co">#&gt; 1               41.44284               47.36111               47.05610</span></span>
<span id="cb141-31"><a href="validity-and-reliability.html#cb141-31"></a><span class="co">#&gt; 2               42.76338               49.30239               47.59944</span></span>
<span id="cb141-32"><a href="validity-and-reliability.html#cb141-32"></a><span class="co">#&gt; 3               39.33558               46.81175               45.48609</span></span>
<span id="cb141-33"><a href="validity-and-reliability.html#cb141-33"></a><span class="co">#&gt; 4               54.14657               62.99236               62.44907</span></span>
<span id="cb141-34"><a href="validity-and-reliability.html#cb141-34"></a><span class="co">#&gt; 5               42.17742               49.52856               49.12834</span></span>
<span id="cb141-35"><a href="validity-and-reliability.html#cb141-35"></a><span class="co">#&gt; 6               50.57845               56.14485               59.70339</span></span></code></pre></div>
<p>Now, for each simulation, we will estimate the DGP parameters (i.e. intercept, slope, and random error) using simple linear regression and OLP regression using criterion as predictor and practical as the outcome variables.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="validity-and-reliability.html#cb142-1"></a>estimation_wrapper &lt;-<span class="st"> </span><span class="cf">function</span>(data) {</span>
<span id="cb142-2"><a href="validity-and-reliability.html#cb142-2"></a>  lm_true &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb142-3"><a href="validity-and-reliability.html#cb142-3"></a>    <span class="dt">data =</span> data,</span>
<span id="cb142-4"><a href="validity-and-reliability.html#cb142-4"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb142-5"><a href="validity-and-reliability.html#cb142-5"></a>    <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb142-6"><a href="validity-and-reliability.html#cb142-6"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb142-7"><a href="validity-and-reliability.html#cb142-7"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb142-8"><a href="validity-and-reliability.html#cb142-8"></a>  )</span>
<span id="cb142-9"><a href="validity-and-reliability.html#cb142-9"></a></span>
<span id="cb142-10"><a href="validity-and-reliability.html#cb142-10"></a>  lm_criterion &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb142-11"><a href="validity-and-reliability.html#cb142-11"></a>    <span class="dt">data =</span> data,</span>
<span id="cb142-12"><a href="validity-and-reliability.html#cb142-12"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb142-13"><a href="validity-and-reliability.html#cb142-13"></a>    <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb142-14"><a href="validity-and-reliability.html#cb142-14"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb142-15"><a href="validity-and-reliability.html#cb142-15"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb142-16"><a href="validity-and-reliability.html#cb142-16"></a>  )</span>
<span id="cb142-17"><a href="validity-and-reliability.html#cb142-17"></a></span>
<span id="cb142-18"><a href="validity-and-reliability.html#cb142-18"></a>  olp_criterion &lt;-<span class="st"> </span><span class="kw">olp_method</span>(</span>
<span id="cb142-19"><a href="validity-and-reliability.html#cb142-19"></a>    <span class="dt">data =</span> data,</span>
<span id="cb142-20"><a href="validity-and-reliability.html#cb142-20"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb142-21"><a href="validity-and-reliability.html#cb142-21"></a>    <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb142-22"><a href="validity-and-reliability.html#cb142-22"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb142-23"><a href="validity-and-reliability.html#cb142-23"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb142-24"><a href="validity-and-reliability.html#cb142-24"></a>  )</span>
<span id="cb142-25"><a href="validity-and-reliability.html#cb142-25"></a></span>
<span id="cb142-26"><a href="validity-and-reliability.html#cb142-26"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb142-27"><a href="validity-and-reliability.html#cb142-27"></a>    <span class="dt">simulation =</span> data<span class="op">$</span>simulation[<span class="dv">1</span>],</span>
<span id="cb142-28"><a href="validity-and-reliability.html#cb142-28"></a>    <span class="dt">criterion_random_error =</span> data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>],</span>
<span id="cb142-29"><a href="validity-and-reliability.html#cb142-29"></a>    <span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>),</span>
<span id="cb142-30"><a href="validity-and-reliability.html#cb142-30"></a>    <span class="dt">Intercept =</span> <span class="kw">c</span>(lm_true[<span class="dv">1</span>], lm_criterion[<span class="dv">1</span>], olp_criterion[<span class="dv">1</span>]),</span>
<span id="cb142-31"><a href="validity-and-reliability.html#cb142-31"></a>    <span class="dt">Slope =</span> <span class="kw">c</span>(lm_true[<span class="dv">2</span>], lm_criterion[<span class="dv">2</span>], olp_criterion[<span class="dv">2</span>]),</span>
<span id="cb142-32"><a href="validity-and-reliability.html#cb142-32"></a>    <span class="dt">RSE =</span> <span class="kw">c</span>(lm_true[<span class="dv">3</span>], lm_criterion[<span class="dv">3</span>], olp_criterion[<span class="dv">3</span>])</span>
<span id="cb142-33"><a href="validity-and-reliability.html#cb142-33"></a>  )</span>
<span id="cb142-34"><a href="validity-and-reliability.html#cb142-34"></a>}</span>
<span id="cb142-35"><a href="validity-and-reliability.html#cb142-35"></a></span>
<span id="cb142-36"><a href="validity-and-reliability.html#cb142-36"></a>simulation_results &lt;-<span class="st"> </span>simulation_df <span class="op">%&gt;%</span></span>
<span id="cb142-37"><a href="validity-and-reliability.html#cb142-37"></a><span class="st">  </span><span class="kw">group_by</span>(simulation, criterion_random_error) <span class="op">%&gt;%</span></span>
<span id="cb142-38"><a href="validity-and-reliability.html#cb142-38"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">estimation_wrapper</span>(.))</span>
<span id="cb142-39"><a href="validity-and-reliability.html#cb142-39"></a></span>
<span id="cb142-40"><a href="validity-and-reliability.html#cb142-40"></a></span>
<span id="cb142-41"><a href="validity-and-reliability.html#cb142-41"></a><span class="kw">head</span>(simulation_results)</span>
<span id="cb142-42"><a href="validity-and-reliability.html#cb142-42"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb142-43"><a href="validity-and-reliability.html#cb142-43"></a><span class="co">#&gt; # Groups:   simulation, criterion_random_error [2]</span></span>
<span id="cb142-44"><a href="validity-and-reliability.html#cb142-44"></a><span class="co">#&gt;   simulation criterion_random_error method        Intercept Slope   RSE</span></span>
<span id="cb142-45"><a href="validity-and-reliability.html#cb142-45"></a><span class="co">#&gt;        &lt;int&gt;                  &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb142-46"><a href="validity-and-reliability.html#cb142-46"></a><span class="co">#&gt; 1          1                  0     True lm          3.35    1.08 0.949</span></span>
<span id="cb142-47"><a href="validity-and-reliability.html#cb142-47"></a><span class="co">#&gt; 2          1                  0     Criterion lm     3.35    1.08 0.949</span></span>
<span id="cb142-48"><a href="validity-and-reliability.html#cb142-48"></a><span class="co">#&gt; 3          1                  0     Criterion olp    2.83    1.09 0.952</span></span>
<span id="cb142-49"><a href="validity-and-reliability.html#cb142-49"></a><span class="co">#&gt; 4          1                  0.222 True lm         -0.0301  1.14 1.19 </span></span>
<span id="cb142-50"><a href="validity-and-reliability.html#cb142-50"></a><span class="co">#&gt; 5          1                  0.222 Criterion lm    -0.717   1.16 1.15 </span></span>
<span id="cb142-51"><a href="validity-and-reliability.html#cb142-51"></a><span class="co">#&gt; 6          1                  0.222 Criterion olp   -1.38    1.17 1.15</span></span></code></pre></div>
<p>And now we can plot the results:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="validity-and-reliability.html#cb143-1"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">gather</span>(simulation_results, <span class="st">&quot;key&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>))</span>
<span id="cb143-2"><a href="validity-and-reliability.html#cb143-2"></a></span>
<span id="cb143-3"><a href="validity-and-reliability.html#cb143-3"></a><span class="co"># Join the true DGP values for plotting</span></span>
<span id="cb143-4"><a href="validity-and-reliability.html#cb143-4"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">left_join</span>(</span>
<span id="cb143-5"><a href="validity-and-reliability.html#cb143-5"></a>  simulation_results_long,</span>
<span id="cb143-6"><a href="validity-and-reliability.html#cb143-6"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb143-7"><a href="validity-and-reliability.html#cb143-7"></a>    <span class="dt">key =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>),</span>
<span id="cb143-8"><a href="validity-and-reliability.html#cb143-8"></a>    <span class="dt">DGP =</span> <span class="kw">c</span>(practical_fixed, practical_proportional, practical_random)</span>
<span id="cb143-9"><a href="validity-and-reliability.html#cb143-9"></a>  ),</span>
<span id="cb143-10"><a href="validity-and-reliability.html#cb143-10"></a>  <span class="dt">by =</span> <span class="st">&quot;key&quot;</span></span>
<span id="cb143-11"><a href="validity-and-reliability.html#cb143-11"></a>)</span>
<span id="cb143-12"><a href="validity-and-reliability.html#cb143-12"></a></span>
<span id="cb143-13"><a href="validity-and-reliability.html#cb143-13"></a>simulation_results_long<span class="op">$</span>key &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb143-14"><a href="validity-and-reliability.html#cb143-14"></a>  simulation_results_long<span class="op">$</span>key,</span>
<span id="cb143-15"><a href="validity-and-reliability.html#cb143-15"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>)</span>
<span id="cb143-16"><a href="validity-and-reliability.html#cb143-16"></a>)</span>
<span id="cb143-17"><a href="validity-and-reliability.html#cb143-17"></a></span>
<span id="cb143-18"><a href="validity-and-reliability.html#cb143-18"></a>simulation_results_long<span class="op">$</span>method &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb143-19"><a href="validity-and-reliability.html#cb143-19"></a>  simulation_results_long<span class="op">$</span>method,</span>
<span id="cb143-20"><a href="validity-and-reliability.html#cb143-20"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>)</span>
<span id="cb143-21"><a href="validity-and-reliability.html#cb143-21"></a>)</span>
<span id="cb143-22"><a href="validity-and-reliability.html#cb143-22"></a></span>
<span id="cb143-23"><a href="validity-and-reliability.html#cb143-23"></a>simulation_results_long_avg &lt;-<span class="st"> </span>simulation_results_long <span class="op">%&gt;%</span></span>
<span id="cb143-24"><a href="validity-and-reliability.html#cb143-24"></a><span class="st">  </span><span class="kw">group_by</span>(method, criterion_random_error, key) <span class="op">%&gt;%</span></span>
<span id="cb143-25"><a href="validity-and-reliability.html#cb143-25"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb143-26"><a href="validity-and-reliability.html#cb143-26"></a>    <span class="dt">mean =</span> <span class="kw">mean</span>(value),</span>
<span id="cb143-27"><a href="validity-and-reliability.html#cb143-27"></a>    <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span>(<span class="kw">sd</span>(value)),</span>
<span id="cb143-28"><a href="validity-and-reliability.html#cb143-28"></a>    <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span>(<span class="kw">sd</span>(value))</span>
<span id="cb143-29"><a href="validity-and-reliability.html#cb143-29"></a>  )</span>
<span id="cb143-30"><a href="validity-and-reliability.html#cb143-30"></a></span>
<span id="cb143-31"><a href="validity-and-reliability.html#cb143-31"></a><span class="kw">ggplot</span>(</span>
<span id="cb143-32"><a href="validity-and-reliability.html#cb143-32"></a>  simulation_results_long,</span>
<span id="cb143-33"><a href="validity-and-reliability.html#cb143-33"></a>  <span class="kw">aes</span>(<span class="dt">x =</span> criterion_random_error, <span class="dt">y =</span> value, <span class="dt">group =</span> simulation)</span>
<span id="cb143-34"><a href="validity-and-reliability.html#cb143-34"></a>) <span class="op">+</span></span>
<span id="cb143-35"><a href="validity-and-reliability.html#cb143-35"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb143-36"><a href="validity-and-reliability.html#cb143-36"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.02</span>) <span class="op">+</span></span>
<span id="cb143-37"><a href="validity-and-reliability.html#cb143-37"></a><span class="st">  </span><span class="kw">geom_ribbon</span>(</span>
<span id="cb143-38"><a href="validity-and-reliability.html#cb143-38"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb143-39"><a href="validity-and-reliability.html#cb143-39"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb143-40"><a href="validity-and-reliability.html#cb143-40"></a>    <span class="dt">alpha =</span> <span class="fl">0.3</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb143-41"><a href="validity-and-reliability.html#cb143-41"></a>  ) <span class="op">+</span></span>
<span id="cb143-42"><a href="validity-and-reliability.html#cb143-42"></a><span class="st">  </span><span class="kw">geom_line</span>(</span>
<span id="cb143-43"><a href="validity-and-reliability.html#cb143-43"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb143-44"><a href="validity-and-reliability.html#cb143-44"></a>    <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb143-45"><a href="validity-and-reliability.html#cb143-45"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb143-46"><a href="validity-and-reliability.html#cb143-46"></a>    <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb143-47"><a href="validity-and-reliability.html#cb143-47"></a><span class="st">  </span><span class="kw">facet_grid</span>(key <span class="op">~</span><span class="st"> </span>method, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb143-48"><a href="validity-and-reliability.html#cb143-48"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> DGP), <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb143-49"><a href="validity-and-reliability.html#cb143-49"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb143-50"><a href="validity-and-reliability.html#cb143-50"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Criterion random error&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-32-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Red dashed horizontal line on the graph indicate the true DGP parameter value, which we want to estimate. Thin black lines (spaghetti anyone?) indicate simulation results across different levels of random error in the criterion measure. These black lines are summarized with <code>mean</code> (thick white line) ± <code>SD</code> (blue ribbon).</p>
<p>As can be seen, the effect of changing random error in the criterion measure (predictor; x-value), while keeping the same random error in the practical measure (outcome) affects intercept, slope and random error estimates for criterion linear model and criterion OLP model. Intercept, slope, and <code>RSE</code> are only correctly estimated with simple regression model when there is no random error (0 on the x-axis). As the random error increases, both bias (i.e. simulations <code>mean</code>) and variance (i.e. simulations <code>SD</code>) are increased.</p>
<p>When it comes to OLP, due to random error in the practical measure, bias is involved in the intercept and slope estimates when there is no random error in the criterion. Intercept and slope are correctly estimated only when criterion has the same amount of random error as in the practical measure. OLP estimated <code>RSE</code> suffers the same issues as <code>RSE</code> estimated with simple linear model.
Estimating Type I errors using the bootstrapped CIs would involve slower/longer simulation and will not be considered here. Although I can speculate, as can be seen from the graphs, that these will not be constants, particularly for the biased estimators.</p>
<p>What can we do? Well, if we know the random error involved in the criterion score (i.e. predictor) we can <em>adjust</em> slope coefficient (see <em>attenuation effect</em> and slope adjustment explained in great article by Michael Wallace <span class="citation">(Wallace <a href="#ref-wallaceAnalysisImperfectWorld2020" role="doc-biblioref">2020</a>, 17)</span>) or we can perform SIMEX as explained in the <a href="measurement-error.html#measurement-error">Measurement Error</a> chapter. Let’s repeat the simulation, but now let’s use adjusted slope and <code>RSE</code>. <code>RSE</code> is adjusted by deducting known random error: <span class="math inline">\(adjusted \;RSE^2 = estimated \; RSE^2 - known \; random \; error ^2\)</span>. The problem emerges when known random error is larger from the estimated <code>RSE</code>, since we are taking a square root of their squared difference. We thus need to make a function that deals with that:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="validity-and-reliability.html#cb144-1"></a>adjust_RSE &lt;-<span class="st"> </span><span class="cf">function</span>(est_RSE, known_error) {</span>
<span id="cb144-2"><a href="validity-and-reliability.html#cb144-2"></a>  <span class="kw">ifelse</span>(</span>
<span id="cb144-3"><a href="validity-and-reliability.html#cb144-3"></a>    est_RSE <span class="op">&gt;</span><span class="st"> </span>known_error,</span>
<span id="cb144-4"><a href="validity-and-reliability.html#cb144-4"></a>    <span class="kw">sqrt</span>(est_RSE<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span>known_error<span class="op">^</span><span class="dv">2</span>),</span>
<span id="cb144-5"><a href="validity-and-reliability.html#cb144-5"></a>    <span class="op">-</span><span class="kw">sqrt</span>(known_error<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span>est_RSE<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb144-6"><a href="validity-and-reliability.html#cb144-6"></a>  )</span>
<span id="cb144-7"><a href="validity-and-reliability.html#cb144-7"></a>}</span></code></pre></div>
<p>Let’s summarize our simulation using adjusted slope and <code>RSE</code>:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="validity-and-reliability.html#cb145-1"></a>estimation_wrapper &lt;-<span class="st"> </span><span class="cf">function</span>(data) {</span>
<span id="cb145-2"><a href="validity-and-reliability.html#cb145-2"></a>  </span>
<span id="cb145-3"><a href="validity-and-reliability.html#cb145-3"></a>  <span class="co"># Used for slope adjustment</span></span>
<span id="cb145-4"><a href="validity-and-reliability.html#cb145-4"></a>  sd_predictor &lt;-<span class="st"> </span><span class="kw">sd</span>(data<span class="op">$</span>Criterion_score.trial1)</span>
<span id="cb145-5"><a href="validity-and-reliability.html#cb145-5"></a>  criterion_random_error &lt;-<span class="st"> </span>data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>]</span>
<span id="cb145-6"><a href="validity-and-reliability.html#cb145-6"></a>  </span>
<span id="cb145-7"><a href="validity-and-reliability.html#cb145-7"></a>  slope_adj &lt;-<span class="st"> </span>(sd_predictor<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>criterion_random_error<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>sd_predictor<span class="op">^</span><span class="dv">2</span></span>
<span id="cb145-8"><a href="validity-and-reliability.html#cb145-8"></a>  </span>
<span id="cb145-9"><a href="validity-and-reliability.html#cb145-9"></a>  lm_true &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb145-10"><a href="validity-and-reliability.html#cb145-10"></a>    <span class="dt">data =</span> data,</span>
<span id="cb145-11"><a href="validity-and-reliability.html#cb145-11"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb145-12"><a href="validity-and-reliability.html#cb145-12"></a>    <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb145-13"><a href="validity-and-reliability.html#cb145-13"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb145-14"><a href="validity-and-reliability.html#cb145-14"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb145-15"><a href="validity-and-reliability.html#cb145-15"></a>  )</span>
<span id="cb145-16"><a href="validity-and-reliability.html#cb145-16"></a></span>
<span id="cb145-17"><a href="validity-and-reliability.html#cb145-17"></a>  lm_criterion &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb145-18"><a href="validity-and-reliability.html#cb145-18"></a>    <span class="dt">data =</span> data,</span>
<span id="cb145-19"><a href="validity-and-reliability.html#cb145-19"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb145-20"><a href="validity-and-reliability.html#cb145-20"></a>    <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb145-21"><a href="validity-and-reliability.html#cb145-21"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb145-22"><a href="validity-and-reliability.html#cb145-22"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb145-23"><a href="validity-and-reliability.html#cb145-23"></a>  )</span>
<span id="cb145-24"><a href="validity-and-reliability.html#cb145-24"></a></span>
<span id="cb145-25"><a href="validity-and-reliability.html#cb145-25"></a>  olp_criterion &lt;-<span class="st"> </span><span class="kw">olp_method</span>(</span>
<span id="cb145-26"><a href="validity-and-reliability.html#cb145-26"></a>    <span class="dt">data =</span> data,</span>
<span id="cb145-27"><a href="validity-and-reliability.html#cb145-27"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb145-28"><a href="validity-and-reliability.html#cb145-28"></a>    <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb145-29"><a href="validity-and-reliability.html#cb145-29"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb145-30"><a href="validity-and-reliability.html#cb145-30"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb145-31"><a href="validity-and-reliability.html#cb145-31"></a>  )</span>
<span id="cb145-32"><a href="validity-and-reliability.html#cb145-32"></a></span>
<span id="cb145-33"><a href="validity-and-reliability.html#cb145-33"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb145-34"><a href="validity-and-reliability.html#cb145-34"></a>    <span class="dt">simulation =</span> data<span class="op">$</span>simulation[<span class="dv">1</span>],</span>
<span id="cb145-35"><a href="validity-and-reliability.html#cb145-35"></a>    <span class="dt">criterion_random_error =</span> data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>],</span>
<span id="cb145-36"><a href="validity-and-reliability.html#cb145-36"></a>    <span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>),</span>
<span id="cb145-37"><a href="validity-and-reliability.html#cb145-37"></a>    <span class="dt">Intercept =</span> <span class="kw">c</span>(lm_true[<span class="dv">1</span>], lm_criterion[<span class="dv">1</span>], olp_criterion[<span class="dv">1</span>]),</span>
<span id="cb145-38"><a href="validity-and-reliability.html#cb145-38"></a>    <span class="dt">Slope =</span> <span class="kw">c</span>(</span>
<span id="cb145-39"><a href="validity-and-reliability.html#cb145-39"></a>      lm_true[<span class="dv">2</span>],</span>
<span id="cb145-40"><a href="validity-and-reliability.html#cb145-40"></a>      lm_criterion[<span class="dv">2</span>] <span class="op">*</span><span class="st"> </span>slope_adj,</span>
<span id="cb145-41"><a href="validity-and-reliability.html#cb145-41"></a>      olp_criterion[<span class="dv">2</span>] <span class="op">*</span><span class="st"> </span>slope_adj</span>
<span id="cb145-42"><a href="validity-and-reliability.html#cb145-42"></a>      ),</span>
<span id="cb145-43"><a href="validity-and-reliability.html#cb145-43"></a>    <span class="dt">RSE =</span> <span class="kw">c</span>(</span>
<span id="cb145-44"><a href="validity-and-reliability.html#cb145-44"></a>      lm_true[<span class="dv">3</span>],</span>
<span id="cb145-45"><a href="validity-and-reliability.html#cb145-45"></a>      <span class="kw">adjust_RSE</span>(lm_criterion[<span class="dv">3</span>], criterion_random_error),</span>
<span id="cb145-46"><a href="validity-and-reliability.html#cb145-46"></a>      <span class="kw">adjust_RSE</span>(olp_criterion[<span class="dv">3</span>], criterion_random_error)</span>
<span id="cb145-47"><a href="validity-and-reliability.html#cb145-47"></a>      )</span>
<span id="cb145-48"><a href="validity-and-reliability.html#cb145-48"></a>  )</span>
<span id="cb145-49"><a href="validity-and-reliability.html#cb145-49"></a>}</span>
<span id="cb145-50"><a href="validity-and-reliability.html#cb145-50"></a></span>
<span id="cb145-51"><a href="validity-and-reliability.html#cb145-51"></a>simulation_results &lt;-<span class="st"> </span>simulation_df <span class="op">%&gt;%</span></span>
<span id="cb145-52"><a href="validity-and-reliability.html#cb145-52"></a><span class="st">  </span><span class="kw">group_by</span>(simulation, criterion_random_error) <span class="op">%&gt;%</span></span>
<span id="cb145-53"><a href="validity-and-reliability.html#cb145-53"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">estimation_wrapper</span>(.))</span>
<span id="cb145-54"><a href="validity-and-reliability.html#cb145-54"></a></span>
<span id="cb145-55"><a href="validity-and-reliability.html#cb145-55"></a></span>
<span id="cb145-56"><a href="validity-and-reliability.html#cb145-56"></a><span class="kw">head</span>(simulation_results)</span>
<span id="cb145-57"><a href="validity-and-reliability.html#cb145-57"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb145-58"><a href="validity-and-reliability.html#cb145-58"></a><span class="co">#&gt; # Groups:   simulation, criterion_random_error [2]</span></span>
<span id="cb145-59"><a href="validity-and-reliability.html#cb145-59"></a><span class="co">#&gt;   simulation criterion_random_error method        Intercept Slope   RSE</span></span>
<span id="cb145-60"><a href="validity-and-reliability.html#cb145-60"></a><span class="co">#&gt;        &lt;int&gt;                  &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb145-61"><a href="validity-and-reliability.html#cb145-61"></a><span class="co">#&gt; 1          1                  0     True lm          3.35    1.08 0.949</span></span>
<span id="cb145-62"><a href="validity-and-reliability.html#cb145-62"></a><span class="co">#&gt; 2          1                  0     Criterion lm     3.35    1.08 0.949</span></span>
<span id="cb145-63"><a href="validity-and-reliability.html#cb145-63"></a><span class="co">#&gt; 3          1                  0     Criterion olp    2.83    1.09 0.952</span></span>
<span id="cb145-64"><a href="validity-and-reliability.html#cb145-64"></a><span class="co">#&gt; 4          1                  0.222 True lm         -0.0301  1.14 1.19 </span></span>
<span id="cb145-65"><a href="validity-and-reliability.html#cb145-65"></a><span class="co">#&gt; 5          1                  0.222 Criterion lm    -0.717   1.16 1.13 </span></span>
<span id="cb145-66"><a href="validity-and-reliability.html#cb145-66"></a><span class="co">#&gt; 6          1                  0.222 Criterion olp   -1.38    1.17 1.13</span></span></code></pre></div>
<p>And we can plot the results of adjusted slope and <code>RSE</code>:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="validity-and-reliability.html#cb146-1"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">gather</span>(simulation_results, <span class="st">&quot;key&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>))</span>
<span id="cb146-2"><a href="validity-and-reliability.html#cb146-2"></a></span>
<span id="cb146-3"><a href="validity-and-reliability.html#cb146-3"></a><span class="co"># Join the true DGP values for plotting</span></span>
<span id="cb146-4"><a href="validity-and-reliability.html#cb146-4"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">left_join</span>(</span>
<span id="cb146-5"><a href="validity-and-reliability.html#cb146-5"></a>  simulation_results_long,</span>
<span id="cb146-6"><a href="validity-and-reliability.html#cb146-6"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb146-7"><a href="validity-and-reliability.html#cb146-7"></a>    <span class="dt">key =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>),</span>
<span id="cb146-8"><a href="validity-and-reliability.html#cb146-8"></a>    <span class="dt">DGP =</span> <span class="kw">c</span>(practical_fixed, practical_proportional, practical_random)</span>
<span id="cb146-9"><a href="validity-and-reliability.html#cb146-9"></a>  ),</span>
<span id="cb146-10"><a href="validity-and-reliability.html#cb146-10"></a>  <span class="dt">by =</span> <span class="st">&quot;key&quot;</span></span>
<span id="cb146-11"><a href="validity-and-reliability.html#cb146-11"></a>)</span>
<span id="cb146-12"><a href="validity-and-reliability.html#cb146-12"></a></span>
<span id="cb146-13"><a href="validity-and-reliability.html#cb146-13"></a>simulation_results_long<span class="op">$</span>key &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb146-14"><a href="validity-and-reliability.html#cb146-14"></a>  simulation_results_long<span class="op">$</span>key,</span>
<span id="cb146-15"><a href="validity-and-reliability.html#cb146-15"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>)</span>
<span id="cb146-16"><a href="validity-and-reliability.html#cb146-16"></a>)</span>
<span id="cb146-17"><a href="validity-and-reliability.html#cb146-17"></a></span>
<span id="cb146-18"><a href="validity-and-reliability.html#cb146-18"></a>simulation_results_long<span class="op">$</span>method &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb146-19"><a href="validity-and-reliability.html#cb146-19"></a>  simulation_results_long<span class="op">$</span>method,</span>
<span id="cb146-20"><a href="validity-and-reliability.html#cb146-20"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>)</span>
<span id="cb146-21"><a href="validity-and-reliability.html#cb146-21"></a>)</span>
<span id="cb146-22"><a href="validity-and-reliability.html#cb146-22"></a></span>
<span id="cb146-23"><a href="validity-and-reliability.html#cb146-23"></a>simulation_results_long_avg &lt;-<span class="st"> </span>simulation_results_long <span class="op">%&gt;%</span></span>
<span id="cb146-24"><a href="validity-and-reliability.html#cb146-24"></a><span class="st">  </span><span class="kw">group_by</span>(method, criterion_random_error, key) <span class="op">%&gt;%</span></span>
<span id="cb146-25"><a href="validity-and-reliability.html#cb146-25"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb146-26"><a href="validity-and-reliability.html#cb146-26"></a>    <span class="dt">mean =</span> <span class="kw">mean</span>(value),</span>
<span id="cb146-27"><a href="validity-and-reliability.html#cb146-27"></a>    <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span>(<span class="kw">sd</span>(value)),</span>
<span id="cb146-28"><a href="validity-and-reliability.html#cb146-28"></a>    <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span>(<span class="kw">sd</span>(value))</span>
<span id="cb146-29"><a href="validity-and-reliability.html#cb146-29"></a>  )</span>
<span id="cb146-30"><a href="validity-and-reliability.html#cb146-30"></a></span>
<span id="cb146-31"><a href="validity-and-reliability.html#cb146-31"></a><span class="kw">ggplot</span>(</span>
<span id="cb146-32"><a href="validity-and-reliability.html#cb146-32"></a>  simulation_results_long,</span>
<span id="cb146-33"><a href="validity-and-reliability.html#cb146-33"></a>  <span class="kw">aes</span>(<span class="dt">x =</span> criterion_random_error, <span class="dt">y =</span> value, <span class="dt">group =</span> simulation)</span>
<span id="cb146-34"><a href="validity-and-reliability.html#cb146-34"></a>) <span class="op">+</span></span>
<span id="cb146-35"><a href="validity-and-reliability.html#cb146-35"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb146-36"><a href="validity-and-reliability.html#cb146-36"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.02</span>) <span class="op">+</span></span>
<span id="cb146-37"><a href="validity-and-reliability.html#cb146-37"></a><span class="st">  </span><span class="kw">geom_ribbon</span>(</span>
<span id="cb146-38"><a href="validity-and-reliability.html#cb146-38"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb146-39"><a href="validity-and-reliability.html#cb146-39"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb146-40"><a href="validity-and-reliability.html#cb146-40"></a>    <span class="dt">alpha =</span> <span class="fl">0.3</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb146-41"><a href="validity-and-reliability.html#cb146-41"></a>  ) <span class="op">+</span></span>
<span id="cb146-42"><a href="validity-and-reliability.html#cb146-42"></a><span class="st">  </span><span class="kw">geom_line</span>(</span>
<span id="cb146-43"><a href="validity-and-reliability.html#cb146-43"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb146-44"><a href="validity-and-reliability.html#cb146-44"></a>    <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb146-45"><a href="validity-and-reliability.html#cb146-45"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb146-46"><a href="validity-and-reliability.html#cb146-46"></a>    <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb146-47"><a href="validity-and-reliability.html#cb146-47"></a><span class="st">  </span><span class="kw">facet_grid</span>(key <span class="op">~</span><span class="st"> </span>method, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb146-48"><a href="validity-and-reliability.html#cb146-48"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> DGP), <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb146-49"><a href="validity-and-reliability.html#cb146-49"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb146-50"><a href="validity-and-reliability.html#cb146-50"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Criterion random error&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-35-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Using the simple linear regression, we managed to adjust the bias of the slope estimate, although variance still increases with increasing criterion random error (which will probably affect the Type I error rates). Adjustment didn’t help the OLP estimate slope. Adjusting <code>RSE</code> seems to remove the bias for both simple linear regression and OLP, but simulation variance keeps increasing with increase in criterion random error.</p>
<p>As stated beforehand, to estimate bootstrap CIs Type I error-rates, simulation would need to be much computation intensive, since for each simulation we would need to provide bootstrapped CIs to check their coverage (i.e. if they capture the true DGP parameter value or not). I suggest you try that as an example and leave the computer to run for few hours. Playing with these concepts (and simulations) is very helpful to understand statistics (and appreciate its complexity).</p>
<p>This example indicates that it is not that straight forward to re-create DGP parameters of the practical score using the criterion score, even with the known random error. But, at practitioners are we really interested in estimating DGP parameters of the measures?</p>
</div>
<div id="prediction-approach" class="section level3" number="15.2.3">
<h3><span class="header-section-number">15.2.3</span> Prediction approach</h3>
<p>Rather than trying to re-create DGP, we might be interested in predictive performance instead. This implies estimating <em>predictive validity</em> using <em>calibration model</em> (i.e. simple linear regression used so far represent simple calibration model). Sometimes certain measuring devices produce multiple outputs, for example heat, humidity, and pressure readings as well as non-linear readings and we can use all these features as predictors to find a calibration model that provides the best predictive performance.</p>
<p>In our case, we are interested in predicting criterion measure from practical measure. Rather than using <code>lm_method</code> we have written, we can use <em>default</em> estimator function <code>bmbstats::validity_estimators</code>:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="validity-and-reliability.html#cb147-1"></a>lm_criterion_validity &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">validity_analysis</span>(</span>
<span id="cb147-2"><a href="validity-and-reliability.html#cb147-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb147-3"><a href="validity-and-reliability.html#cb147-3"></a>  <span class="dt">practical =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb147-4"><a href="validity-and-reliability.html#cb147-4"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb147-5"><a href="validity-and-reliability.html#cb147-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb147-6"><a href="validity-and-reliability.html#cb147-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb147-7"><a href="validity-and-reliability.html#cb147-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb147-8"><a href="validity-and-reliability.html#cb147-8"></a>)</span>
<span id="cb147-9"><a href="validity-and-reliability.html#cb147-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb147-10"><a href="validity-and-reliability.html#cb147-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb147-11"><a href="validity-and-reliability.html#cb147-11"></a></span>
<span id="cb147-12"><a href="validity-and-reliability.html#cb147-12"></a>lm_criterion_validity</span>
<span id="cb147-13"><a href="validity-and-reliability.html#cb147-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb147-14"><a href="validity-and-reliability.html#cb147-14"></a><span class="co">#&gt; </span></span>
<span id="cb147-15"><a href="validity-and-reliability.html#cb147-15"></a><span class="co">#&gt;     estimator      value      lower     upper</span></span>
<span id="cb147-16"><a href="validity-and-reliability.html#cb147-16"></a><span class="co">#&gt;   SESOI lower -2.5000000         NA        NA</span></span>
<span id="cb147-17"><a href="validity-and-reliability.html#cb147-17"></a><span class="co">#&gt;   SESOI upper  2.5000000         NA        NA</span></span>
<span id="cb147-18"><a href="validity-and-reliability.html#cb147-18"></a><span class="co">#&gt;   SESOI range  5.0000000         NA        NA</span></span>
<span id="cb147-19"><a href="validity-and-reliability.html#cb147-19"></a><span class="co">#&gt;     Intercept -3.9394072 -7.2953389 0.7734320</span></span>
<span id="cb147-20"><a href="validity-and-reliability.html#cb147-20"></a><span class="co">#&gt;         Slope  0.9494885  0.8579138 1.0168839</span></span>
<span id="cb147-21"><a href="validity-and-reliability.html#cb147-21"></a><span class="co">#&gt;           RSE  0.8760378  0.7261416 1.1122760</span></span>
<span id="cb147-22"><a href="validity-and-reliability.html#cb147-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.9875619  0.9763234 0.9935317</span></span>
<span id="cb147-23"><a href="validity-and-reliability.html#cb147-23"></a><span class="co">#&gt;     R Squared  0.9752786  0.9532061 0.9871048</span></span>
<span id="cb147-24"><a href="validity-and-reliability.html#cb147-24"></a><span class="co">#&gt;  SESOI to RSE  5.7075161  4.4952872 6.8897943</span></span>
<span id="cb147-25"><a href="validity-and-reliability.html#cb147-25"></a><span class="co">#&gt;          PPER  0.9898416  0.9633314 0.9972420</span></span>
<span id="cb147-26"><a href="validity-and-reliability.html#cb147-26"></a><span class="co">#&gt;           SDC  1.8335682  1.5198318 2.3280204</span></span></code></pre></div>
<p>Additional estimator in this list is <code>SDC</code>. <code>SDC</code> is the <em>smallest detectable change</em> (see <a href="measurement-error.html#smallest-detectable-change">Smallest Detectable Change</a> section in <a href="measurement-error.html#measurement-error">Measurement Error</a> chapter), and in this case represents the smallest change in the practical measure for which we have at least 95% confidence it involves change in the criterion score. In other words, <code>SDC</code> represents a 95% <em>coverage</em> in the criterion for the same value of practical measure (or same values of the predictors involved, in the case when there is multiple of them). <code>SDC</code> is calculated using <code>RSE</code> and critical threshold using t-distribution to get a 95% coverage (or simply by multiplying <code>RSE</code> with ±1.96).</p>
<p>This is better seen and understood using the residual graph on the panel B below:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="validity-and-reliability.html#cb148-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_lm</span>(</span>
<span id="cb148-2"><a href="validity-and-reliability.html#cb148-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Practical_score.trial1,</span>
<span id="cb148-3"><a href="validity-and-reliability.html#cb148-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb148-4"><a href="validity-and-reliability.html#cb148-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Practical Score&quot;</span>,</span>
<span id="cb148-5"><a href="validity-and-reliability.html#cb148-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score&quot;</span>,</span>
<span id="cb148-6"><a href="validity-and-reliability.html#cb148-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb148-7"><a href="validity-and-reliability.html#cb148-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb148-8"><a href="validity-and-reliability.html#cb148-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-37-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p><code>SDC</code>, or <em>Level of Agreement</em> used in Bland-Altman analysis, is depicted with two horizontal dashed lines. Since these lines are within SESOI bands, this implies that practical measure has outstanding practical prediction validity (after calibration with simple linear regression, in this case to correct for fixed and proportional biases).</p>
<p>“But hold your horses Mladen, we haven’t tested model predictions on hold-out or unseen data!” And you are completely right. Let’s do that using <code>bmbstats::cv_model</code>:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="validity-and-reliability.html#cb149-1"></a>lm_predictive_validity &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">cv_model</span>(</span>
<span id="cb149-2"><a href="validity-and-reliability.html#cb149-2"></a>  Criterion_score.trial1<span class="op">~</span>Practical_score.trial1,</span>
<span id="cb149-3"><a href="validity-and-reliability.html#cb149-3"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb149-4"><a href="validity-and-reliability.html#cb149-4"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb149-5"><a href="validity-and-reliability.html#cb149-5"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb149-6"><a href="validity-and-reliability.html#cb149-6"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">cv_folds =</span> <span class="dv">5</span>, <span class="dt">cv_repeats =</span> <span class="dv">10</span>)</span>
<span id="cb149-7"><a href="validity-and-reliability.html#cb149-7"></a>)</span>
<span id="cb149-8"><a href="validity-and-reliability.html#cb149-8"></a></span>
<span id="cb149-9"><a href="validity-and-reliability.html#cb149-9"></a>lm_predictive_validity</span>
<span id="cb149-10"><a href="validity-and-reliability.html#cb149-10"></a><span class="co">#&gt; Training data consists of 2 predictors and 20 observations. Cross-Validation of the model was performed using 10 repeats of 5 folds.</span></span>
<span id="cb149-11"><a href="validity-and-reliability.html#cb149-11"></a><span class="co">#&gt; </span></span>
<span id="cb149-12"><a href="validity-and-reliability.html#cb149-12"></a><span class="co">#&gt; Model performance:</span></span>
<span id="cb149-13"><a href="validity-and-reliability.html#cb149-13"></a><span class="co">#&gt; </span></span>
<span id="cb149-14"><a href="validity-and-reliability.html#cb149-14"></a><span class="co">#&gt;         metric      training training.pooled testing.pooled        mean</span></span>
<span id="cb149-15"><a href="validity-and-reliability.html#cb149-15"></a><span class="co">#&gt;            MBE  1.882940e-14   -3.925753e-15     0.02821925  0.01349363</span></span>
<span id="cb149-16"><a href="validity-and-reliability.html#cb149-16"></a><span class="co">#&gt;            MAE  7.209755e-01    7.106871e-01     0.80067569  0.79019212</span></span>
<span id="cb149-17"><a href="validity-and-reliability.html#cb149-17"></a><span class="co">#&gt;           RMSE  8.310824e-01    8.191433e-01     0.94237977  0.90134710</span></span>
<span id="cb149-18"><a href="validity-and-reliability.html#cb149-18"></a><span class="co">#&gt;           PPER  9.914445e-01    9.976365e-01     0.99121033  0.91768067</span></span>
<span id="cb149-19"><a href="validity-and-reliability.html#cb149-19"></a><span class="co">#&gt;  SESOI to RMSE  6.016250e+00    6.103938e+00     5.30571663  5.92631136</span></span>
<span id="cb149-20"><a href="validity-and-reliability.html#cb149-20"></a><span class="co">#&gt;      R-squared  9.752786e-01    9.759837e-01     0.96824238  0.83850772</span></span>
<span id="cb149-21"><a href="validity-and-reliability.html#cb149-21"></a><span class="co">#&gt;         MinErr -1.085374e+00   -1.302228e+00    -1.36413113 -0.87328158</span></span>
<span id="cb149-22"><a href="validity-and-reliability.html#cb149-22"></a><span class="co">#&gt;         MaxErr  1.792261e+00    1.901850e+00     2.34556533  0.99120816</span></span>
<span id="cb149-23"><a href="validity-and-reliability.html#cb149-23"></a><span class="co">#&gt;      MaxAbsErr  1.792261e+00    1.901850e+00     2.34556533  1.33156462</span></span>
<span id="cb149-24"><a href="validity-and-reliability.html#cb149-24"></a><span class="co">#&gt;          SD        min        max</span></span>
<span id="cb149-25"><a href="validity-and-reliability.html#cb149-25"></a><span class="co">#&gt;  0.52102607 -1.0035037  1.0131942</span></span>
<span id="cb149-26"><a href="validity-and-reliability.html#cb149-26"></a><span class="co">#&gt;  0.21891902  0.2938133  1.4283624</span></span>
<span id="cb149-27"><a href="validity-and-reliability.html#cb149-27"></a><span class="co">#&gt;  0.23117615  0.4147218  1.5060507</span></span>
<span id="cb149-28"><a href="validity-and-reliability.html#cb149-28"></a><span class="co">#&gt;  0.05265932  0.6919549  0.9885303</span></span>
<span id="cb149-29"><a href="validity-and-reliability.html#cb149-29"></a><span class="co">#&gt;  1.61587442  3.3199413 12.0562748</span></span>
<span id="cb149-30"><a href="validity-and-reliability.html#cb149-30"></a><span class="co">#&gt;  0.56589940 -2.5312392  0.9953966</span></span>
<span id="cb149-31"><a href="validity-and-reliability.html#cb149-31"></a><span class="co">#&gt;  0.40660854 -1.3641311  0.4769940</span></span>
<span id="cb149-32"><a href="validity-and-reliability.html#cb149-32"></a><span class="co">#&gt;  0.71495843 -0.2737126  2.3455653</span></span>
<span id="cb149-33"><a href="validity-and-reliability.html#cb149-33"></a><span class="co">#&gt;  0.43907222  0.7468639  2.3455653</span></span></code></pre></div>
<p>If we check <code>MaxAbsErr</code> we can also see that the maximal absolute error is below SESOI, even for the unseen data, which is outstanding. Using testing <code>RMSE</code> (i.e. mean across CV fold, which is equal to 0.9cm) we can calculate 95% <code>SDC</code> multiplying with 1.96 (or simple heuristic is just doubling the value), which gives us 1.8cm. This implies that using calibrated practical measure score (i.e. predicted criterion score), we are able to predict with 95% confidence at least change equal to 1.8cm, which is below our SESOI of 2.5cm. This concludes that calibrated practical measure has outstanding practical predictive validity of the criterion score and can be used in practice.</p>
</div>
<div id="can-we-adjust-for-the-know-criterion-measure-random-error" class="section level3" number="15.2.4">
<h3><span class="header-section-number">15.2.4</span> Can we adjust for the know criterion measure random error?</h3>
<p>Let’s use our simulated data to check what happens to intercept, slope, and <code>RSE</code> when changing the random error involved in the criterion (which is now a outcome variable). We can also adjust the estimated <code>RSE</code> be deducting known criterion random error. In this case, practical measure will be the predictor (x-variable) and criterion will be outcome (y-variable). Using estimated parameters with true score as outcome variable will be used as a reference.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="validity-and-reliability.html#cb150-1"></a>estimation_wrapper &lt;-<span class="st"> </span><span class="cf">function</span>(data) {</span>
<span id="cb150-2"><a href="validity-and-reliability.html#cb150-2"></a>  lm_true &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb150-3"><a href="validity-and-reliability.html#cb150-3"></a>    <span class="dt">data =</span> data,</span>
<span id="cb150-4"><a href="validity-and-reliability.html#cb150-4"></a>    <span class="dt">practical =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb150-5"><a href="validity-and-reliability.html#cb150-5"></a>    <span class="dt">criterion =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb150-6"><a href="validity-and-reliability.html#cb150-6"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb150-7"><a href="validity-and-reliability.html#cb150-7"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb150-8"><a href="validity-and-reliability.html#cb150-8"></a>  )</span>
<span id="cb150-9"><a href="validity-and-reliability.html#cb150-9"></a></span>
<span id="cb150-10"><a href="validity-and-reliability.html#cb150-10"></a>  lm_criterion &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb150-11"><a href="validity-and-reliability.html#cb150-11"></a>    <span class="dt">data =</span> data,</span>
<span id="cb150-12"><a href="validity-and-reliability.html#cb150-12"></a>    <span class="dt">practical =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb150-13"><a href="validity-and-reliability.html#cb150-13"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb150-14"><a href="validity-and-reliability.html#cb150-14"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb150-15"><a href="validity-and-reliability.html#cb150-15"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb150-16"><a href="validity-and-reliability.html#cb150-16"></a>  )</span>
<span id="cb150-17"><a href="validity-and-reliability.html#cb150-17"></a></span>
<span id="cb150-18"><a href="validity-and-reliability.html#cb150-18"></a>  olp_criterion &lt;-<span class="st"> </span><span class="kw">olp_method</span>(</span>
<span id="cb150-19"><a href="validity-and-reliability.html#cb150-19"></a>    <span class="dt">data =</span> data,</span>
<span id="cb150-20"><a href="validity-and-reliability.html#cb150-20"></a>    <span class="dt">practical =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb150-21"><a href="validity-and-reliability.html#cb150-21"></a>    <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb150-22"><a href="validity-and-reliability.html#cb150-22"></a>    <span class="dt">SESOI_lower =</span> <span class="ot">NA</span>,</span>
<span id="cb150-23"><a href="validity-and-reliability.html#cb150-23"></a>    <span class="dt">SESOI_upper =</span> <span class="ot">NA</span></span>
<span id="cb150-24"><a href="validity-and-reliability.html#cb150-24"></a>  )</span>
<span id="cb150-25"><a href="validity-and-reliability.html#cb150-25"></a>  </span>
<span id="cb150-26"><a href="validity-and-reliability.html#cb150-26"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb150-27"><a href="validity-and-reliability.html#cb150-27"></a>    <span class="dt">simulation =</span> data<span class="op">$</span>simulation[<span class="dv">1</span>],</span>
<span id="cb150-28"><a href="validity-and-reliability.html#cb150-28"></a>    <span class="dt">criterion_random_error =</span> data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>],</span>
<span id="cb150-29"><a href="validity-and-reliability.html#cb150-29"></a>    <span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>,  <span class="st">&quot;Adjusted lm&quot;</span>, <span class="st">&quot;Adjusted olp&quot;</span>),</span>
<span id="cb150-30"><a href="validity-and-reliability.html#cb150-30"></a>    <span class="dt">Intercept =</span> <span class="kw">c</span>(lm_true[<span class="dv">1</span>], lm_criterion[<span class="dv">1</span>], olp_criterion[<span class="dv">1</span>], lm_criterion[<span class="dv">1</span>], olp_criterion[<span class="dv">1</span>]),</span>
<span id="cb150-31"><a href="validity-and-reliability.html#cb150-31"></a>    <span class="dt">Slope =</span> <span class="kw">c</span>(lm_true[<span class="dv">2</span>], lm_criterion[<span class="dv">2</span>], olp_criterion[<span class="dv">2</span>], lm_criterion[<span class="dv">2</span>], olp_criterion[<span class="dv">2</span>]),</span>
<span id="cb150-32"><a href="validity-and-reliability.html#cb150-32"></a>    <span class="dt">RSE =</span> <span class="kw">c</span>(</span>
<span id="cb150-33"><a href="validity-and-reliability.html#cb150-33"></a>      lm_true[<span class="dv">3</span>],</span>
<span id="cb150-34"><a href="validity-and-reliability.html#cb150-34"></a>      lm_criterion[<span class="dv">3</span>],</span>
<span id="cb150-35"><a href="validity-and-reliability.html#cb150-35"></a>      olp_criterion[<span class="dv">3</span>],</span>
<span id="cb150-36"><a href="validity-and-reliability.html#cb150-36"></a>      <span class="kw">adjust_RSE</span>(lm_criterion[<span class="dv">3</span>], data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>]),</span>
<span id="cb150-37"><a href="validity-and-reliability.html#cb150-37"></a>      <span class="kw">adjust_RSE</span>(olp_criterion[<span class="dv">3</span>], data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>])</span>
<span id="cb150-38"><a href="validity-and-reliability.html#cb150-38"></a>      )</span>
<span id="cb150-39"><a href="validity-and-reliability.html#cb150-39"></a>  )</span>
<span id="cb150-40"><a href="validity-and-reliability.html#cb150-40"></a>}</span>
<span id="cb150-41"><a href="validity-and-reliability.html#cb150-41"></a></span>
<span id="cb150-42"><a href="validity-and-reliability.html#cb150-42"></a>simulation_results &lt;-<span class="st"> </span>simulation_df <span class="op">%&gt;%</span></span>
<span id="cb150-43"><a href="validity-and-reliability.html#cb150-43"></a><span class="st">  </span><span class="kw">group_by</span>(simulation, criterion_random_error) <span class="op">%&gt;%</span></span>
<span id="cb150-44"><a href="validity-and-reliability.html#cb150-44"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">estimation_wrapper</span>(.))</span>
<span id="cb150-45"><a href="validity-and-reliability.html#cb150-45"></a></span>
<span id="cb150-46"><a href="validity-and-reliability.html#cb150-46"></a></span>
<span id="cb150-47"><a href="validity-and-reliability.html#cb150-47"></a><span class="kw">head</span>(simulation_results)</span>
<span id="cb150-48"><a href="validity-and-reliability.html#cb150-48"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb150-49"><a href="validity-and-reliability.html#cb150-49"></a><span class="co">#&gt; # Groups:   simulation, criterion_random_error [2]</span></span>
<span id="cb150-50"><a href="validity-and-reliability.html#cb150-50"></a><span class="co">#&gt;   simulation criterion_random_error method        Intercept Slope   RSE</span></span>
<span id="cb150-51"><a href="validity-and-reliability.html#cb150-51"></a><span class="co">#&gt;        &lt;int&gt;                  &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb150-52"><a href="validity-and-reliability.html#cb150-52"></a><span class="co">#&gt; 1          1                  0     True lm           -2.10 0.909 0.873</span></span>
<span id="cb150-53"><a href="validity-and-reliability.html#cb150-53"></a><span class="co">#&gt; 2          1                  0     Criterion lm      -2.10 0.909 0.873</span></span>
<span id="cb150-54"><a href="validity-and-reliability.html#cb150-54"></a><span class="co">#&gt; 3          1                  0     Criterion olp     -2.60 0.920 0.875</span></span>
<span id="cb150-55"><a href="validity-and-reliability.html#cb150-55"></a><span class="co">#&gt; 4          1                  0     Adjusted lm       -2.10 0.909 0.873</span></span>
<span id="cb150-56"><a href="validity-and-reliability.html#cb150-56"></a><span class="co">#&gt; 5          1                  0     Adjusted olp      -2.60 0.920 0.875</span></span>
<span id="cb150-57"><a href="validity-and-reliability.html#cb150-57"></a><span class="co">#&gt; 6          1                  0.222 True lm            1.24 0.852 1.03</span></span></code></pre></div>
<p>And plot the results again:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="validity-and-reliability.html#cb151-1"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">gather</span>(simulation_results, <span class="st">&quot;key&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>))</span>
<span id="cb151-2"><a href="validity-and-reliability.html#cb151-2"></a></span>
<span id="cb151-3"><a href="validity-and-reliability.html#cb151-3"></a>simulation_results_long<span class="op">$</span>key &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb151-4"><a href="validity-and-reliability.html#cb151-4"></a>  simulation_results_long<span class="op">$</span>key,</span>
<span id="cb151-5"><a href="validity-and-reliability.html#cb151-5"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;RSE&quot;</span>)</span>
<span id="cb151-6"><a href="validity-and-reliability.html#cb151-6"></a>)</span>
<span id="cb151-7"><a href="validity-and-reliability.html#cb151-7"></a></span>
<span id="cb151-8"><a href="validity-and-reliability.html#cb151-8"></a>simulation_results_long<span class="op">$</span>method &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb151-9"><a href="validity-and-reliability.html#cb151-9"></a>  simulation_results_long<span class="op">$</span>method,</span>
<span id="cb151-10"><a href="validity-and-reliability.html#cb151-10"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;True lm&quot;</span>, <span class="st">&quot;Criterion lm&quot;</span>, <span class="st">&quot;Criterion olp&quot;</span>, <span class="st">&quot;Adjusted lm&quot;</span>, <span class="st">&quot;Adjusted olp&quot;</span>)</span>
<span id="cb151-11"><a href="validity-and-reliability.html#cb151-11"></a>)</span>
<span id="cb151-12"><a href="validity-and-reliability.html#cb151-12"></a></span>
<span id="cb151-13"><a href="validity-and-reliability.html#cb151-13"></a>simulation_results_long_avg &lt;-<span class="st"> </span>simulation_results_long <span class="op">%&gt;%</span></span>
<span id="cb151-14"><a href="validity-and-reliability.html#cb151-14"></a><span class="st">  </span><span class="kw">group_by</span>(method, criterion_random_error, key) <span class="op">%&gt;%</span></span>
<span id="cb151-15"><a href="validity-and-reliability.html#cb151-15"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb151-16"><a href="validity-and-reliability.html#cb151-16"></a>    <span class="dt">mean =</span> <span class="kw">mean</span>(value),</span>
<span id="cb151-17"><a href="validity-and-reliability.html#cb151-17"></a>    <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span>(<span class="kw">sd</span>(value)),</span>
<span id="cb151-18"><a href="validity-and-reliability.html#cb151-18"></a>    <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span>(<span class="kw">sd</span>(value))</span>
<span id="cb151-19"><a href="validity-and-reliability.html#cb151-19"></a>  )</span>
<span id="cb151-20"><a href="validity-and-reliability.html#cb151-20"></a></span>
<span id="cb151-21"><a href="validity-and-reliability.html#cb151-21"></a><span class="kw">ggplot</span>(</span>
<span id="cb151-22"><a href="validity-and-reliability.html#cb151-22"></a>  simulation_results_long,</span>
<span id="cb151-23"><a href="validity-and-reliability.html#cb151-23"></a>  <span class="kw">aes</span>(<span class="dt">x =</span> criterion_random_error, <span class="dt">y =</span> value, <span class="dt">group =</span> simulation)</span>
<span id="cb151-24"><a href="validity-and-reliability.html#cb151-24"></a>) <span class="op">+</span></span>
<span id="cb151-25"><a href="validity-and-reliability.html#cb151-25"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb151-26"><a href="validity-and-reliability.html#cb151-26"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.02</span>) <span class="op">+</span></span>
<span id="cb151-27"><a href="validity-and-reliability.html#cb151-27"></a><span class="st">  </span><span class="kw">geom_ribbon</span>(</span>
<span id="cb151-28"><a href="validity-and-reliability.html#cb151-28"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb151-29"><a href="validity-and-reliability.html#cb151-29"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb151-30"><a href="validity-and-reliability.html#cb151-30"></a>    <span class="dt">alpha =</span> <span class="fl">0.3</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb151-31"><a href="validity-and-reliability.html#cb151-31"></a>  ) <span class="op">+</span></span>
<span id="cb151-32"><a href="validity-and-reliability.html#cb151-32"></a><span class="st">  </span><span class="kw">geom_line</span>(</span>
<span id="cb151-33"><a href="validity-and-reliability.html#cb151-33"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb151-34"><a href="validity-and-reliability.html#cb151-34"></a>    <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb151-35"><a href="validity-and-reliability.html#cb151-35"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb151-36"><a href="validity-and-reliability.html#cb151-36"></a>    <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb151-37"><a href="validity-and-reliability.html#cb151-37"></a><span class="st">  </span><span class="kw">facet_grid</span>(key <span class="op">~</span><span class="st"> </span>method, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb151-38"><a href="validity-and-reliability.html#cb151-38"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb151-39"><a href="validity-and-reliability.html#cb151-39"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Criterion random error&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-40-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>As can be seen from the figure, <code>RSE</code> for the simple linear regression model (where criterion is the outcome and practical is the predictor) climbs up as criterion random error increases. When using adjusted <code>RSE</code>, up until the point where criterion has lower or equal random error to a practical score, we are able to correctly adjust <code>RSE</code> to give us estimation of the model fit using the true score (which is unknown of course, but we have used known criterion random error).</p>
<p>As can be seen from the figure as well, OLP method provided biased estimates for slope and intercept.</p>
</div>
<div id="estimating-sesoi-for-the-practical-score" class="section level3" number="15.2.5">
<h3><span class="header-section-number">15.2.5</span> Estimating SESOI for the practical score</h3>
<p>So for we have used SESOI of ±2.5cm for both true score and criterion, and it was used to estimate predictive validity of the practical measure (i.e. does residuals fit within SESOI band; i.e. <code>PPER</code>). But we can use outcome variable SESOI to estimate SESOI in the predictor. This way we can estimate the SESOI in the predictor that yields SESOI in the criterion. In the case of simple linear regression, this is done by using estimated slope, by simply dividing outcome (i.e. criterion measure) SESOI with estimated slope:</p>
<p><span class="math display">\[
\begin{aligned}
  SESOI_{outcome} = \beta_1 \times predictor \\
  SESOI_{predictor} = \frac{SESOI_{outcome}}{\beta_1}
\end{aligned}
\]</span></p>
<p>In our validity model where criterion measure is the outcome and practical measure is the predictor, estimated slope is equal to 0.95, thus practical measure SESOI would be ±2.63cm.</p>
<p>This could also be implemented inside the estimator function to provide for bootstrapped confidence intervals.</p>
</div>
</div>
<div id="reliability" class="section level2" number="15.3">
<h2><span class="header-section-number">15.3</span> Reliability</h2>
<p>For a measure to be valid it also needs to be reliable, but for a measure to be reliable it does not necessary needs to be valid (or at least in non-calibrated way). In essence, reliability is about <em>reproducibility</em> and <em>repeatability</em>, or how much measure is in agreement with itself. From prediction modeling perspective, reliability is how well measure predicts itself. From explanatory perspective, reliability is about estimating random error within the DGP (i.e. <code>TE</code> or typical error).</p>
<p>How is reliability evaluated? We need to make a distinction between few methods. When we have compared practical measure to criterion, we assumed criterion to be gold standard without measurement error (i.e. true score). If that analysis showed non-valid performance, it automatically implied that the measurement is unreliable. In short, if practical measure cannot predict the criterion or is not in agreement with the criterion, it cannot be reliable.</p>
<p>Second method is concerned with the scenario when we do not have the criterion or the true score available. Theoretically, we want a measuring instrument of interest to measure the same phenomena multiple times, to check measurement <em>reproducibility</em>. This can be achieved in few ways - we might have a special device that produce perfectly repeatable phenomena that is measured multiple times with one unit. This scenario is simulated within our DGP that we have used so far: the true score stays the same across two trial, which is then estimated with criterion and practical measures.</p>
<p><img src="figures/reproducibility.png" width="50%" style="display: block; margin: auto;" /></p>
<p>But that is easily done in simulations, and not so in real life. The other option is to measure with two or more devices of the the same measuring unit. Thus, each trial is measured with two or more devices. The assumption must be made that the random error in each device is the same. Let’s see how this plays out with our simulated data.</p>
<div id="reproducibility" class="section level3" number="15.3.1">
<h3><span class="header-section-number">15.3.1</span> Reproducibility</h3>
<p>For the purpose of this example, let’s assume that true score is measured with two criterion and two practical measuring devices (or measured twice with <em>perfect repeatability</em> of the true score). Let’s plot these:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="validity-and-reliability.html#cb152-1"></a><span class="kw">ggplot</span>(</span>
<span id="cb152-2"><a href="validity-and-reliability.html#cb152-2"></a>  agreement_data,</span>
<span id="cb152-3"><a href="validity-and-reliability.html#cb152-3"></a>  <span class="kw">aes</span>(</span>
<span id="cb152-4"><a href="validity-and-reliability.html#cb152-4"></a>    <span class="dt">x =</span> Criterion_score.trial2,</span>
<span id="cb152-5"><a href="validity-and-reliability.html#cb152-5"></a>    <span class="dt">y =</span> Criterion_score.trial1</span>
<span id="cb152-6"><a href="validity-and-reliability.html#cb152-6"></a>  )</span>
<span id="cb152-7"><a href="validity-and-reliability.html#cb152-7"></a>) <span class="op">+</span></span>
<span id="cb152-8"><a href="validity-and-reliability.html#cb152-8"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb152-9"><a href="validity-and-reliability.html#cb152-9"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb152-10"><a href="validity-and-reliability.html#cb152-10"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Criterion measure&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-42-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="validity-and-reliability.html#cb153-1"></a><span class="kw">ggplot</span>(</span>
<span id="cb153-2"><a href="validity-and-reliability.html#cb153-2"></a>  agreement_data,</span>
<span id="cb153-3"><a href="validity-and-reliability.html#cb153-3"></a>  <span class="kw">aes</span>(</span>
<span id="cb153-4"><a href="validity-and-reliability.html#cb153-4"></a>    <span class="dt">x =</span> Practical_score.trial2,</span>
<span id="cb153-5"><a href="validity-and-reliability.html#cb153-5"></a>    <span class="dt">y =</span> Practical_score.trial1</span>
<span id="cb153-6"><a href="validity-and-reliability.html#cb153-6"></a>  )</span>
<span id="cb153-7"><a href="validity-and-reliability.html#cb153-7"></a>) <span class="op">+</span></span>
<span id="cb153-8"><a href="validity-and-reliability.html#cb153-8"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb153-9"><a href="validity-and-reliability.html#cb153-9"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb153-10"><a href="validity-and-reliability.html#cb153-10"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Practical measure&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-43-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Let’s check the reproducibility of the criterion measure. Same as with validity analysis, we can use few methods to estimate reproducibility: (1) method of differences (i.e. Bland-Altman), (2) simple linear regression, and (3) OLP regression. When there are more than two trials, there are few options that can be considered, and the simplest it pairwise analysis (i.e. 2-1, 3-2, 4-3 or all combinations; this technique estimates average reproducibility) or use of <em>ANOVA</em> or repeated-measures analysis. These will not be considered in this book.</p>
<p>We can use the functions that we have written already for the validity analysis. Let’s start with the differences analysis by creating Bland-Altman plot:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="validity-and-reliability.html#cb154-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_BA</span>(</span>
<span id="cb154-2"><a href="validity-and-reliability.html#cb154-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Criterion_score.trial2,</span>
<span id="cb154-3"><a href="validity-and-reliability.html#cb154-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb154-4"><a href="validity-and-reliability.html#cb154-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Criterion Score Trial1&quot;</span>,</span>
<span id="cb154-5"><a href="validity-and-reliability.html#cb154-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score Trial2&quot;</span>,</span>
<span id="cb154-6"><a href="validity-and-reliability.html#cb154-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb154-7"><a href="validity-and-reliability.html#cb154-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb154-8"><a href="validity-and-reliability.html#cb154-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-44-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To provide estimators we will use functions that we have already written:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="validity-and-reliability.html#cb155-1"></a>diff_reporoducibility &lt;-<span class="st"> </span><span class="kw">differences_method</span>(</span>
<span id="cb155-2"><a href="validity-and-reliability.html#cb155-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb155-3"><a href="validity-and-reliability.html#cb155-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb155-4"><a href="validity-and-reliability.html#cb155-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb155-5"><a href="validity-and-reliability.html#cb155-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb155-6"><a href="validity-and-reliability.html#cb155-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb155-7"><a href="validity-and-reliability.html#cb155-7"></a>)</span>
<span id="cb155-8"><a href="validity-and-reliability.html#cb155-8"></a></span>
<span id="cb155-9"><a href="validity-and-reliability.html#cb155-9"></a>diff_reporoducibility</span>
<span id="cb155-10"><a href="validity-and-reliability.html#cb155-10"></a><span class="co">#&gt;  Mean diff    SD diff       PPER </span></span>
<span id="cb155-11"><a href="validity-and-reliability.html#cb155-11"></a><span class="co">#&gt; 0.05560546 0.30504044 0.99999988</span></span></code></pre></div>
<p>Please note the true criterion random error used in the DGP, which is equal to 0.3cm and <code>SD diff</code> which is not estimated with <code>SD diff</code>, even if they are similar: 0.31 (this is due to sampling error involved in this particular sample). As explained in <a href="measurement-error.html#measurement-error">Measurement Error</a>, to get the estimate of criterion score random error (i.e. <code>TE</code>), we need to divide <code>SD diff</code> with <span class="math inline">\(\sqrt{2}\)</span>. This is because, random error is involved in both trials, and thus twice in their difference.</p>
<p>Estimated <code>TE</code> is equal to 0.22. If we repeat the validity analysis of the criterion score using true score as predictor, we will get the same and correct estimate:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="validity-and-reliability.html#cb156-1"></a><span class="kw">differences_method</span>(</span>
<span id="cb156-2"><a href="validity-and-reliability.html#cb156-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb156-3"><a href="validity-and-reliability.html#cb156-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb156-4"><a href="validity-and-reliability.html#cb156-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;True_score&quot;</span>,</span>
<span id="cb156-5"><a href="validity-and-reliability.html#cb156-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb156-6"><a href="validity-and-reliability.html#cb156-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb156-7"><a href="validity-and-reliability.html#cb156-7"></a>)</span>
<span id="cb156-8"><a href="validity-and-reliability.html#cb156-8"></a><span class="co">#&gt;   Mean diff     SD diff        PPER </span></span>
<span id="cb156-9"><a href="validity-and-reliability.html#cb156-9"></a><span class="co">#&gt; -0.07726199  0.26125825  0.99999999</span></span></code></pre></div>
<p>The next approach is to use simple linear regression:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="validity-and-reliability.html#cb157-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_lm</span>(</span>
<span id="cb157-2"><a href="validity-and-reliability.html#cb157-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Criterion_score.trial2,</span>
<span id="cb157-3"><a href="validity-and-reliability.html#cb157-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb157-4"><a href="validity-and-reliability.html#cb157-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Criterion Score Trial1&quot;</span>,</span>
<span id="cb157-5"><a href="validity-and-reliability.html#cb157-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score Trial2&quot;</span>,</span>
<span id="cb157-6"><a href="validity-and-reliability.html#cb157-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb157-7"><a href="validity-and-reliability.html#cb157-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb157-8"><a href="validity-and-reliability.html#cb157-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-47-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>We can also use the function we wrote to provide validity analysis using simple linear regression:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="validity-and-reliability.html#cb158-1"></a>lm_reporoducibility &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb158-2"><a href="validity-and-reliability.html#cb158-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb158-3"><a href="validity-and-reliability.html#cb158-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb158-4"><a href="validity-and-reliability.html#cb158-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb158-5"><a href="validity-and-reliability.html#cb158-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb158-6"><a href="validity-and-reliability.html#cb158-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb158-7"><a href="validity-and-reliability.html#cb158-7"></a>)</span>
<span id="cb158-8"><a href="validity-and-reliability.html#cb158-8"></a></span>
<span id="cb158-9"><a href="validity-and-reliability.html#cb158-9"></a>lm_reporoducibility</span>
<span id="cb158-10"><a href="validity-and-reliability.html#cb158-10"></a><span class="co">#&gt;  Intercept      Slope        RSE       PPER </span></span>
<span id="cb158-11"><a href="validity-and-reliability.html#cb158-11"></a><span class="co">#&gt; -0.4298105  1.0109424  0.3075601  0.9999999</span></span></code></pre></div>
<p>To estimate <code>TE</code>, we again need to divide estimated <code>RSE</code> with <span class="math inline">\(\sqrt{2}\)</span>.</p>
<p>THe “problem” with both method of differences and simple linear regression, is that we need to use one variable as predictor and one as the outcome. This is avoided with the OLP approach, although parameters are estimated using one measure as predictor and other as outcome, but as explained previously, product of x- and x-variable residuals are used instead.</p>
<p>Let’s perform the OLP reproducibility plot and analysis using the function we have wrote already:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="validity-and-reliability.html#cb159-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_OLP</span>(</span>
<span id="cb159-2"><a href="validity-and-reliability.html#cb159-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Criterion_score.trial2,</span>
<span id="cb159-3"><a href="validity-and-reliability.html#cb159-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Criterion_score.trial1,</span>
<span id="cb159-4"><a href="validity-and-reliability.html#cb159-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Criterion Score Trial1&quot;</span>,</span>
<span id="cb159-5"><a href="validity-and-reliability.html#cb159-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Criterion Score Trial2&quot;</span>,</span>
<span id="cb159-6"><a href="validity-and-reliability.html#cb159-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb159-7"><a href="validity-and-reliability.html#cb159-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb159-8"><a href="validity-and-reliability.html#cb159-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-49-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="validity-and-reliability.html#cb160-1"></a>olp_reporoducibility &lt;-<span class="st"> </span><span class="kw">olp_method</span>(</span>
<span id="cb160-2"><a href="validity-and-reliability.html#cb160-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb160-3"><a href="validity-and-reliability.html#cb160-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb160-4"><a href="validity-and-reliability.html#cb160-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb160-5"><a href="validity-and-reliability.html#cb160-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb160-6"><a href="validity-and-reliability.html#cb160-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb160-7"><a href="validity-and-reliability.html#cb160-7"></a>)</span>
<span id="cb160-8"><a href="validity-and-reliability.html#cb160-8"></a></span>
<span id="cb160-9"><a href="validity-and-reliability.html#cb160-9"></a>olp_reporoducibility</span>
<span id="cb160-10"><a href="validity-and-reliability.html#cb160-10"></a><span class="co">#&gt;  Intercept      Slope        RSE       PPER </span></span>
<span id="cb160-11"><a href="validity-and-reliability.html#cb160-11"></a><span class="co">#&gt; -0.4982932  1.0124861  0.3076774  0.9999999</span></span></code></pre></div>
<p>In <code>bmbstats</code>, reliability is estimated using <code>bmbstats::reliability_analysis</code> that uses OLP as the default method implemented in <code>bmbstats::reliability_estimators</code> function. Rather than using parameters <code>criterion</code> and <code>practical</code>, <code>bmbstats::reliability_analysis</code> and <code>bmbstats::reliability_estimators</code> use <code>trial1</code> and <code>trial2</code>:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="validity-and-reliability.html#cb161-1"></a>bmbstats<span class="op">::</span><span class="kw">reliability_estimators</span>(</span>
<span id="cb161-2"><a href="validity-and-reliability.html#cb161-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb161-3"><a href="validity-and-reliability.html#cb161-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb161-4"><a href="validity-and-reliability.html#cb161-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb161-5"><a href="validity-and-reliability.html#cb161-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb161-6"><a href="validity-and-reliability.html#cb161-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb161-7"><a href="validity-and-reliability.html#cb161-7"></a>)</span>
<span id="cb161-8"><a href="validity-and-reliability.html#cb161-8"></a><span class="co">#&gt;  SESOI lower  SESOI upper  SESOI range    Intercept        Slope          RSE </span></span>
<span id="cb161-9"><a href="validity-and-reliability.html#cb161-9"></a><span class="co">#&gt;   -2.5000000    2.5000000    5.0000000   -0.4982932    1.0124861    0.3076774 </span></span>
<span id="cb161-10"><a href="validity-and-reliability.html#cb161-10"></a><span class="co">#&gt;  Pearson&#39;s r    R Squared SESOI to RSE         PPER           TE          SDC </span></span>
<span id="cb161-11"><a href="validity-and-reliability.html#cb161-11"></a><span class="co">#&gt;    0.9984753    0.9969529   16.2507895    0.9999999    0.2175607    0.6439761</span></span></code></pre></div>
<p><code>bmbstats::reliability_estimators</code> provides additional estimators, including <code>TE</code> and <code>SDC</code>. To get 95% bootstrap confidence intervals, use:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="validity-and-reliability.html#cb162-1"></a>criterion_reproducibility &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">reliability_analysis</span>(</span>
<span id="cb162-2"><a href="validity-and-reliability.html#cb162-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb162-3"><a href="validity-and-reliability.html#cb162-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb162-4"><a href="validity-and-reliability.html#cb162-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb162-5"><a href="validity-and-reliability.html#cb162-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb162-6"><a href="validity-and-reliability.html#cb162-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb162-7"><a href="validity-and-reliability.html#cb162-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb162-8"><a href="validity-and-reliability.html#cb162-8"></a>)</span>
<span id="cb162-9"><a href="validity-and-reliability.html#cb162-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb162-10"><a href="validity-and-reliability.html#cb162-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb162-11"><a href="validity-and-reliability.html#cb162-11"></a></span>
<span id="cb162-12"><a href="validity-and-reliability.html#cb162-12"></a>criterion_reproducibility</span>
<span id="cb162-13"><a href="validity-and-reliability.html#cb162-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb162-14"><a href="validity-and-reliability.html#cb162-14"></a><span class="co">#&gt; </span></span>
<span id="cb162-15"><a href="validity-and-reliability.html#cb162-15"></a><span class="co">#&gt;     estimator      value      lower      upper</span></span>
<span id="cb162-16"><a href="validity-and-reliability.html#cb162-16"></a><span class="co">#&gt;   SESOI lower -2.5000000         NA         NA</span></span>
<span id="cb162-17"><a href="validity-and-reliability.html#cb162-17"></a><span class="co">#&gt;   SESOI upper  2.5000000         NA         NA</span></span>
<span id="cb162-18"><a href="validity-and-reliability.html#cb162-18"></a><span class="co">#&gt;   SESOI range  5.0000000         NA         NA</span></span>
<span id="cb162-19"><a href="validity-and-reliability.html#cb162-19"></a><span class="co">#&gt;     Intercept -0.4982932 -1.3450623  0.6000301</span></span>
<span id="cb162-20"><a href="validity-and-reliability.html#cb162-20"></a><span class="co">#&gt;         Slope  1.0124861  0.9888145  1.0317365</span></span>
<span id="cb162-21"><a href="validity-and-reliability.html#cb162-21"></a><span class="co">#&gt;           RSE  0.3076774  0.2362124  0.4474032</span></span>
<span id="cb162-22"><a href="validity-and-reliability.html#cb162-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.9984753  0.9956386  0.9993848</span></span>
<span id="cb162-23"><a href="validity-and-reliability.html#cb162-23"></a><span class="co">#&gt;     R Squared  0.9969529  0.9912963  0.9987701</span></span>
<span id="cb162-24"><a href="validity-and-reliability.html#cb162-24"></a><span class="co">#&gt;  SESOI to RSE 16.2507895 11.2407775 21.2231826</span></span>
<span id="cb162-25"><a href="validity-and-reliability.html#cb162-25"></a><span class="co">#&gt;          PPER  0.9999999  0.9999782  1.0000000</span></span>
<span id="cb162-26"><a href="validity-and-reliability.html#cb162-26"></a><span class="co">#&gt;            TE  0.2175607  0.1670274  0.3163618</span></span>
<span id="cb162-27"><a href="validity-and-reliability.html#cb162-27"></a><span class="co">#&gt;           SDC  0.6439761  0.4943982  0.9364256</span></span></code></pre></div>
<div id="simulating-effects-of-different-levels-of-random-error-on-reproducibility-results" class="section level4" number="15.3.1.1">
<h4><span class="header-section-number">15.3.1.1</span> Simulating effects of different levels of random error on reproducibility results</h4>
<p>Since we already have generated simulated data, let’s check how estimated <code>TE</code> behaves using three different analysis methods over varying degrees of random error involved in the criterion score. To represent the intercept for the differences method, I’ve used <code>Mean Diff</code>.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="validity-and-reliability.html#cb163-1"></a>estimation_wrapper &lt;-<span class="st"> </span><span class="cf">function</span>(data) {</span>
<span id="cb163-2"><a href="validity-and-reliability.html#cb163-2"></a>  diff_reporoducibility &lt;-<span class="st"> </span><span class="kw">differences_method</span>(</span>
<span id="cb163-3"><a href="validity-and-reliability.html#cb163-3"></a>  <span class="dt">data =</span> data,</span>
<span id="cb163-4"><a href="validity-and-reliability.html#cb163-4"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb163-5"><a href="validity-and-reliability.html#cb163-5"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb163-6"><a href="validity-and-reliability.html#cb163-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb163-7"><a href="validity-and-reliability.html#cb163-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb163-8"><a href="validity-and-reliability.html#cb163-8"></a>)</span>
<span id="cb163-9"><a href="validity-and-reliability.html#cb163-9"></a></span>
<span id="cb163-10"><a href="validity-and-reliability.html#cb163-10"></a>  lm_reporoducibility &lt;-<span class="st"> </span><span class="kw">lm_method</span>(</span>
<span id="cb163-11"><a href="validity-and-reliability.html#cb163-11"></a>  <span class="dt">data =</span> data,</span>
<span id="cb163-12"><a href="validity-and-reliability.html#cb163-12"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb163-13"><a href="validity-and-reliability.html#cb163-13"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb163-14"><a href="validity-and-reliability.html#cb163-14"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb163-15"><a href="validity-and-reliability.html#cb163-15"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb163-16"><a href="validity-and-reliability.html#cb163-16"></a>)</span>
<span id="cb163-17"><a href="validity-and-reliability.html#cb163-17"></a></span>
<span id="cb163-18"><a href="validity-and-reliability.html#cb163-18"></a>  olp_reporoducibility &lt;-<span class="st"> </span><span class="kw">olp_method</span>(</span>
<span id="cb163-19"><a href="validity-and-reliability.html#cb163-19"></a>  <span class="dt">data =</span> data,</span>
<span id="cb163-20"><a href="validity-and-reliability.html#cb163-20"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score.trial1&quot;</span>,</span>
<span id="cb163-21"><a href="validity-and-reliability.html#cb163-21"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score.trial2&quot;</span>,</span>
<span id="cb163-22"><a href="validity-and-reliability.html#cb163-22"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb163-23"><a href="validity-and-reliability.html#cb163-23"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb163-24"><a href="validity-and-reliability.html#cb163-24"></a>)</span>
<span id="cb163-25"><a href="validity-and-reliability.html#cb163-25"></a>  </span>
<span id="cb163-26"><a href="validity-and-reliability.html#cb163-26"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb163-27"><a href="validity-and-reliability.html#cb163-27"></a>    <span class="dt">simulation =</span> data<span class="op">$</span>simulation[<span class="dv">1</span>],</span>
<span id="cb163-28"><a href="validity-and-reliability.html#cb163-28"></a>    <span class="dt">criterion_random_error =</span> data<span class="op">$</span>criterion_random_error[<span class="dv">1</span>],</span>
<span id="cb163-29"><a href="validity-and-reliability.html#cb163-29"></a>    <span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;diff&quot;</span>, <span class="st">&quot;lm&quot;</span>, <span class="st">&quot;olp&quot;</span>),</span>
<span id="cb163-30"><a href="validity-and-reliability.html#cb163-30"></a>    <span class="dt">Intercept =</span> <span class="kw">c</span>(diff_reporoducibility[<span class="dv">1</span>], lm_reporoducibility[<span class="dv">1</span>], olp_reporoducibility[<span class="dv">1</span>]),</span>
<span id="cb163-31"><a href="validity-and-reliability.html#cb163-31"></a>    <span class="dt">Slope =</span> <span class="kw">c</span>(<span class="ot">NA</span>, lm_reporoducibility[<span class="dv">2</span>], olp_reporoducibility[<span class="dv">2</span>]),</span>
<span id="cb163-32"><a href="validity-and-reliability.html#cb163-32"></a>    <span class="dt">TE =</span> <span class="kw">c</span>(diff_reporoducibility[<span class="dv">2</span>], lm_reporoducibility[<span class="dv">3</span>], olp_reporoducibility[<span class="dv">3</span>]) <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span>)</span>
<span id="cb163-33"><a href="validity-and-reliability.html#cb163-33"></a>  )</span>
<span id="cb163-34"><a href="validity-and-reliability.html#cb163-34"></a>}</span>
<span id="cb163-35"><a href="validity-and-reliability.html#cb163-35"></a></span>
<span id="cb163-36"><a href="validity-and-reliability.html#cb163-36"></a>simulation_results &lt;-<span class="st"> </span>simulation_df <span class="op">%&gt;%</span></span>
<span id="cb163-37"><a href="validity-and-reliability.html#cb163-37"></a><span class="st">  </span><span class="kw">group_by</span>(simulation, criterion_random_error) <span class="op">%&gt;%</span></span>
<span id="cb163-38"><a href="validity-and-reliability.html#cb163-38"></a><span class="st">  </span><span class="kw">do</span>(<span class="kw">estimation_wrapper</span>(.))</span>
<span id="cb163-39"><a href="validity-and-reliability.html#cb163-39"></a></span>
<span id="cb163-40"><a href="validity-and-reliability.html#cb163-40"></a></span>
<span id="cb163-41"><a href="validity-and-reliability.html#cb163-41"></a><span class="kw">head</span>(simulation_results)</span>
<span id="cb163-42"><a href="validity-and-reliability.html#cb163-42"></a><span class="co">#&gt; # A tibble: 6 x 6</span></span>
<span id="cb163-43"><a href="validity-and-reliability.html#cb163-43"></a><span class="co">#&gt; # Groups:   simulation, criterion_random_error [2]</span></span>
<span id="cb163-44"><a href="validity-and-reliability.html#cb163-44"></a><span class="co">#&gt;   simulation criterion_random_error method Intercept  Slope       TE</span></span>
<span id="cb163-45"><a href="validity-and-reliability.html#cb163-45"></a><span class="co">#&gt;        &lt;int&gt;                  &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb163-46"><a href="validity-and-reliability.html#cb163-46"></a><span class="co">#&gt; 1          1                  0     diff    0.       NA     0.      </span></span>
<span id="cb163-47"><a href="validity-and-reliability.html#cb163-47"></a><span class="co">#&gt; 2          1                  0     lm     -1.27e-14  1.    3.40e-16</span></span>
<span id="cb163-48"><a href="validity-and-reliability.html#cb163-48"></a><span class="co">#&gt; 3          1                  0     olp     0.        1     0.      </span></span>
<span id="cb163-49"><a href="validity-and-reliability.html#cb163-49"></a><span class="co">#&gt; 4          1                  0.222 diff   -8.06e- 2 NA     2.52e- 1</span></span>
<span id="cb163-50"><a href="validity-and-reliability.html#cb163-50"></a><span class="co">#&gt; 5          1                  0.222 lm      1.12e+ 0  0.974 2.30e- 1</span></span>
<span id="cb163-51"><a href="validity-and-reliability.html#cb163-51"></a><span class="co">#&gt; 6          1                  0.222 olp     1.06e+ 0  0.975 2.30e- 1</span></span></code></pre></div>
<p>And we can finally plot the results:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="validity-and-reliability.html#cb164-1"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">gather</span>(simulation_results, <span class="st">&quot;key&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>))</span>
<span id="cb164-2"><a href="validity-and-reliability.html#cb164-2"></a></span>
<span id="cb164-3"><a href="validity-and-reliability.html#cb164-3"></a><span class="co"># Join the true DGP values for plotting</span></span>
<span id="cb164-4"><a href="validity-and-reliability.html#cb164-4"></a>simulation_results_long &lt;-<span class="st"> </span><span class="kw">left_join</span>(</span>
<span id="cb164-5"><a href="validity-and-reliability.html#cb164-5"></a>  simulation_results_long,</span>
<span id="cb164-6"><a href="validity-and-reliability.html#cb164-6"></a>  <span class="kw">data.frame</span>(</span>
<span id="cb164-7"><a href="validity-and-reliability.html#cb164-7"></a>    <span class="dt">key =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;TE&quot;</span>),</span>
<span id="cb164-8"><a href="validity-and-reliability.html#cb164-8"></a>    <span class="dt">DGP =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="ot">NA</span>)</span>
<span id="cb164-9"><a href="validity-and-reliability.html#cb164-9"></a>  ),</span>
<span id="cb164-10"><a href="validity-and-reliability.html#cb164-10"></a>  <span class="dt">by =</span> <span class="st">&quot;key&quot;</span></span>
<span id="cb164-11"><a href="validity-and-reliability.html#cb164-11"></a>)</span>
<span id="cb164-12"><a href="validity-and-reliability.html#cb164-12"></a></span>
<span id="cb164-13"><a href="validity-and-reliability.html#cb164-13"></a>simulation_results_long<span class="op">$</span>key &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb164-14"><a href="validity-and-reliability.html#cb164-14"></a>  simulation_results_long<span class="op">$</span>key,</span>
<span id="cb164-15"><a href="validity-and-reliability.html#cb164-15"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Intercept&quot;</span>, <span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;TE&quot;</span>)</span>
<span id="cb164-16"><a href="validity-and-reliability.html#cb164-16"></a>)</span>
<span id="cb164-17"><a href="validity-and-reliability.html#cb164-17"></a></span>
<span id="cb164-18"><a href="validity-and-reliability.html#cb164-18"></a>simulation_results_long<span class="op">$</span>method &lt;-<span class="st"> </span><span class="kw">factor</span>(</span>
<span id="cb164-19"><a href="validity-and-reliability.html#cb164-19"></a>  simulation_results_long<span class="op">$</span>method,</span>
<span id="cb164-20"><a href="validity-and-reliability.html#cb164-20"></a>  <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;diff&quot;</span>, <span class="st">&quot;lm&quot;</span>, <span class="st">&quot;olp&quot;</span>)</span>
<span id="cb164-21"><a href="validity-and-reliability.html#cb164-21"></a>)</span>
<span id="cb164-22"><a href="validity-and-reliability.html#cb164-22"></a></span>
<span id="cb164-23"><a href="validity-and-reliability.html#cb164-23"></a>simulation_results_long_avg &lt;-<span class="st"> </span>simulation_results_long <span class="op">%&gt;%</span></span>
<span id="cb164-24"><a href="validity-and-reliability.html#cb164-24"></a><span class="st">  </span><span class="kw">group_by</span>(method, criterion_random_error, key) <span class="op">%&gt;%</span></span>
<span id="cb164-25"><a href="validity-and-reliability.html#cb164-25"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb164-26"><a href="validity-and-reliability.html#cb164-26"></a>    <span class="dt">mean =</span> <span class="kw">mean</span>(value),</span>
<span id="cb164-27"><a href="validity-and-reliability.html#cb164-27"></a>    <span class="dt">upper =</span> mean <span class="op">+</span><span class="st"> </span>(<span class="kw">sd</span>(value)),</span>
<span id="cb164-28"><a href="validity-and-reliability.html#cb164-28"></a>    <span class="dt">lower =</span> mean <span class="op">-</span><span class="st"> </span>(<span class="kw">sd</span>(value))</span>
<span id="cb164-29"><a href="validity-and-reliability.html#cb164-29"></a>  )</span>
<span id="cb164-30"><a href="validity-and-reliability.html#cb164-30"></a></span>
<span id="cb164-31"><a href="validity-and-reliability.html#cb164-31"></a><span class="kw">ggplot</span>(</span>
<span id="cb164-32"><a href="validity-and-reliability.html#cb164-32"></a>  simulation_results_long,</span>
<span id="cb164-33"><a href="validity-and-reliability.html#cb164-33"></a>  <span class="kw">aes</span>(<span class="dt">x =</span> criterion_random_error, <span class="dt">y =</span> value, <span class="dt">group =</span> simulation)</span>
<span id="cb164-34"><a href="validity-and-reliability.html#cb164-34"></a>) <span class="op">+</span></span>
<span id="cb164-35"><a href="validity-and-reliability.html#cb164-35"></a><span class="st">  </span><span class="kw">theme_cowplot</span>(<span class="dv">8</span>) <span class="op">+</span></span>
<span id="cb164-36"><a href="validity-and-reliability.html#cb164-36"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.02</span>) <span class="op">+</span></span>
<span id="cb164-37"><a href="validity-and-reliability.html#cb164-37"></a><span class="st">  </span><span class="kw">geom_ribbon</span>(</span>
<span id="cb164-38"><a href="validity-and-reliability.html#cb164-38"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb164-39"><a href="validity-and-reliability.html#cb164-39"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">ymin =</span> lower, <span class="dt">ymax =</span> upper, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb164-40"><a href="validity-and-reliability.html#cb164-40"></a>    <span class="dt">alpha =</span> <span class="fl">0.3</span>, <span class="dt">fill =</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb164-41"><a href="validity-and-reliability.html#cb164-41"></a>  ) <span class="op">+</span></span>
<span id="cb164-42"><a href="validity-and-reliability.html#cb164-42"></a><span class="st">  </span><span class="kw">geom_line</span>(</span>
<span id="cb164-43"><a href="validity-and-reliability.html#cb164-43"></a>    <span class="dt">data =</span> simulation_results_long_avg,</span>
<span id="cb164-44"><a href="validity-and-reliability.html#cb164-44"></a>    <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb164-45"><a href="validity-and-reliability.html#cb164-45"></a>    <span class="kw">aes</span>(<span class="dt">y =</span> mean, <span class="dt">group =</span> <span class="dv">1</span>),</span>
<span id="cb164-46"><a href="validity-and-reliability.html#cb164-46"></a>    <span class="dt">size =</span> <span class="dv">1</span>) <span class="op">+</span></span>
<span id="cb164-47"><a href="validity-and-reliability.html#cb164-47"></a><span class="st">  </span><span class="kw">facet_grid</span>(key <span class="op">~</span><span class="st"> </span>method, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb164-48"><a href="validity-and-reliability.html#cb164-48"></a><span class="st">  </span><span class="kw">geom_hline</span>(<span class="kw">aes</span>(<span class="dt">yintercept =</span> DGP), <span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb164-49"><a href="validity-and-reliability.html#cb164-49"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb164-50"><a href="validity-and-reliability.html#cb164-50"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Criterion random error&quot;</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-54-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Although all three methods are good in estimating <code>TE</code>, only OLP should be used when estimating reproducibility fixed and proportional biases (i.e. intercept and slope; which are simulated to be 0 and 1 respectively, since both criterion measure trials have same fixed and proportional biases against the true score). Again, this recommendation is given under the assumption that the random error involved in two units/trials is the same.</p>
</div>
<div id="reproducibility-of-the-practical-measure" class="section level4" number="15.3.1.2">
<h4><span class="header-section-number">15.3.1.2</span> Reproducibility of the practical measure</h4>
<p>Let’s quickly perform the reproducibility of the practical measure as well. SESOI for the practical measure will be equal to SESOI of the true and practical (i.e. 2.5cm) multiplied by practical proportional bias (<span class="math inline">\(1.1 \times 2.5\)</span>cm). We can either use this know and true DGP relationship, or use estimated practical measure SESOI from the validity analysis.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="validity-and-reliability.html#cb165-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_OLP</span>(</span>
<span id="cb165-2"><a href="validity-and-reliability.html#cb165-2"></a>  <span class="dt">predictor =</span> agreement_data<span class="op">$</span>Practical_score.trial2,</span>
<span id="cb165-3"><a href="validity-and-reliability.html#cb165-3"></a>  <span class="dt">outcome =</span> agreement_data<span class="op">$</span>Practical_score.trial1,</span>
<span id="cb165-4"><a href="validity-and-reliability.html#cb165-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Practical Score Trial1&quot;</span>,</span>
<span id="cb165-5"><a href="validity-and-reliability.html#cb165-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Practical Score Trial2&quot;</span>,</span>
<span id="cb165-6"><a href="validity-and-reliability.html#cb165-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb165-7"><a href="validity-and-reliability.html#cb165-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional</span>
<span id="cb165-8"><a href="validity-and-reliability.html#cb165-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-55-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="validity-and-reliability.html#cb166-1"></a>practical_reproducibility &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">reliability_analysis</span>(</span>
<span id="cb166-2"><a href="validity-and-reliability.html#cb166-2"></a>  <span class="dt">data =</span> agreement_data,</span>
<span id="cb166-3"><a href="validity-and-reliability.html#cb166-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Practical_score.trial1&quot;</span>,</span>
<span id="cb166-4"><a href="validity-and-reliability.html#cb166-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Practical_score.trial2&quot;</span>,</span>
<span id="cb166-5"><a href="validity-and-reliability.html#cb166-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb166-6"><a href="validity-and-reliability.html#cb166-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb166-7"><a href="validity-and-reliability.html#cb166-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb166-8"><a href="validity-and-reliability.html#cb166-8"></a>)</span>
<span id="cb166-9"><a href="validity-and-reliability.html#cb166-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.75 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb166-10"><a href="validity-and-reliability.html#cb166-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb166-11"><a href="validity-and-reliability.html#cb166-11"></a></span>
<span id="cb166-12"><a href="validity-and-reliability.html#cb166-12"></a>practical_reproducibility</span>
<span id="cb166-13"><a href="validity-and-reliability.html#cb166-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb166-14"><a href="validity-and-reliability.html#cb166-14"></a><span class="co">#&gt; </span></span>
<span id="cb166-15"><a href="validity-and-reliability.html#cb166-15"></a><span class="co">#&gt;     estimator      value      lower     upper</span></span>
<span id="cb166-16"><a href="validity-and-reliability.html#cb166-16"></a><span class="co">#&gt;   SESOI lower -2.7500000         NA        NA</span></span>
<span id="cb166-17"><a href="validity-and-reliability.html#cb166-17"></a><span class="co">#&gt;   SESOI upper  2.7500000         NA        NA</span></span>
<span id="cb166-18"><a href="validity-and-reliability.html#cb166-18"></a><span class="co">#&gt;   SESOI range  5.5000000         NA        NA</span></span>
<span id="cb166-19"><a href="validity-and-reliability.html#cb166-19"></a><span class="co">#&gt;     Intercept  4.3847186 -2.3423560 8.0714488</span></span>
<span id="cb166-20"><a href="validity-and-reliability.html#cb166-20"></a><span class="co">#&gt;         Slope  0.9170754  0.8422666 1.0547194</span></span>
<span id="cb166-21"><a href="validity-and-reliability.html#cb166-21"></a><span class="co">#&gt;           RSE  1.3749629  0.9923160 2.0538771</span></span>
<span id="cb166-22"><a href="validity-and-reliability.html#cb166-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.9718531  0.9378131 0.9877429</span></span>
<span id="cb166-23"><a href="validity-and-reliability.html#cb166-23"></a><span class="co">#&gt;     R Squared  0.9444984  0.8794861 0.9756338</span></span>
<span id="cb166-24"><a href="validity-and-reliability.html#cb166-24"></a><span class="co">#&gt;  SESOI to RSE  4.0001078  2.6825278 5.5671995</span></span>
<span id="cb166-25"><a href="validity-and-reliability.html#cb166-25"></a><span class="co">#&gt;          PPER  0.9400042  0.8036046 0.9875717</span></span>
<span id="cb166-26"><a href="validity-and-reliability.html#cb166-26"></a><span class="co">#&gt;            TE  0.9722456  0.7016734 1.4523105</span></span>
<span id="cb166-27"><a href="validity-and-reliability.html#cb166-27"></a><span class="co">#&gt;           SDC  2.8778305  2.0769413 4.2988143</span></span></code></pre></div>
</div>
<div id="uses-of-reproducibility-analyses" class="section level4" number="15.3.1.3">
<h4><span class="header-section-number">15.3.1.3</span> Uses of reproducibility analyses</h4>
<p>There are few uses of reproducibility analyses. If single unit is used over two (or more) trial using specialized equipment, we would tend not to expect any biases involved. If there are biases involved, the preparation and utilization of the measuring devices might be erroneous, or there might be error in the specialized equipment (i.e. indication of <em>systematic effects</em>). In either way, we do not want to see fixed nor proportional biases.</p>
<p>If multiple units are used to measure single phenomena, existence of biases might demand that the units needs to be <em>calibrated</em>. If that is not possible, this implies that exchange of units for longitudinal monitoring is not recommended (depends on the magnitude of the biases and differences). In plain English - you need to stick to one unit for longitudinal monitoring. Assuming, of course acceptable practical reproducibility (i.e. small <code>TE</code>, or <code>SDC</code> compared to SESOI).</p>
<p>To demonstrate this, let’s consider the following example. We will have three devices that measure a single true score. Two of these devices (A and B) have same biases against the true score (hence, no biases between them), while one device (device C) has different biases against the true score.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="validity-and-reliability.html#cb167-1"></a>reproducibility_data &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb167-2"><a href="validity-and-reliability.html#cb167-2"></a>  <span class="dt">Athlete =</span> <span class="kw">paste</span>(</span>
<span id="cb167-3"><a href="validity-and-reliability.html#cb167-3"></a>    <span class="st">&quot;Athlete&quot;</span>,</span>
<span id="cb167-4"><a href="validity-and-reliability.html#cb167-4"></a>    <span class="kw">str_pad</span>(</span>
<span id="cb167-5"><a href="validity-and-reliability.html#cb167-5"></a>      <span class="dt">string =</span> <span class="kw">seq</span>(<span class="dv">1</span>, n_subjects),</span>
<span id="cb167-6"><a href="validity-and-reliability.html#cb167-6"></a>      <span class="dt">width =</span> <span class="dv">2</span>,</span>
<span id="cb167-7"><a href="validity-and-reliability.html#cb167-7"></a>      <span class="dt">pad =</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb167-8"><a href="validity-and-reliability.html#cb167-8"></a>    )</span>
<span id="cb167-9"><a href="validity-and-reliability.html#cb167-9"></a>  ),</span>
<span id="cb167-10"><a href="validity-and-reliability.html#cb167-10"></a>  <span class="dt">True_score =</span> <span class="kw">rnorm</span>(n_subjects, <span class="dv">45</span>, <span class="dv">5</span>),</span>
<span id="cb167-11"><a href="validity-and-reliability.html#cb167-11"></a>  <span class="dt">Criterion_score_A =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, criterion_random),</span>
<span id="cb167-12"><a href="validity-and-reliability.html#cb167-12"></a>  <span class="dt">Criterion_score_B =</span> <span class="dv">0</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, criterion_random),</span>
<span id="cb167-13"><a href="validity-and-reliability.html#cb167-13"></a>  <span class="dt">Criterion_score_C =</span> <span class="fl">2.5</span> <span class="op">+</span><span class="st"> </span>(True_score <span class="op">*</span><span class="st"> </span><span class="fl">1.5</span>) <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, criterion_random)</span>
<span id="cb167-14"><a href="validity-and-reliability.html#cb167-14"></a>)</span>
<span id="cb167-15"><a href="validity-and-reliability.html#cb167-15"></a></span>
<span id="cb167-16"><a href="validity-and-reliability.html#cb167-16"></a><span class="kw">head</span>(reproducibility_data)</span>
<span id="cb167-17"><a href="validity-and-reliability.html#cb167-17"></a><span class="co">#&gt; # A tibble: 6 x 5</span></span>
<span id="cb167-18"><a href="validity-and-reliability.html#cb167-18"></a><span class="co">#&gt;   Athlete    True_score Criterion_score_A Criterion_score_B Criterion_score_C</span></span>
<span id="cb167-19"><a href="validity-and-reliability.html#cb167-19"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;dbl&gt;             &lt;dbl&gt;             &lt;dbl&gt;             &lt;dbl&gt;</span></span>
<span id="cb167-20"><a href="validity-and-reliability.html#cb167-20"></a><span class="co">#&gt; 1 Athlete 01       41.4              41.4              41.3              64.4</span></span>
<span id="cb167-21"><a href="validity-and-reliability.html#cb167-21"></a><span class="co">#&gt; 2 Athlete 02       42.8              42.8              42.3              66.5</span></span>
<span id="cb167-22"><a href="validity-and-reliability.html#cb167-22"></a><span class="co">#&gt; 3 Athlete 03       39.3              39.8              39.4              61.3</span></span>
<span id="cb167-23"><a href="validity-and-reliability.html#cb167-23"></a><span class="co">#&gt; 4 Athlete 04       54.1              54.6              54.4              83.5</span></span>
<span id="cb167-24"><a href="validity-and-reliability.html#cb167-24"></a><span class="co">#&gt; 5 Athlete 05       42.2              42.5              42.4              66.0</span></span>
<span id="cb167-25"><a href="validity-and-reliability.html#cb167-25"></a><span class="co">#&gt; 6 Athlete 06       50.6              50.1              51.2              78.3</span></span></code></pre></div>
<p>Rather than using simple linear regression or OLP for plotting the residuals (i.e. calibrating the predictor), we will use the <em>raw</em> values using Bland-Altman plot. Here is the plot and the analysis using method of differences:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="validity-and-reliability.html#cb168-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_BA</span>(</span>
<span id="cb168-2"><a href="validity-and-reliability.html#cb168-2"></a>  <span class="dt">predictor =</span> reproducibility_data<span class="op">$</span>Criterion_score_B,</span>
<span id="cb168-3"><a href="validity-and-reliability.html#cb168-3"></a>  <span class="dt">outcome =</span> reproducibility_data<span class="op">$</span>Criterion_score_A,</span>
<span id="cb168-4"><a href="validity-and-reliability.html#cb168-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Unit B&quot;</span>,</span>
<span id="cb168-5"><a href="validity-and-reliability.html#cb168-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Unit A&quot;</span>,</span>
<span id="cb168-6"><a href="validity-and-reliability.html#cb168-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb168-7"><a href="validity-and-reliability.html#cb168-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb168-8"><a href="validity-and-reliability.html#cb168-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-58-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="validity-and-reliability.html#cb169-1"></a><span class="kw">differences_method</span>(</span>
<span id="cb169-2"><a href="validity-and-reliability.html#cb169-2"></a>  <span class="dt">data =</span> reproducibility_data,</span>
<span id="cb169-3"><a href="validity-and-reliability.html#cb169-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score_A&quot;</span>,</span>
<span id="cb169-4"><a href="validity-and-reliability.html#cb169-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score_B&quot;</span>,</span>
<span id="cb169-5"><a href="validity-and-reliability.html#cb169-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb169-6"><a href="validity-and-reliability.html#cb169-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb169-7"><a href="validity-and-reliability.html#cb169-7"></a>)</span>
<span id="cb169-8"><a href="validity-and-reliability.html#cb169-8"></a><span class="co">#&gt;  Mean diff    SD diff       PPER </span></span>
<span id="cb169-9"><a href="validity-and-reliability.html#cb169-9"></a><span class="co">#&gt; 0.03513462 0.40651806 0.99999335</span></span></code></pre></div>
<p>As can be seen from the analysis, <code>PPER</code> for these two devices is excellent (and this is <em>without</em> calibration), implying that these can be used inter-changeably for longitudinal monitoring. Let’s see if that is the case for unit C (comparing it with unit A):</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="validity-and-reliability.html#cb170-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_BA</span>(</span>
<span id="cb170-2"><a href="validity-and-reliability.html#cb170-2"></a>  <span class="dt">predictor =</span> reproducibility_data<span class="op">$</span>Criterion_score_C,</span>
<span id="cb170-3"><a href="validity-and-reliability.html#cb170-3"></a>  <span class="dt">outcome =</span> reproducibility_data<span class="op">$</span>Criterion_score_A,</span>
<span id="cb170-4"><a href="validity-and-reliability.html#cb170-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Unit C&quot;</span>,</span>
<span id="cb170-5"><a href="validity-and-reliability.html#cb170-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Unit A&quot;</span>,</span>
<span id="cb170-6"><a href="validity-and-reliability.html#cb170-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb170-7"><a href="validity-and-reliability.html#cb170-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb170-8"><a href="validity-and-reliability.html#cb170-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-60-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="validity-and-reliability.html#cb171-1"></a><span class="kw">differences_method</span>(</span>
<span id="cb171-2"><a href="validity-and-reliability.html#cb171-2"></a>  <span class="dt">data =</span> reproducibility_data,</span>
<span id="cb171-3"><a href="validity-and-reliability.html#cb171-3"></a>  <span class="dt">criterion =</span> <span class="st">&quot;Criterion_score_A&quot;</span>,</span>
<span id="cb171-4"><a href="validity-and-reliability.html#cb171-4"></a>  <span class="dt">practical =</span> <span class="st">&quot;Criterion_score_C&quot;</span>,</span>
<span id="cb171-5"><a href="validity-and-reliability.html#cb171-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb171-6"><a href="validity-and-reliability.html#cb171-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb171-7"><a href="validity-and-reliability.html#cb171-7"></a>)</span>
<span id="cb171-8"><a href="validity-and-reliability.html#cb171-8"></a><span class="co">#&gt;     Mean diff       SD diff          PPER </span></span>
<span id="cb171-9"><a href="validity-and-reliability.html#cb171-9"></a><span class="co">#&gt; -2.415796e+01  2.939988e+00  2.664952e-07</span></span></code></pre></div>
<p>Unless we are able to calibrate the unit C, we cannot use it interchangeably with units A and B. But unit C is more than good to be used for measurement - we just need to stick to that unit across time.</p>
</div>
</div>
<div id="repeatability" class="section level3" number="15.3.2">
<h3><span class="header-section-number">15.3.2</span> Repeatability</h3>
<p>So far, we have assumed no change in the true score across trials, thus no effect of the <em>biological noise</em>. In the next data set we are going to measure vertical jump height on two days spread by 7 days for N=20 athletes. We will assume that there is no change in the true score (i.e. no systematic change/effect), but there will be some <em>biological noise</em> that will affect the <em>manifestable performance</em> (see <a href="measurement-error.html#extending-the-classical-test-theory">Extending the Classical Test Theory</a> section). This unavoidably presents the question “What is the true score?”. Well, in this case we can consider it some individual <em>stable</em> level of performance, that varies from day to day due to various factors, such as sleep, nutrition, motivation, circadian rhythms and so forth. Please refer to Borsboom’s text for more in depth treatment of the issues with the <em>true score</em> concept <span class="citation">(Borsboom <a href="#ref-borsboomMeasuringMindConceptual2009" role="doc-biblioref">2009</a>)</span>.</p>
<p>In this DGP, we will assume that this <em>stochastic</em> biological effect (i.e. random error or biological noise) is equal for all individuals (please see the <a href="causal-inference.html#ergodicity">Ergodicity</a> section for more information about this assumption) and that there is not systematic effect (i.e. fatigue, learning effects and so forth).</p>
<p><img src="figures/measurement-error-two-measures.png" width="50%" style="display: block; margin: auto;" /></p>
<p>This vertical jump is measured with our practical measuring unit, that we have shown to be reliable, and for which we have estimated <code>TE</code> and <code>SDC</code>.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="validity-and-reliability.html#cb172-1"></a>n_subjects &lt;-<span class="st"> </span><span class="dv">20</span></span>
<span id="cb172-2"><a href="validity-and-reliability.html#cb172-2"></a></span>
<span id="cb172-3"><a href="validity-and-reliability.html#cb172-3"></a>practical_proportional &lt;-<span class="st"> </span><span class="fl">1.1</span></span>
<span id="cb172-4"><a href="validity-and-reliability.html#cb172-4"></a>practical_random &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb172-5"><a href="validity-and-reliability.html#cb172-5"></a>biological_noise &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb172-6"><a href="validity-and-reliability.html#cb172-6"></a></span>
<span id="cb172-7"><a href="validity-and-reliability.html#cb172-7"></a><span class="kw">set.seed</span>(<span class="dv">1667</span>)</span>
<span id="cb172-8"><a href="validity-and-reliability.html#cb172-8"></a></span>
<span id="cb172-9"><a href="validity-and-reliability.html#cb172-9"></a>repeatability_data &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb172-10"><a href="validity-and-reliability.html#cb172-10"></a>  <span class="dt">Athlete =</span> <span class="kw">paste</span>(</span>
<span id="cb172-11"><a href="validity-and-reliability.html#cb172-11"></a>    <span class="st">&quot;Athlete&quot;</span>,</span>
<span id="cb172-12"><a href="validity-and-reliability.html#cb172-12"></a>    <span class="kw">str_pad</span>(</span>
<span id="cb172-13"><a href="validity-and-reliability.html#cb172-13"></a>      <span class="dt">string =</span> <span class="kw">seq</span>(<span class="dv">1</span>, n_subjects),</span>
<span id="cb172-14"><a href="validity-and-reliability.html#cb172-14"></a>      <span class="dt">width =</span> <span class="dv">2</span>,</span>
<span id="cb172-15"><a href="validity-and-reliability.html#cb172-15"></a>      <span class="dt">pad =</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb172-16"><a href="validity-and-reliability.html#cb172-16"></a>    )</span>
<span id="cb172-17"><a href="validity-and-reliability.html#cb172-17"></a>  ),</span>
<span id="cb172-18"><a href="validity-and-reliability.html#cb172-18"></a>  <span class="dt">True_score.Pre =</span> <span class="kw">rnorm</span>(n_subjects, <span class="dv">45</span>, <span class="dv">5</span>),</span>
<span id="cb172-19"><a href="validity-and-reliability.html#cb172-19"></a>  <span class="dt">True_change =</span> <span class="kw">rep</span>(<span class="dv">0</span>, n_subjects),</span>
<span id="cb172-20"><a href="validity-and-reliability.html#cb172-20"></a>  <span class="dt">True_score.Post =</span> True_score.Pre <span class="op">+</span><span class="st"> </span>True_change,</span>
<span id="cb172-21"><a href="validity-and-reliability.html#cb172-21"></a>  </span>
<span id="cb172-22"><a href="validity-and-reliability.html#cb172-22"></a>  <span class="co"># Add biological noise to true score</span></span>
<span id="cb172-23"><a href="validity-and-reliability.html#cb172-23"></a>  <span class="dt">Manifested_score.Pre =</span> True_score.Pre <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, biological_noise),</span>
<span id="cb172-24"><a href="validity-and-reliability.html#cb172-24"></a>  <span class="dt">Manifested_score.Post =</span> True_score.Post <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, biological_noise),</span>
<span id="cb172-25"><a href="validity-and-reliability.html#cb172-25"></a>  <span class="dt">Manifested_score.Change =</span> Manifested_score.Post <span class="op">-</span><span class="st"> </span>Manifested_score.Pre,</span>
<span id="cb172-26"><a href="validity-and-reliability.html#cb172-26"></a></span>
<span id="cb172-27"><a href="validity-and-reliability.html#cb172-27"></a>  <span class="co"># Add measurement of the manifested score</span></span>
<span id="cb172-28"><a href="validity-and-reliability.html#cb172-28"></a>  <span class="dt">Measured_score.Pre =</span> practical_fixed <span class="op">+</span><span class="st"> </span></span>
<span id="cb172-29"><a href="validity-and-reliability.html#cb172-29"></a><span class="st">    </span>(Manifested_score.Pre <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span></span>
<span id="cb172-30"><a href="validity-and-reliability.html#cb172-30"></a><span class="st">    </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random),</span>
<span id="cb172-31"><a href="validity-and-reliability.html#cb172-31"></a>  </span>
<span id="cb172-32"><a href="validity-and-reliability.html#cb172-32"></a>  <span class="dt">Measured_score.Post =</span> practical_fixed <span class="op">+</span></span>
<span id="cb172-33"><a href="validity-and-reliability.html#cb172-33"></a><span class="st">    </span>(Manifested_score.Post <span class="op">*</span><span class="st"> </span>practical_proportional) <span class="op">+</span><span class="st"> </span></span>
<span id="cb172-34"><a href="validity-and-reliability.html#cb172-34"></a><span class="st">    </span><span class="kw">rnorm</span>(n_subjects, <span class="dv">0</span>, practical_random),</span>
<span id="cb172-35"><a href="validity-and-reliability.html#cb172-35"></a>  </span>
<span id="cb172-36"><a href="validity-and-reliability.html#cb172-36"></a>  <span class="dt">Measured_score.Change =</span> Measured_score.Post <span class="op">-</span><span class="st"> </span>Measured_score.Pre</span>
<span id="cb172-37"><a href="validity-and-reliability.html#cb172-37"></a>)</span>
<span id="cb172-38"><a href="validity-and-reliability.html#cb172-38"></a></span>
<span id="cb172-39"><a href="validity-and-reliability.html#cb172-39"></a><span class="kw">head</span>(repeatability_data)</span>
<span id="cb172-40"><a href="validity-and-reliability.html#cb172-40"></a><span class="co">#&gt; # A tibble: 6 x 10</span></span>
<span id="cb172-41"><a href="validity-and-reliability.html#cb172-41"></a><span class="co">#&gt;   Athlete True_score.Pre True_change True_score.Post Manifested_scor…</span></span>
<span id="cb172-42"><a href="validity-and-reliability.html#cb172-42"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span id="cb172-43"><a href="validity-and-reliability.html#cb172-43"></a><span class="co">#&gt; 1 Athlet…           52.9           0            52.9             52.9</span></span>
<span id="cb172-44"><a href="validity-and-reliability.html#cb172-44"></a><span class="co">#&gt; 2 Athlet…           42.4           0            42.4             42.3</span></span>
<span id="cb172-45"><a href="validity-and-reliability.html#cb172-45"></a><span class="co">#&gt; 3 Athlet…           49.2           0            49.2             48.9</span></span>
<span id="cb172-46"><a href="validity-and-reliability.html#cb172-46"></a><span class="co">#&gt; 4 Athlet…           44.8           0            44.8             44.1</span></span>
<span id="cb172-47"><a href="validity-and-reliability.html#cb172-47"></a><span class="co">#&gt; 5 Athlet…           40.0           0            40.0             42.7</span></span>
<span id="cb172-48"><a href="validity-and-reliability.html#cb172-48"></a><span class="co">#&gt; 6 Athlet…           42.6           0            42.6             41.7</span></span>
<span id="cb172-49"><a href="validity-and-reliability.html#cb172-49"></a><span class="co">#&gt; # … with 5 more variables: Manifested_score.Post &lt;dbl&gt;,</span></span>
<span id="cb172-50"><a href="validity-and-reliability.html#cb172-50"></a><span class="co">#&gt; #   Manifested_score.Change &lt;dbl&gt;, Measured_score.Pre &lt;dbl&gt;,</span></span>
<span id="cb172-51"><a href="validity-and-reliability.html#cb172-51"></a><span class="co">#&gt; #   Measured_score.Post &lt;dbl&gt;, Measured_score.Change &lt;dbl&gt;</span></span></code></pre></div>
<p>As can be see in the DGP, we have three components: (1) true score, that doesn’t change from Pre-test to Post-test, (2) manifested score, that doesn’t have systematic effect (i.e. expected or <code>mean</code> is equal to 0) but is affected by random biological noise, and (3) measured score that is affected by both biological noise and instrumentation error (vertical jump was measured using the practical measure).</p>
<p>Let’s estimate reliability using each of these scores. Here is the reliability of the manifested score. SESOI for both true and manifested scores is chosen to be ±2.5cm:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="validity-and-reliability.html#cb173-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_OLP</span>(</span>
<span id="cb173-2"><a href="validity-and-reliability.html#cb173-2"></a>  <span class="dt">predictor =</span> repeatability_data<span class="op">$</span>Manifested_score.Pre,</span>
<span id="cb173-3"><a href="validity-and-reliability.html#cb173-3"></a>  <span class="dt">outcome =</span> repeatability_data<span class="op">$</span>Manifested_score.Post,</span>
<span id="cb173-4"><a href="validity-and-reliability.html#cb173-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Manifested Score Pre-test&quot;</span>,</span>
<span id="cb173-5"><a href="validity-and-reliability.html#cb173-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Manifested Score Post-test&quot;</span>,</span>
<span id="cb173-6"><a href="validity-and-reliability.html#cb173-6"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb173-7"><a href="validity-and-reliability.html#cb173-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span></span>
<span id="cb173-8"><a href="validity-and-reliability.html#cb173-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-64-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="validity-and-reliability.html#cb174-1"></a>manifested_reliability &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">reliability_analysis</span>(</span>
<span id="cb174-2"><a href="validity-and-reliability.html#cb174-2"></a>  <span class="dt">data =</span> repeatability_data,</span>
<span id="cb174-3"><a href="validity-and-reliability.html#cb174-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Manifested_score.Pre&quot;</span>,</span>
<span id="cb174-4"><a href="validity-and-reliability.html#cb174-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Manifested_score.Post&quot;</span>,</span>
<span id="cb174-5"><a href="validity-and-reliability.html#cb174-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span>,</span>
<span id="cb174-6"><a href="validity-and-reliability.html#cb174-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span>,</span>
<span id="cb174-7"><a href="validity-and-reliability.html#cb174-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb174-8"><a href="validity-and-reliability.html#cb174-8"></a>)</span>
<span id="cb174-9"><a href="validity-and-reliability.html#cb174-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb174-10"><a href="validity-and-reliability.html#cb174-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb174-11"><a href="validity-and-reliability.html#cb174-11"></a></span>
<span id="cb174-12"><a href="validity-and-reliability.html#cb174-12"></a>manifested_reliability</span>
<span id="cb174-13"><a href="validity-and-reliability.html#cb174-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb174-14"><a href="validity-and-reliability.html#cb174-14"></a><span class="co">#&gt; </span></span>
<span id="cb174-15"><a href="validity-and-reliability.html#cb174-15"></a><span class="co">#&gt;     estimator      value      lower     upper</span></span>
<span id="cb174-16"><a href="validity-and-reliability.html#cb174-16"></a><span class="co">#&gt;   SESOI lower -2.5000000         NA        NA</span></span>
<span id="cb174-17"><a href="validity-and-reliability.html#cb174-17"></a><span class="co">#&gt;   SESOI upper  2.5000000         NA        NA</span></span>
<span id="cb174-18"><a href="validity-and-reliability.html#cb174-18"></a><span class="co">#&gt;   SESOI range  5.0000000         NA        NA</span></span>
<span id="cb174-19"><a href="validity-and-reliability.html#cb174-19"></a><span class="co">#&gt;     Intercept -3.4271606 -9.5821430 2.9874926</span></span>
<span id="cb174-20"><a href="validity-and-reliability.html#cb174-20"></a><span class="co">#&gt;         Slope  1.0870906  0.9387198 1.2275893</span></span>
<span id="cb174-21"><a href="validity-and-reliability.html#cb174-21"></a><span class="co">#&gt;           RSE  2.1181964  1.6136378 3.0424513</span></span>
<span id="cb174-22"><a href="validity-and-reliability.html#cb174-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.9394992  0.8345656 0.9759104</span></span>
<span id="cb174-23"><a href="validity-and-reliability.html#cb174-23"></a><span class="co">#&gt;     R Squared  0.8826588  0.6965898 0.9524020</span></span>
<span id="cb174-24"><a href="validity-and-reliability.html#cb174-24"></a><span class="co">#&gt;  SESOI to RSE  2.3604987  1.6480073 3.1187994</span></span>
<span id="cb174-25"><a href="validity-and-reliability.html#cb174-25"></a><span class="co">#&gt;          PPER  0.7475330  0.5785637 0.8622366</span></span>
<span id="cb174-26"><a href="validity-and-reliability.html#cb174-26"></a><span class="co">#&gt;            TE  1.4977911  1.1410142 2.1513380</span></span>
<span id="cb174-27"><a href="validity-and-reliability.html#cb174-27"></a><span class="co">#&gt;           SDC  4.4334361  3.3773827 6.3679238</span></span></code></pre></div>
<p>Unfortunately, we do not know this manifested score, as we do not know the true score. We can only measure manifested score. The estimated <code>TE</code> of the practical measure will now contain both instrumentation noise and biological noise. As explained previously, the SESOI for practical is equal to true SESOI multiplied by practical proportional bias (<span class="math inline">\(1.1 \times 2.5\)</span>cm):</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="validity-and-reliability.html#cb175-1"></a>bmbstats<span class="op">::</span><span class="kw">plot_pair_OLP</span>(</span>
<span id="cb175-2"><a href="validity-and-reliability.html#cb175-2"></a>  <span class="dt">predictor =</span> repeatability_data<span class="op">$</span>Measured_score.Pre,</span>
<span id="cb175-3"><a href="validity-and-reliability.html#cb175-3"></a>  <span class="dt">outcome =</span> repeatability_data<span class="op">$</span>Measured_score.Post,</span>
<span id="cb175-4"><a href="validity-and-reliability.html#cb175-4"></a>  <span class="dt">predictor_label =</span> <span class="st">&quot;Measured Score Pre-test&quot;</span>,</span>
<span id="cb175-5"><a href="validity-and-reliability.html#cb175-5"></a>  <span class="dt">outcome_label =</span> <span class="st">&quot;Measured Score Post-test&quot;</span>,</span>
<span id="cb175-6"><a href="validity-and-reliability.html#cb175-6"></a>  <span class="dt">SESOI_lower =</span> <span class="op">-</span><span class="st"> </span><span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb175-7"><a href="validity-and-reliability.html#cb175-7"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional</span>
<span id="cb175-8"><a href="validity-and-reliability.html#cb175-8"></a>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-66-1.png" width="90%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="validity-and-reliability.html#cb176-1"></a>measured_reliability &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">reliability_analysis</span>(</span>
<span id="cb176-2"><a href="validity-and-reliability.html#cb176-2"></a>  <span class="dt">data =</span> repeatability_data,</span>
<span id="cb176-3"><a href="validity-and-reliability.html#cb176-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Measured_score.Pre&quot;</span>,</span>
<span id="cb176-4"><a href="validity-and-reliability.html#cb176-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Measured_score.Post&quot;</span>,</span>
<span id="cb176-5"><a href="validity-and-reliability.html#cb176-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb176-6"><a href="validity-and-reliability.html#cb176-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb176-7"><a href="validity-and-reliability.html#cb176-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb176-8"><a href="validity-and-reliability.html#cb176-8"></a>)</span>
<span id="cb176-9"><a href="validity-and-reliability.html#cb176-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.75 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb176-10"><a href="validity-and-reliability.html#cb176-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb176-11"><a href="validity-and-reliability.html#cb176-11"></a></span>
<span id="cb176-12"><a href="validity-and-reliability.html#cb176-12"></a>measured_reliability</span>
<span id="cb176-13"><a href="validity-and-reliability.html#cb176-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb176-14"><a href="validity-and-reliability.html#cb176-14"></a><span class="co">#&gt; </span></span>
<span id="cb176-15"><a href="validity-and-reliability.html#cb176-15"></a><span class="co">#&gt;     estimator       value      lower     upper</span></span>
<span id="cb176-16"><a href="validity-and-reliability.html#cb176-16"></a><span class="co">#&gt;   SESOI lower -2.75000000         NA        NA</span></span>
<span id="cb176-17"><a href="validity-and-reliability.html#cb176-17"></a><span class="co">#&gt;   SESOI upper  2.75000000         NA        NA</span></span>
<span id="cb176-18"><a href="validity-and-reliability.html#cb176-18"></a><span class="co">#&gt;   SESOI range  5.50000000         NA        NA</span></span>
<span id="cb176-19"><a href="validity-and-reliability.html#cb176-19"></a><span class="co">#&gt;     Intercept -0.07812008 -9.5613061 7.5298921</span></span>
<span id="cb176-20"><a href="validity-and-reliability.html#cb176-20"></a><span class="co">#&gt;         Slope  1.01329856  0.8553983 1.2053227</span></span>
<span id="cb176-21"><a href="validity-and-reliability.html#cb176-21"></a><span class="co">#&gt;           RSE  2.49420427  1.9646649 3.3307725</span></span>
<span id="cb176-22"><a href="validity-and-reliability.html#cb176-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.92440336  0.8391887 0.9681646</span></span>
<span id="cb176-23"><a href="validity-and-reliability.html#cb176-23"></a><span class="co">#&gt;     R Squared  0.85452158  0.7042450 0.9373512</span></span>
<span id="cb176-24"><a href="validity-and-reliability.html#cb176-24"></a><span class="co">#&gt;  SESOI to RSE  2.20511209  1.6537377 2.8007336</span></span>
<span id="cb176-25"><a href="validity-and-reliability.html#cb176-25"></a><span class="co">#&gt;          PPER  0.71600963  0.5809328 0.8223197</span></span>
<span id="cb176-26"><a href="validity-and-reliability.html#cb176-26"></a><span class="co">#&gt;            TE  1.76366875  1.3892279 2.3552118</span></span>
<span id="cb176-27"><a href="validity-and-reliability.html#cb176-27"></a><span class="co">#&gt;           SDC  5.22042954  4.1120910 6.9713869</span></span></code></pre></div>
<p>As can be seen from the analysis, now the biological noise is contained (or propagated) to <code>RSE</code>, <code>SDC</code> and other estimators of the practical measure random error. The random error (<code>TE</code>) inside the practical measure is equal to:</p>
<p><span class="math display">\[
  TE^2 = (proportional \; bias \times biological \; noise)^2 + practical \; random \; error ^2 
\]</span></p>
<p>Estimated biological noise (using manifested analysis <code>TE</code>) is equal to 1.5cm (or we could use true DGP value of 2cm), simulated practical random error is equal to 1cm, and the simulated slope is equal to 1.1. Thus expected estimate <code>TE</code> of the practical measure is equal to 1.93cm, which is very close to the above estimated <code>TE</code> (1.76cm).</p>
</div>
<div id="the-difference-between-reproducibility-and-repeatability" class="section level3" number="15.3.3">
<h3><span class="header-section-number">15.3.3</span> The difference between Reproducibility and Repeatability</h3>
<p>What’s the difference between the estimate reproducibility and repeatability of the practical measure? Well, with reproducibility we aim to estimate sole instrumentation noise without biological noise/variation. This is done by making sure that the devices are measuring exactly the same phenomena.</p>
<p>With repeatability, we want to estimate combination of the biological variation and instrumentation noise. Since we have used SESOI defined for reproducibility (i.e. same true score), the magnitude-based estimators were much worse with the repeatability analysis, where biological variation introduced additional stochastic component.</p>
<p>In <a href="measurement-error.html#measurement-error">Measurement Error</a> chapter, I have explained that measurement error is the combination of instrumentation noise and biological variation (i.e. repeatability analysis is used to estimate it). I have also explained the use of <code>SDC</code> (and <code>TE</code>) to interpret individual changes (see <a href="measurement-error.html#interpreting-individual-changes-using-sesoi-and-sdc">Interpreting individual changes using SESOI and SDC</a> in the aforementioned chapter). The question is then which <code>SDC</code> should be used? The one estimated from reproducibility (or validity analysis), or the one estimated from repeatability (involving biological noise)?</p>
<p>The answer depends on what question we are trying to answer. If we use <code>SDC</code> from reproducibility analysis (i.e. pure instrumentation noise) to interpret individual change, we will estimate the uncertainty around manifested performance change. On the other hand, if we use <code>SDC</code> from repeatability analysis (i.e. combined biological variation and instrumentation noise), we will estimate uncertainty around true performance change.</p>
<p>To demonstrate and plot these differences, let’s use <code>bmbstats::observations_MET</code> that we have introduced in <a href="descriptive-tasks-using-bmbstats.html#measurement-error-issues">Measurement error issues</a> section of the <a href="descriptive-tasks-using-bmbstats.html#descriptive-tasks-using-bmbstats">Descriptive tasks using <code>bmbstats</code></a> chapter. But before we demonstrate these differences, we need to create few more column inside our simulated DGP - we need to have true score as would be measured by the practical measure (without the practical measure random noise), and manifested score as would be measured by the practical measure (without the practical measure random noise). This needs to be done to deal with practical measure proportional bias.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="validity-and-reliability.html#cb177-1"></a>repeatability_data &lt;-<span class="st"> </span>repeatability_data <span class="op">%&gt;%</span></span>
<span id="cb177-2"><a href="validity-and-reliability.html#cb177-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb177-3"><a href="validity-and-reliability.html#cb177-3"></a>    <span class="dt">True_score_measured.Pre =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score.Pre <span class="op">*</span><span class="st"> </span>practical_proportional),</span>
<span id="cb177-4"><a href="validity-and-reliability.html#cb177-4"></a>    <span class="dt">True_score_measured.Post =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(True_score.Post <span class="op">*</span><span class="st"> </span>practical_proportional),</span>
<span id="cb177-5"><a href="validity-and-reliability.html#cb177-5"></a>    <span class="dt">True_score_measured.Change =</span> True_score_measured.Post <span class="op">-</span><span class="st"> </span>True_score_measured.Pre,</span>
<span id="cb177-6"><a href="validity-and-reliability.html#cb177-6"></a>    </span>
<span id="cb177-7"><a href="validity-and-reliability.html#cb177-7"></a>    <span class="dt">Manifested_score_measured.Pre =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(Manifested_score.Pre <span class="op">*</span><span class="st"> </span>practical_proportional),</span>
<span id="cb177-8"><a href="validity-and-reliability.html#cb177-8"></a>    <span class="dt">Manifested_score_measured.Post =</span> practical_fixed <span class="op">+</span><span class="st"> </span>(Manifested_score.Post <span class="op">*</span><span class="st"> </span>practical_proportional),</span>
<span id="cb177-9"><a href="validity-and-reliability.html#cb177-9"></a>    <span class="dt">Manifested_score_measured.Change =</span> Manifested_score_measured.Post <span class="op">-</span><span class="st"> </span>Manifested_score_measured.Pre</span>
<span id="cb177-10"><a href="validity-and-reliability.html#cb177-10"></a>  )</span>
<span id="cb177-11"><a href="validity-and-reliability.html#cb177-11"></a></span>
<span id="cb177-12"><a href="validity-and-reliability.html#cb177-12"></a><span class="kw">head</span>(repeatability_data)</span>
<span id="cb177-13"><a href="validity-and-reliability.html#cb177-13"></a><span class="co">#&gt; # A tibble: 6 x 16</span></span>
<span id="cb177-14"><a href="validity-and-reliability.html#cb177-14"></a><span class="co">#&gt;   Athlete True_score.Pre True_change True_score.Post Manifested_scor…</span></span>
<span id="cb177-15"><a href="validity-and-reliability.html#cb177-15"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;dbl&gt;       &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;</span></span>
<span id="cb177-16"><a href="validity-and-reliability.html#cb177-16"></a><span class="co">#&gt; 1 Athlet…           52.9           0            52.9             52.9</span></span>
<span id="cb177-17"><a href="validity-and-reliability.html#cb177-17"></a><span class="co">#&gt; 2 Athlet…           42.4           0            42.4             42.3</span></span>
<span id="cb177-18"><a href="validity-and-reliability.html#cb177-18"></a><span class="co">#&gt; 3 Athlet…           49.2           0            49.2             48.9</span></span>
<span id="cb177-19"><a href="validity-and-reliability.html#cb177-19"></a><span class="co">#&gt; 4 Athlet…           44.8           0            44.8             44.1</span></span>
<span id="cb177-20"><a href="validity-and-reliability.html#cb177-20"></a><span class="co">#&gt; 5 Athlet…           40.0           0            40.0             42.7</span></span>
<span id="cb177-21"><a href="validity-and-reliability.html#cb177-21"></a><span class="co">#&gt; 6 Athlet…           42.6           0            42.6             41.7</span></span>
<span id="cb177-22"><a href="validity-and-reliability.html#cb177-22"></a><span class="co">#&gt; # … with 11 more variables: Manifested_score.Post &lt;dbl&gt;,</span></span>
<span id="cb177-23"><a href="validity-and-reliability.html#cb177-23"></a><span class="co">#&gt; #   Manifested_score.Change &lt;dbl&gt;, Measured_score.Pre &lt;dbl&gt;,</span></span>
<span id="cb177-24"><a href="validity-and-reliability.html#cb177-24"></a><span class="co">#&gt; #   Measured_score.Post &lt;dbl&gt;, Measured_score.Change &lt;dbl&gt;,</span></span>
<span id="cb177-25"><a href="validity-and-reliability.html#cb177-25"></a><span class="co">#&gt; #   True_score_measured.Pre &lt;dbl&gt;, True_score_measured.Post &lt;dbl&gt;,</span></span>
<span id="cb177-26"><a href="validity-and-reliability.html#cb177-26"></a><span class="co">#&gt; #   True_score_measured.Change &lt;dbl&gt;, Manifested_score_measured.Pre &lt;dbl&gt;,</span></span>
<span id="cb177-27"><a href="validity-and-reliability.html#cb177-27"></a><span class="co">#&gt; #   Manifested_score_measured.Post &lt;dbl&gt;,</span></span>
<span id="cb177-28"><a href="validity-and-reliability.html#cb177-28"></a><span class="co">#&gt; #   Manifested_score_measured.Change &lt;dbl&gt;</span></span></code></pre></div>
<p>Now let’s plot measured change (i.e. difference between measured Post-test and Pre-test using practical measure), together with manifested change (as would be measured with practical measure with no random error). Confidence intervals around measured change represent 95% <code>SDC</code> that is calculated using known practical measure random error (i.e. estimated <code>TE</code> from reproducibility analysis - the sole instrumentation noise). CIs should capture vertical red lines (manifested change):</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="validity-and-reliability.html#cb178-1"></a>measured_change &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">observations_MET</span>(</span>
<span id="cb178-2"><a href="validity-and-reliability.html#cb178-2"></a>  <span class="dt">observations =</span> repeatability_data<span class="op">$</span>Measured_score.Change,</span>
<span id="cb178-3"><a href="validity-and-reliability.html#cb178-3"></a>  <span class="dt">observations_label =</span> repeatability_data<span class="op">$</span>Athlete,</span>
<span id="cb178-4"><a href="validity-and-reliability.html#cb178-4"></a>  <span class="dt">measurement_error =</span> practical_random <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span>),</span>
<span id="cb178-5"><a href="validity-and-reliability.html#cb178-5"></a>  <span class="co"># Degrees of freedom from the reliability study. Use `Inf` for normal distribution</span></span>
<span id="cb178-6"><a href="validity-and-reliability.html#cb178-6"></a>  <span class="dt">df =</span> <span class="ot">Inf</span>,</span>
<span id="cb178-7"><a href="validity-and-reliability.html#cb178-7"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb178-8"><a href="validity-and-reliability.html#cb178-8"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb178-9"><a href="validity-and-reliability.html#cb178-9"></a>  </span>
<span id="cb178-10"><a href="validity-and-reliability.html#cb178-10"></a>  <span class="co"># Will not use Bonferroni adjustment here</span></span>
<span id="cb178-11"><a href="validity-and-reliability.html#cb178-11"></a>  <span class="dt">alpha =</span> <span class="fl">0.05</span>,</span>
<span id="cb178-12"><a href="validity-and-reliability.html#cb178-12"></a>  <span class="co"># No adjustment in CIs for plotting</span></span>
<span id="cb178-13"><a href="validity-and-reliability.html#cb178-13"></a>  <span class="dt">confidence =</span> <span class="fl">0.95</span></span>
<span id="cb178-14"><a href="validity-and-reliability.html#cb178-14"></a>)</span>
<span id="cb178-15"><a href="validity-and-reliability.html#cb178-15"></a></span>
<span id="cb178-16"><a href="validity-and-reliability.html#cb178-16"></a><span class="kw">plot</span>(</span>
<span id="cb178-17"><a href="validity-and-reliability.html#cb178-17"></a>  measured_change,</span>
<span id="cb178-18"><a href="validity-and-reliability.html#cb178-18"></a>  <span class="dt">true_observations =</span> repeatability_data<span class="op">$</span>Manifested_score_measured.Change,</span>
<span id="cb178-19"><a href="validity-and-reliability.html#cb178-19"></a>  <span class="dt">control =</span> <span class="kw">plot_control</span>(<span class="dt">points_size =</span> <span class="dv">5</span>)) <span class="op">+</span></span>
<span id="cb178-20"><a href="validity-and-reliability.html#cb178-20"></a><span class="st">  </span><span class="kw">xlim</span>(<span class="op">-</span><span class="dv">8</span>, <span class="dv">9</span>)</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-69-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Our CIs using sole instrumentation noise (I have used DGP parameter, but in real life we can use <code>TE</code> from reproducibility analysis) managed to capture manifested change (i.e. true change plus biological variation).</p>
<p>If we use <code>TE</code> from repeatability analysis (i.e. the one that captures both biological variation and instrumentation noise), we will be interested in capturing “true change” (without biological variation):</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="validity-and-reliability.html#cb179-1"></a>measured_change &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">observations_MET</span>(</span>
<span id="cb179-2"><a href="validity-and-reliability.html#cb179-2"></a>  <span class="dt">observations =</span> repeatability_data<span class="op">$</span>Measured_score.Change,</span>
<span id="cb179-3"><a href="validity-and-reliability.html#cb179-3"></a>  <span class="dt">observations_label =</span> repeatability_data<span class="op">$</span>Athlete,</span>
<span id="cb179-4"><a href="validity-and-reliability.html#cb179-4"></a>  </span>
<span id="cb179-5"><a href="validity-and-reliability.html#cb179-5"></a>  <span class="co"># Use TE from repeatability analysis</span></span>
<span id="cb179-6"><a href="validity-and-reliability.html#cb179-6"></a>  <span class="dt">measurement_error =</span> measured_reliability<span class="op">$</span>estimators<span class="op">$</span>value[<span class="dv">11</span>] <span class="op">*</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span>),</span>
<span id="cb179-7"><a href="validity-and-reliability.html#cb179-7"></a>  <span class="co"># Degrees of freedom from the reliability study. Use `Inf` for normal distribution</span></span>
<span id="cb179-8"><a href="validity-and-reliability.html#cb179-8"></a>  <span class="dt">df =</span> <span class="ot">Inf</span>,</span>
<span id="cb179-9"><a href="validity-and-reliability.html#cb179-9"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb179-10"><a href="validity-and-reliability.html#cb179-10"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb179-11"><a href="validity-and-reliability.html#cb179-11"></a>  </span>
<span id="cb179-12"><a href="validity-and-reliability.html#cb179-12"></a>  <span class="co"># Will not use Bonferroni adjustment here</span></span>
<span id="cb179-13"><a href="validity-and-reliability.html#cb179-13"></a>  <span class="dt">alpha =</span> <span class="fl">0.05</span>,</span>
<span id="cb179-14"><a href="validity-and-reliability.html#cb179-14"></a>  <span class="co"># No adjustment in CIs for plotting</span></span>
<span id="cb179-15"><a href="validity-and-reliability.html#cb179-15"></a>  <span class="dt">confidence =</span> <span class="fl">0.95</span></span>
<span id="cb179-16"><a href="validity-and-reliability.html#cb179-16"></a>)</span>
<span id="cb179-17"><a href="validity-and-reliability.html#cb179-17"></a></span>
<span id="cb179-18"><a href="validity-and-reliability.html#cb179-18"></a><span class="kw">plot</span>(</span>
<span id="cb179-19"><a href="validity-and-reliability.html#cb179-19"></a>  measured_change,</span>
<span id="cb179-20"><a href="validity-and-reliability.html#cb179-20"></a>  <span class="dt">true_observations =</span> repeatability_data<span class="op">$</span>True_score_measured.Change,</span>
<span id="cb179-21"><a href="validity-and-reliability.html#cb179-21"></a>  <span class="dt">control =</span> <span class="kw">plot_control</span>(<span class="dt">points_size =</span> <span class="dv">5</span>))</span></code></pre></div>
<p><img src="15-Validity-and-reliability_files/figure-html/unnamed-chunk-70-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Since there is no true change in this DGP, all vertical red lines are aligned at 0. Our CIs in this case represent 95% <code>SDC</code> estimated using both biological variation and instrumentation error.</p>
<p>It is important to remember when analyzing individual change how <code>TE</code> or <code>SDC</code> are estimated - does it represent sole instrumentation error (i.e. estimated in validity or reproducibility study) or it represents measurement error combined of biological variation and instrumentation error (i.e. estimated in repeatability study). Ideally, we would need to know instrumentation noise and biological noise. If we know instrumentation noise (from validity or reproducibility study), we can <em>extract</em> biological variation (as it would be measured with the practical measure in this case).</p>
<p>To get biological noise, as it would be measured with the practical measure, let’s use the generated columns:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="validity-and-reliability.html#cb180-1"></a>manifested_measured_reliability &lt;-<span class="st"> </span>bmbstats<span class="op">::</span><span class="kw">reliability_analysis</span>(</span>
<span id="cb180-2"><a href="validity-and-reliability.html#cb180-2"></a>  <span class="dt">data =</span> repeatability_data,</span>
<span id="cb180-3"><a href="validity-and-reliability.html#cb180-3"></a>  <span class="dt">trial1 =</span> <span class="st">&quot;Manifested_score_measured.Pre&quot;</span>,</span>
<span id="cb180-4"><a href="validity-and-reliability.html#cb180-4"></a>  <span class="dt">trial2 =</span> <span class="st">&quot;Manifested_score_measured.Post&quot;</span>,</span>
<span id="cb180-5"><a href="validity-and-reliability.html#cb180-5"></a>  <span class="dt">SESOI_lower =</span> <span class="fl">-2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb180-6"><a href="validity-and-reliability.html#cb180-6"></a>  <span class="dt">SESOI_upper =</span> <span class="fl">2.5</span> <span class="op">*</span><span class="st"> </span>practical_proportional,</span>
<span id="cb180-7"><a href="validity-and-reliability.html#cb180-7"></a>  <span class="dt">control =</span> <span class="kw">model_control</span>(<span class="dt">seed =</span> <span class="dv">1667</span>)</span>
<span id="cb180-8"><a href="validity-and-reliability.html#cb180-8"></a>)</span>
<span id="cb180-9"><a href="validity-and-reliability.html#cb180-9"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  2.75 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb180-10"><a href="validity-and-reliability.html#cb180-10"></a><span class="co">#&gt; [1] &quot;All values of t are equal to  5.5 \n Cannot calculate confidence intervals&quot;</span></span>
<span id="cb180-11"><a href="validity-and-reliability.html#cb180-11"></a></span>
<span id="cb180-12"><a href="validity-and-reliability.html#cb180-12"></a>manifested_measured_reliability</span>
<span id="cb180-13"><a href="validity-and-reliability.html#cb180-13"></a><span class="co">#&gt; Bootstrap with 2000 resamples and 95% bca confidence intervals.</span></span>
<span id="cb180-14"><a href="validity-and-reliability.html#cb180-14"></a><span class="co">#&gt; </span></span>
<span id="cb180-15"><a href="validity-and-reliability.html#cb180-15"></a><span class="co">#&gt;     estimator      value       lower     upper</span></span>
<span id="cb180-16"><a href="validity-and-reliability.html#cb180-16"></a><span class="co">#&gt;   SESOI lower -2.7500000          NA        NA</span></span>
<span id="cb180-17"><a href="validity-and-reliability.html#cb180-17"></a><span class="co">#&gt;   SESOI upper  2.7500000          NA        NA</span></span>
<span id="cb180-18"><a href="validity-and-reliability.html#cb180-18"></a><span class="co">#&gt;   SESOI range  5.5000000          NA        NA</span></span>
<span id="cb180-19"><a href="validity-and-reliability.html#cb180-19"></a><span class="co">#&gt;     Intercept -3.9440578 -11.0023147 3.4883182</span></span>
<span id="cb180-20"><a href="validity-and-reliability.html#cb180-20"></a><span class="co">#&gt;         Slope  1.0870906   0.9387198 1.2275893</span></span>
<span id="cb180-21"><a href="validity-and-reliability.html#cb180-21"></a><span class="co">#&gt;           RSE  2.3300161   1.7750016 3.3466965</span></span>
<span id="cb180-22"><a href="validity-and-reliability.html#cb180-22"></a><span class="co">#&gt;   Pearson&#39;s r  0.9394992   0.8345656 0.9759104</span></span>
<span id="cb180-23"><a href="validity-and-reliability.html#cb180-23"></a><span class="co">#&gt;     R Squared  0.8826588   0.6965898 0.9524020</span></span>
<span id="cb180-24"><a href="validity-and-reliability.html#cb180-24"></a><span class="co">#&gt;  SESOI to RSE  2.3604987   1.6480073 3.1187994</span></span>
<span id="cb180-25"><a href="validity-and-reliability.html#cb180-25"></a><span class="co">#&gt;          PPER  0.7475330   0.5785637 0.8622366</span></span>
<span id="cb180-26"><a href="validity-and-reliability.html#cb180-26"></a><span class="co">#&gt;            TE  1.6475702   1.2551157 2.3664718</span></span>
<span id="cb180-27"><a href="validity-and-reliability.html#cb180-27"></a><span class="co">#&gt;           SDC  4.8767797   3.7151210 7.0047162</span></span></code></pre></div>
<p>Measured manifested <code>TE</code> represents biological noise/variation that would be measured with the practical measure without random error. It is equal to 1.65cm. But we do not know this in the real life and we want to estimate it from the <code>TE</code> from repeatability study and know instrumentation noise.</p>
<p>The estimated <code>TE</code> of the practical measure in the repeatability study is equal to 1.76cm. This <code>TE</code> contains both biological noise and instrumentation noise. Since we know the instrumentation noise (either from reproducibility or validity study; or from DGP in our case), we can estimate biological error (as would be estimated by practical measure without random error):</p>
<p><span class="math display">\[
\begin{align}
  TE^2 &amp;= Biological^2 + Instrument^2 \\
  Biological^2 &amp;= TE^2 - Instrument^2 \\
  Biological &amp;= \sqrt{TE^2 - Instrument^2}
\end{align}
\]</span></p>
<p>We thus get the estimate of biological variation to be equal to 1.45cm, which is very close to the above estimate biological variation of 1.65cm. Please note that the difference is due to me using simulation true practical measure random error, rather than estimated in this sample.</p>
<p>We will continue this topic in the next chapter where we will discuss Randomized Controlled Trials and the Control group will serves as a simple repeatability study that will inform us about uncertainty around true treatment effect.</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-blandStatisticalMethodsAssessing1986">
<p>Bland, J. M., and D. G. Altman. 1986. “Statistical Methods for Assessing Agreement Between Two Methods of Clinical Measurement.” <em>Lancet (London, England)</em> 1 (8476): 307–10.</p>
</div>
<div id="ref-borsboomMeasuringMindConceptual2009">
<p>Borsboom, Denny. 2009. <em>Measuring the Mind: Conceptual Issues in Modern Psychometrics</em>. Cambridge: Cambridge University Press.</p>
</div>
<div id="ref-giavarinaUnderstandingBlandAltman2015">
<p>Giavarina, Davide. 2015. “Understanding Bland Altman Analysis.” <em>Biochemia Medica</em> 25 (2): 141–51. <a href="https://doi.org/10.11613/BM.2015.015">https://doi.org/10.11613/BM.2015.015</a>.</p>
</div>
<div id="ref-hopkinsSpreadsheetsAnalysisValidity2015">
<p>Hopkins, Will. 2015. “Spreadsheets for Analysis of Validity and Reliability.” <em>Sportscience.org</em>, 9.</p>
</div>
<div id="ref-hopkinsBiasBlandAltmanNot2004">
<p>Hopkins, Will G. 2004b. “Bias in Bland-Altman but Not Regression Validity Analyses.” <em>Sportscience.org</em>. https://sportsci.org/jour/04/wghbias.htm.</p>
</div>
<div id="ref-hopkinsSocraticDialogueComparison2010">
<p>Hopkins, Will G. 2010. “A Socratic Dialogue on Comparison of Measures.” <em>Sportscience.org</em>. http://www.sportsci.org/2010/wghmeasures.htm.</p>
</div>
<div id="ref-ludbrookSPECIALARTICLECOMPARING1997">
<p>Ludbrook, John. 1997. “SPECIAL ARTICLE COMPARING METHODS OF MEASUREMENT.” <em>Clinical and Experimental Pharmacology and Physiology</em> 24 (2): 193–203. <a href="https://doi.org/10.1111/j.1440-1681.1997.tb01807.x">https://doi.org/10.1111/j.1440-1681.1997.tb01807.x</a>.</p>
</div>
<div id="ref-ludbrookStatisticalTechniquesComparing2002">
<p>Ludbrook, John. 2002. “Statistical Techniques for Comparing Measurers and Methods of Measurement: A Critical Review.” <em>Clinical and Experimental Pharmacology and Physiology</em> 29 (7): 527–36. <a href="https://doi.org/10.1046/j.1440-1681.2002.03686.x">https://doi.org/10.1046/j.1440-1681.2002.03686.x</a>.</p>
</div>
<div id="ref-ludbrookLinearRegressionAnalysis2010">
<p>Ludbrook, John. 2010. “Linear Regression Analysis for Comparing Two Measurers or Methods of Measurement: But Which Regression?: Linear Regression for Comparing Methods.” <em>Clinical and Experimental Pharmacology and Physiology</em> 37 (7): 692–99. <a href="https://doi.org/10.1111/j.1440-1681.2010.05376.x">https://doi.org/10.1111/j.1440-1681.2010.05376.x</a>.</p>
</div>
<div id="ref-ludbrookPrimerBiomedicalScientists2012">
<p>Ludbrook, John. 2012. “A Primer for Biomedical Scientists on How to Execute Model II Linear Regression Analysis: Model II Linear Regression Analysis.” <em>Clinical and Experimental Pharmacology and Physiology</em> 39 (4): 329–35. <a href="https://doi.org/10.1111/j.1440-1681.2011.05643.x">https://doi.org/10.1111/j.1440-1681.2011.05643.x</a>.</p>
</div>
<div id="ref-mullineauxAssessmentBiasComparing1999">
<p>Mullineaux, David R., Christopher A. Barnes, and Alan M. Batterham. 1999. “Assessment of Bias in Comparing Measurements: A Reliability Example.” <em>Measurement in Physical Education and Exercise Science</em> 3 (4): 195–205. <a href="https://doi.org/10.1207/s15327841mpee0304_1">https://doi.org/10.1207/s15327841mpee0304_1</a>.</p>
</div>
<div id="ref-wallaceAnalysisImperfectWorld2020">
<p>Wallace, Michael. 2020. “Analysis in an Imperfect World.” <em>Significance</em> 17 (1): 14–19. <a href="https://doi.org/10.1111/j.1740-9713.2020.01353.x">https://doi.org/10.1111/j.1740-9713.2020.01353.x</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="predictive-tasks-using-bmbstats.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rct-analysis-and-prediction-in-bmbstats.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mladenjovanovic/bmbstats-book/15-Validity-and-reliability.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
