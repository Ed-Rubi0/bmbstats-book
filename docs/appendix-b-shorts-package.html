<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Appendix B: shorts package | bmbstats: bootstrap magnitude-based statistics for sports scientists</title>
  <meta name="description" content="Chapter 18 Appendix B: shorts package | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta name="generator" content="bookdown 0.20.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Appendix B: shorts package | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="mladenjovanovic.github.io/bmbstats-book" />
  
  
  <meta name="github-repo" content="mladenjovanovic/bmbstats-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Appendix B: shorts package | bmbstats: bootstrap magnitude-based statistics for sports scientists" />
  <meta name="twitter:site" content="@physical_prep" />
  
  

<meta name="author" content="Mladen Jovanovic" />


<meta name="date" content="2020-08-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="appendix-a-dorem-package.html"/>
<link rel="next" href="appendix-c-vjsim-package.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="adv-r.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">bmbstats book</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-and-r-packages"><i class="fa fa-check"></i>R and R packages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul></li>
<li class="part"><span><b>I Part One</b></span></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="description.html"><a href="description.html"><i class="fa fa-check"></i><b>2</b> Description</a>
<ul>
<li class="chapter" data-level="2.1" data-path="description.html"><a href="description.html#comparing-two-independent-groups"><i class="fa fa-check"></i><b>2.1</b> Comparing two independent groups</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="description.html"><a href="description.html#sample-mean-as-the-simplest-statistical-model"><i class="fa fa-check"></i><b>2.1.1</b> Sample <code>mean</code> as the simplest statistical model</a></li>
<li class="chapter" data-level="2.1.2" data-path="description.html"><a href="description.html#effect-sizes"><i class="fa fa-check"></i><b>2.1.2</b> Effect Sizes</a></li>
<li class="chapter" data-level="2.1.3" data-path="description.html"><a href="description.html#the-smallest-effect-size-of-interest"><i class="fa fa-check"></i><b>2.1.3</b> The Smallest Effect Size Of Interest</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="description.html"><a href="description.html#comparing-dependent-groups"><i class="fa fa-check"></i><b>2.2</b> Comparing dependent groups</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="description.html"><a href="description.html#describing-groups-as-independent"><i class="fa fa-check"></i><b>2.2.1</b> Describing groups as independent</a></li>
<li class="chapter" data-level="2.2.2" data-path="description.html"><a href="description.html#effect-sizes-1"><i class="fa fa-check"></i><b>2.2.2</b> Effect Sizes</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="description.html"><a href="description.html#describing-relationship-between-two-variables"><i class="fa fa-check"></i><b>2.3</b> Describing relationship between two variables</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="description.html"><a href="description.html#magnitude-based-estimators"><i class="fa fa-check"></i><b>2.3.1</b> Magnitude-based estimators</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="description.html"><a href="description.html#advanced-uses"><i class="fa fa-check"></i><b>2.4</b> Advanced uses</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>3</b> Prediction</a>
<ul>
<li class="chapter" data-level="3.1" data-path="prediction.html"><a href="prediction.html#overfitting"><i class="fa fa-check"></i><b>3.1</b> Overfitting</a></li>
<li class="chapter" data-level="3.2" data-path="prediction.html"><a href="prediction.html#cross-validation"><i class="fa fa-check"></i><b>3.2</b> Cross-Validation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="prediction.html"><a href="prediction.html#sample-mean-as-the-simplest-predictive-model"><i class="fa fa-check"></i><b>3.2.1</b> Sample <code>mean</code> as the simplest predictive model</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="prediction.html"><a href="prediction.html#bias-variance-decomposition-and-trade-off"><i class="fa fa-check"></i><b>3.3</b> Bias-Variance decomposition and trade-off</a></li>
<li class="chapter" data-level="3.4" data-path="prediction.html"><a href="prediction.html#interpretability"><i class="fa fa-check"></i><b>3.4</b> Interpretability</a></li>
<li class="chapter" data-level="3.5" data-path="prediction.html"><a href="prediction.html#magnitude-based-prediction-estimators"><i class="fa fa-check"></i><b>3.5</b> Magnitude-based prediction estimators</a></li>
<li class="chapter" data-level="3.6" data-path="prediction.html"><a href="prediction.html#practical-example-mas-and-yoyoir1-prediction"><i class="fa fa-check"></i><b>3.6</b> Practical example: MAS and YoYoIR1 prediction</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prediction.html"><a href="prediction.html#predicting-mas-from-yoyoir1"><i class="fa fa-check"></i><b>3.6.1</b> Predicting MAS from YoYoIR1</a></li>
<li class="chapter" data-level="3.6.2" data-path="prediction.html"><a href="prediction.html#predicting-yoyoir1-from-mas"><i class="fa fa-check"></i><b>3.6.2</b> Predicting YoYoIR1 from MAS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="causal-inference.html"><a href="causal-inference.html"><i class="fa fa-check"></i><b>4</b> Causal inference</a>
<ul>
<li class="chapter" data-level="4.1" data-path="causal-inference.html"><a href="causal-inference.html#necessary-versus-sufficient-causality"><i class="fa fa-check"></i><b>4.1</b> Necessary versus sufficient causality</a></li>
<li class="chapter" data-level="4.2" data-path="causal-inference.html"><a href="causal-inference.html#observational-data"><i class="fa fa-check"></i><b>4.2</b> Observational data</a></li>
<li class="chapter" data-level="4.3" data-path="causal-inference.html"><a href="causal-inference.html#potential-outcomes-or-counterfactuals"><i class="fa fa-check"></i><b>4.3</b> Potential outcomes or counterfactuals</a></li>
<li class="chapter" data-level="4.4" data-path="causal-inference.html"><a href="causal-inference.html#ceteris-paribus-and-the-biases"><i class="fa fa-check"></i><b>4.4</b> <em>Ceteris paribus</em> and the biases</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="causal-inference.html"><a href="causal-inference.html#randomization"><i class="fa fa-check"></i><b>4.4.1</b> Randomization</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="causal-inference.html"><a href="causal-inference.html#subject-matter-knowledge"><i class="fa fa-check"></i><b>4.5</b> Subject matter knowledge</a></li>
<li class="chapter" data-level="4.6" data-path="causal-inference.html"><a href="causal-inference.html#example-of-randomized-control-trial"><i class="fa fa-check"></i><b>4.6</b> Example of randomized control trial</a></li>
<li class="chapter" data-level="4.7" data-path="causal-inference.html"><a href="causal-inference.html#prediction-as-a-complement-to-causal-inference"><i class="fa fa-check"></i><b>4.7</b> Prediction as a complement to causal inference</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="causal-inference.html"><a href="causal-inference.html#analysis-of-the-individual-residuals-responders-vs-non-responders"><i class="fa fa-check"></i><b>4.7.1</b> Analysis of the individual residuals: responders vs non-responders</a></li>
<li class="chapter" data-level="4.7.2" data-path="causal-inference.html"><a href="causal-inference.html#counterfactual-analysis-and-individual-treatment-effects"><i class="fa fa-check"></i><b>4.7.2</b> Counterfactual analysis and Individual Treatment Effects</a></li>
<li class="chapter" data-level="4.7.3" data-path="causal-inference.html"><a href="causal-inference.html#direct-and-indirect-effect-covariates-and-then-some"><i class="fa fa-check"></i><b>4.7.3</b> Direct and indirect effect, covariates and then some</a></li>
<li class="chapter" data-level="4.7.4" data-path="causal-inference.html"><a href="causal-inference.html#model-selection"><i class="fa fa-check"></i><b>4.7.4</b> Model selection</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="causal-inference.html"><a href="causal-inference.html#ergodicity"><i class="fa fa-check"></i><b>4.8</b> Ergodicity</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistical-inference.html"><a href="statistical-inference.html"><i class="fa fa-check"></i><b>5</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="5.1" data-path="statistical-inference.html"><a href="statistical-inference.html#two-kinds-of-uncertainty-probability-and-statistical-inference"><i class="fa fa-check"></i><b>5.1</b> Two kinds of uncertainty, probability, and statistical inference</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html"><i class="fa fa-check"></i><b>6</b> Frequentist perspective</a>
<ul>
<li class="chapter" data-level="6.1" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#null-hypothesis-significance-testing"><i class="fa fa-check"></i><b>6.1</b> Null-Hypothesis Significance Testing</a></li>
<li class="chapter" data-level="6.2" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#statistical-power"><i class="fa fa-check"></i><b>6.2</b> Statistical Power</a></li>
<li class="chapter" data-level="6.3" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#new-statistics-confidence-intervals-and-estimation"><i class="fa fa-check"></i><b>6.3</b> New Statistics: Confidence Intervals and Estimation</a></li>
<li class="chapter" data-level="6.4" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#minimum-effect-tests"><i class="fa fa-check"></i><b>6.4</b> Minimum Effect Tests</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#individual-vs.-parameter-sesoi"><i class="fa fa-check"></i><b>6.4.1</b> Individual vs. Parameter SESOI</a></li>
<li class="chapter" data-level="6.4.2" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#two-one-sided-tests-of-equivalence"><i class="fa fa-check"></i><b>6.4.2</b> Two one-sided tests of equivalence</a></li>
<li class="chapter" data-level="6.4.3" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#superiority-and-non-inferiority"><i class="fa fa-check"></i><b>6.4.3</b> Superiority and Non-Inferiority</a></li>
<li class="chapter" data-level="6.4.4" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#inferiority-and-non-superiority"><i class="fa fa-check"></i><b>6.4.4</b> Inferiority and Non-Superiority</a></li>
<li class="chapter" data-level="6.4.5" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#inference-from-mets"><i class="fa fa-check"></i><b>6.4.5</b> Inference from METs</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="frequentist-perspective.html"><a href="frequentist-perspective.html#magnitude-based-inference"><i class="fa fa-check"></i><b>6.5</b> Magnitude Based Inference</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html"><i class="fa fa-check"></i><b>7</b> Bayesian perspective</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#grid-approximation"><i class="fa fa-check"></i><b>7.1</b> Grid approximation</a></li>
<li class="chapter" data-level="7.2" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#priors"><i class="fa fa-check"></i><b>7.2</b> Priors</a></li>
<li class="chapter" data-level="7.3" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#likelihood-function"><i class="fa fa-check"></i><b>7.3</b> Likelihood function</a></li>
<li class="chapter" data-level="7.4" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#posterior-probability"><i class="fa fa-check"></i><b>7.4</b> Posterior probability</a></li>
<li class="chapter" data-level="7.5" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#adding-more-possibilities"><i class="fa fa-check"></i><b>7.5</b> Adding more possibilities</a></li>
<li class="chapter" data-level="7.6" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#different-prior"><i class="fa fa-check"></i><b>7.6</b> Different prior</a></li>
<li class="chapter" data-level="7.7" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#more-data"><i class="fa fa-check"></i><b>7.7</b> More data</a></li>
<li class="chapter" data-level="7.8" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#summarizing-prior-and-posterior-distributions-with-map-and-hdi"><i class="fa fa-check"></i><b>7.8</b> Summarizing prior and posterior distributions with MAP and HDI</a></li>
<li class="chapter" data-level="7.9" data-path="bayesian-perspective.html"><a href="bayesian-perspective.html#comparison-to-nhst-type-i-errors"><i class="fa fa-check"></i><b>7.9</b> Comparison to NHST Type I errors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="bootstrap.html"><a href="bootstrap.html"><i class="fa fa-check"></i><b>8</b> Bootstrap</a>
<ul>
<li class="chapter" data-level="8.1" data-path="bootstrap.html"><a href="bootstrap.html#summarizing-bootstrap-distribution"><i class="fa fa-check"></i><b>8.1</b> Summarizing bootstrap distribution</a></li>
<li class="chapter" data-level="8.2" data-path="bootstrap.html"><a href="bootstrap.html#bootstrap-type-i-errors"><i class="fa fa-check"></i><b>8.2</b> Bootstrap Type I errors</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="statistical-inference-conclusion.html"><a href="statistical-inference-conclusion.html"><i class="fa fa-check"></i><b>9</b> Statistical inference conclusion</a></li>
<li class="chapter" data-level="10" data-path="measurement-error.html"><a href="measurement-error.html"><i class="fa fa-check"></i><b>10</b> Measurement Error</a>
<ul>
<li class="chapter" data-level="10.1" data-path="measurement-error.html"><a href="measurement-error.html#estimating-te-using-ordinary-least-products-regression"><i class="fa fa-check"></i><b>10.1</b> Estimating <code>TE</code> using <em>ordinary least products</em> regression</a></li>
<li class="chapter" data-level="10.2" data-path="measurement-error.html"><a href="measurement-error.html#smallest-detectable-change"><i class="fa fa-check"></i><b>10.2</b> Smallest Detectable Change</a></li>
<li class="chapter" data-level="10.3" data-path="measurement-error.html"><a href="measurement-error.html#interpreting-individual-changes-using-sesoi-and-sdc"><i class="fa fa-check"></i><b>10.3</b> Interpreting individual changes using SESOI and SDC</a></li>
<li class="chapter" data-level="10.4" data-path="measurement-error.html"><a href="measurement-error.html#what-to-do-when-we-know-the-error"><i class="fa fa-check"></i><b>10.4</b> What to do when we know the error?</a></li>
<li class="chapter" data-level="10.5" data-path="measurement-error.html"><a href="measurement-error.html#extending-the-classical-test-theory"><i class="fa fa-check"></i><b>10.5</b> Extending the Classical Test Theory</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>11</b> Conclusion</a></li>
<li class="part"><span><b>II Part Two</b></span></li>
<li class="chapter" data-level="12" data-path="bmbstats-bootstrap-magnitude-based-statistics-package.html"><a href="bmbstats-bootstrap-magnitude-based-statistics-package.html"><i class="fa fa-check"></i><b>12</b> <code>bmbstats</code>: Bootstrap Magnitude-based Statistics package</a>
<ul>
<li class="chapter" data-level="12.1" data-path="bmbstats-bootstrap-magnitude-based-statistics-package.html"><a href="bmbstats-bootstrap-magnitude-based-statistics-package.html#bmbstats-installation"><i class="fa fa-check"></i><b>12.1</b> <code>bmbstats</code> Installation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html"><i class="fa fa-check"></i><b>13</b> Descriptive tasks using <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="13.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#generating-height-data"><i class="fa fa-check"></i><b>13.1</b> Generating <em>height data</em></a></li>
<li class="chapter" data-level="13.2" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#visualization-and-analysis-of-a-single-group-or-variable"><i class="fa fa-check"></i><b>13.2</b> Visualization and analysis of a single group (or variable)</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#using-your-own-estimators"><i class="fa fa-check"></i><b>13.2.1</b> Using your own estimators</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#visualization-and-analysis-of-the-two-independent-groups"><i class="fa fa-check"></i><b>13.3</b> Visualization and analysis of the two independent groups</a></li>
<li class="chapter" data-level="13.4" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#nhst-mets-and-mbi-functions"><i class="fa fa-check"></i><b>13.4</b> NHST, METs and MBI functions</a></li>
<li class="chapter" data-level="13.5" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#comparing-two-dependent-groups"><i class="fa fa-check"></i><b>13.5</b> Comparing two dependent groups</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#measurement-error-issues"><i class="fa fa-check"></i><b>13.5.1</b> Measurement error issues</a></li>
<li class="chapter" data-level="13.5.2" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#analysis-of-the-dependent-groups-using-compare_dependent_groups"><i class="fa fa-check"></i><b>13.5.2</b> Analysis of the dependent groups using <code>compare_dependent_groups</code></a></li>
<li class="chapter" data-level="13.5.3" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#statistical-tests"><i class="fa fa-check"></i><b>13.5.3</b> Statistical tests</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="descriptive-tasks-using-bmbstats.html"><a href="descriptive-tasks-using-bmbstats.html#describing-relationship-between-two-groups"><i class="fa fa-check"></i><b>13.6</b> Describing relationship between two groups</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html"><i class="fa fa-check"></i><b>14</b> Predictive tasks using <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="14.1" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#how-to-implement-different-performance-metrics"><i class="fa fa-check"></i><b>14.1</b> How to implement different performance metrics?</a></li>
<li class="chapter" data-level="14.2" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#how-to-use-different-prediction-model"><i class="fa fa-check"></i><b>14.2</b> How to use different prediction model?</a></li>
<li class="chapter" data-level="14.3" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#example-of-using-tuning-parameter"><i class="fa fa-check"></i><b>14.3</b> Example of using tuning parameter</a></li>
<li class="chapter" data-level="14.4" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#plotting"><i class="fa fa-check"></i><b>14.4</b> Plotting</a></li>
<li class="chapter" data-level="14.5" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#comparing-models"><i class="fa fa-check"></i><b>14.5</b> Comparing models</a></li>
<li class="chapter" data-level="14.6" data-path="predictive-tasks-using-bmbstats.html"><a href="predictive-tasks-using-bmbstats.html#bootstrapping-model"><i class="fa fa-check"></i><b>14.6</b> Bootstrapping model</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html"><i class="fa fa-check"></i><b>15</b> Validity and Reliability</a>
<ul>
<li class="chapter" data-level="15.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#data-generation"><i class="fa fa-check"></i><b>15.1</b> Data generation</a></li>
<li class="chapter" data-level="15.2" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#validity"><i class="fa fa-check"></i><b>15.2</b> Validity</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#true-vs-criterion"><i class="fa fa-check"></i><b>15.2.1</b> True vs Criterion</a></li>
<li class="chapter" data-level="15.2.2" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#practical-vs-criterion"><i class="fa fa-check"></i><b>15.2.2</b> Practical vs Criterion</a></li>
<li class="chapter" data-level="15.2.3" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#prediction-approach"><i class="fa fa-check"></i><b>15.2.3</b> Prediction approach</a></li>
<li class="chapter" data-level="15.2.4" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#can-we-adjust-for-the-know-criterion-measure-random-error"><i class="fa fa-check"></i><b>15.2.4</b> Can we adjust for the know criterion measure random error?</a></li>
<li class="chapter" data-level="15.2.5" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#estimating-sesoi-for-the-practical-score"><i class="fa fa-check"></i><b>15.2.5</b> Estimating SESOI for the practical score</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#reliability"><i class="fa fa-check"></i><b>15.3</b> Reliability</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#reproducibility"><i class="fa fa-check"></i><b>15.3.1</b> Reproducibility</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#repeatability"><i class="fa fa-check"></i><b>15.4</b> Repeatability</a></li>
<li class="chapter" data-level="15.5" data-path="validity-and-reliability.html"><a href="validity-and-reliability.html#the-difference-between-reproducibility-and-repeatability"><i class="fa fa-check"></i><b>15.5</b> The difference between Reproducibility and Repeatability</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html"><i class="fa fa-check"></i><b>16</b> RCT analysis and prediction in <code>bmbstats</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#data-generating-process-behind-rct"><i class="fa fa-check"></i><b>16.1</b> Data Generating Process behind RCT</a></li>
<li class="chapter" data-level="16.2" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#rct-analysis-using-bmbstatsrct_analysis-function"><i class="fa fa-check"></i><b>16.2</b> RCT analysis using <code>bmbstats::RCT_analysis</code> function</a></li>
<li class="chapter" data-level="16.3" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#linear-regression-perspective"><i class="fa fa-check"></i><b>16.3</b> Linear Regression Perspective</a></li>
<li class="chapter" data-level="16.4" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#prediction-perspective-1"><i class="fa fa-check"></i><b>16.4</b> Prediction perspective 1</a></li>
<li class="chapter" data-level="16.5" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#adding-some-effects"><i class="fa fa-check"></i><b>16.5</b> Adding some effects</a></li>
<li class="chapter" data-level="16.6" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#what-goes-inside-the-measurement-error-or-control-group-change-or-residuals-sd"><i class="fa fa-check"></i><b>16.6</b> What goes inside the <em>measurement error</em> (or Control group change or residuals <code>SD</code>)?</a></li>
<li class="chapter" data-level="16.7" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#prediction-perspective-2"><i class="fa fa-check"></i><b>16.7</b> Prediction perspective 2</a></li>
<li class="chapter" data-level="16.8" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#making-it-more-complex-by-adding-covariate"><i class="fa fa-check"></i><b>16.8</b> Making it more complex by adding covariate</a></li>
<li class="chapter" data-level="16.9" data-path="rct-analysis-and-prediction-in-bmbstats.html"><a href="rct-analysis-and-prediction-in-bmbstats.html#prediction-perspective-3"><i class="fa fa-check"></i><b>16.9</b> Prediction perspective 3</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="appendix-a-dorem-package.html"><a href="appendix-a-dorem-package.html"><i class="fa fa-check"></i><b>17</b> Appendix A: <code>dorem</code> package</a>
<ul>
<li class="chapter" data-level="17.1" data-path="appendix-a-dorem-package.html"><a href="appendix-a-dorem-package.html#dorem-installation"><i class="fa fa-check"></i><b>17.1</b> <code>dorem</code> Installation</a></li>
<li class="chapter" data-level="17.2" data-path="appendix-a-dorem-package.html"><a href="appendix-a-dorem-package.html#dorem-example"><i class="fa fa-check"></i><b>17.2</b> <code>dorem</code> Example</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html"><i class="fa fa-check"></i><b>18</b> Appendix B: <code>shorts</code> package</a>
<ul>
<li class="chapter" data-level="18.1" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#shorts-installation"><i class="fa fa-check"></i><b>18.1</b> <code>shorts</code> Installation</a></li>
<li class="chapter" data-level="18.2" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#short-examples"><i class="fa fa-check"></i><b>18.2</b> <code>short</code> Examples</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#profiling-using-split-times"><i class="fa fa-check"></i><b>18.2.1</b> Profiling using split times</a></li>
<li class="chapter" data-level="18.2.2" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#profiling-using-radar-gun-data"><i class="fa fa-check"></i><b>18.2.2</b> Profiling using radar gun data</a></li>
<li class="chapter" data-level="18.2.3" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#using-corrections"><i class="fa fa-check"></i><b>18.2.3</b> Using corrections</a></li>
<li class="chapter" data-level="18.2.4" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#leave-one-out-cross-validation-loocv"><i class="fa fa-check"></i><b>18.2.4</b> Leave-One-Out Cross-Validation (LOOCV)</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="appendix-b-shorts-package.html"><a href="appendix-b-shorts-package.html#shorts-citation"><i class="fa fa-check"></i><b>18.3</b> <code>shorts</code> Citation</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html"><i class="fa fa-check"></i><b>19</b> Appendix C: <code>vjsim</code> package</a>
<ul>
<li class="chapter" data-level="19.1" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#vjsim-installation"><i class="fa fa-check"></i><b>19.1</b> <code>vjsim</code> Installation</a></li>
<li class="chapter" data-level="19.2" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#vjsim-usage"><i class="fa fa-check"></i><b>19.2</b> <code>vjsim</code> Usage</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#introduction-to-vjsim"><i class="fa fa-check"></i><b>19.2.1</b> <span>Introduction to vjsim</span></a></li>
<li class="chapter" data-level="19.2.2" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#simulation"><i class="fa fa-check"></i><b>19.2.2</b> <span>Simulation</span></a></li>
<li class="chapter" data-level="19.2.3" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#profiling"><i class="fa fa-check"></i><b>19.2.3</b> <span>Profiling</span></a></li>
<li class="chapter" data-level="19.2.4" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#optimization"><i class="fa fa-check"></i><b>19.2.4</b> <span>Optimization</span></a></li>
<li class="chapter" data-level="19.2.5" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#exploring"><i class="fa fa-check"></i><b>19.2.5</b> <span>Exploring</span></a></li>
<li class="chapter" data-level="19.2.6" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#modeling"><i class="fa fa-check"></i><b>19.2.6</b> <span>Modeling</span></a></li>
<li class="chapter" data-level="19.2.7" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#shiny-app"><i class="fa fa-check"></i><b>19.2.7</b> <span>Shiny App</span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="appendix-c-vjsim-package.html"><a href="appendix-c-vjsim-package.html#vjsim-example"><i class="fa fa-check"></i><b>19.3</b> <code>vjsim</code> Example</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="appendix-d-recommended-material.html"><a href="appendix-d-recommended-material.html"><i class="fa fa-check"></i><b>20</b> Appendix D: Recommended material</a></li>
<li class="chapter" data-level="21" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>21</b> About</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">bmbstats: bootstrap magnitude-based statistics for sports scientists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix-b-shorts-package" class="section level1" number="18">
<h1><span class="header-section-number">Chapter 18</span> Appendix B: <code>shorts</code> package</h1>
<p><img src="figures/shorts-logo.png" align="right" width="200" /></p>
<p>Package <code>short</code> <span class="citation">(<a href="#ref-R-shorts" role="doc-biblioref">95</a>)</span> creates short sprint (&lt;6sec) profiles using the split times or the radar gun data. Mono-exponential equation is used to estimate maximal sprinting speed (MSS), relative acceleration (TAU), and other parameters. These parameters can be used to predict kinematic and kinetics variables and to compare individuals.</p>
<div id="shorts-installation" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> <code>shorts</code> Installation</h2>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="appendix-b-shorts-package.html#cb293-1"></a><span class="co"># Install from CRAN</span></span>
<span id="cb293-2"><a href="appendix-b-shorts-package.html#cb293-2"></a><span class="kw">install.packages</span>(<span class="st">&quot;shorts&quot;</span>)</span>
<span id="cb293-3"><a href="appendix-b-shorts-package.html#cb293-3"></a></span>
<span id="cb293-4"><a href="appendix-b-shorts-package.html#cb293-4"></a><span class="co"># Or the development version from GitHub</span></span>
<span id="cb293-5"><a href="appendix-b-shorts-package.html#cb293-5"></a><span class="co"># install.packages(&quot;devtools&quot;)</span></span>
<span id="cb293-6"><a href="appendix-b-shorts-package.html#cb293-6"></a>devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;mladenjovanovic/shorts&quot;</span>)</span></code></pre></div>
</div>
<div id="short-examples" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> <code>short</code> Examples</h2>
<p><code>shorts</code> comes with two sample data sets: <code>split_times</code> and <code>radar_gun_data</code> with N=5 athletes. Let’s load them both:</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="appendix-b-shorts-package.html#cb294-1"></a><span class="kw">require</span>(shorts)</span>
<span id="cb294-2"><a href="appendix-b-shorts-package.html#cb294-2"></a><span class="kw">require</span>(tidyverse)</span>
<span id="cb294-3"><a href="appendix-b-shorts-package.html#cb294-3"></a></span>
<span id="cb294-4"><a href="appendix-b-shorts-package.html#cb294-4"></a><span class="kw">data</span>(<span class="st">&quot;split_times&quot;</span>, <span class="st">&quot;radar_gun_data&quot;</span>)</span></code></pre></div>
<div id="profiling-using-split-times" class="section level3" number="18.2.1">
<h3><span class="header-section-number">18.2.1</span> Profiling using split times</h3>
<p>To model sprint performance using split times, distance will be used as predictor and time as target. Since <code>split_times</code> contains data for multiple athletes, let’s extract only one athlete and model it using <code>shorts::model_using_splits</code> function.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="appendix-b-shorts-package.html#cb295-1"></a>kimberley_data &lt;-<span class="st"> </span><span class="kw">filter</span>(split_times, athlete <span class="op">==</span><span class="st"> &quot;Kimberley&quot;</span>)</span>
<span id="cb295-2"><a href="appendix-b-shorts-package.html#cb295-2"></a></span>
<span id="cb295-3"><a href="appendix-b-shorts-package.html#cb295-3"></a>kimberley_data</span>
<span id="cb295-4"><a href="appendix-b-shorts-package.html#cb295-4"></a><span class="co">#&gt; # A tibble: 6 x 4</span></span>
<span id="cb295-5"><a href="appendix-b-shorts-package.html#cb295-5"></a><span class="co">#&gt;   athlete   bodyweight distance     time</span></span>
<span id="cb295-6"><a href="appendix-b-shorts-package.html#cb295-6"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;    &lt;dbl&gt; &lt;I&lt;dbl&gt;&gt;</span></span>
<span id="cb295-7"><a href="appendix-b-shorts-package.html#cb295-7"></a><span class="co">#&gt; 1 Kimberley         55        5     1.16</span></span>
<span id="cb295-8"><a href="appendix-b-shorts-package.html#cb295-8"></a><span class="co">#&gt; 2 Kimberley         55       10     1.89</span></span>
<span id="cb295-9"><a href="appendix-b-shorts-package.html#cb295-9"></a><span class="co">#&gt; 3 Kimberley         55       15     2.54</span></span>
<span id="cb295-10"><a href="appendix-b-shorts-package.html#cb295-10"></a><span class="co">#&gt; 4 Kimberley         55       20     3.15</span></span>
<span id="cb295-11"><a href="appendix-b-shorts-package.html#cb295-11"></a><span class="co">#&gt; 5 Kimberley         55       30     4.31</span></span>
<span id="cb295-12"><a href="appendix-b-shorts-package.html#cb295-12"></a><span class="co">#&gt; 6 Kimberley         55       40     5.44</span></span></code></pre></div>
<p><code>shorts::model_using_splits</code> returns an object with <code>parameters</code>, <code>model_fit</code>, <code>model</code> returned from <code>stats::nls</code> function and <code>data</code> used to estimate parameters. Parameters estimated using mono-exponential equation are <em>maximal sprinting speed</em> (MSS), and <em>relative acceleration</em> (TAU). Additional parameters computed from MSS and TAU are <em>maximal acceleration</em> (MAC) and <em>maximal relative power</em> (PMAX).</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="appendix-b-shorts-package.html#cb296-1"></a>kimberley_profile &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">model_using_splits</span>(</span>
<span id="cb296-2"><a href="appendix-b-shorts-package.html#cb296-2"></a>  <span class="dt">distance =</span> kimberley_data<span class="op">$</span>distance,</span>
<span id="cb296-3"><a href="appendix-b-shorts-package.html#cb296-3"></a>  <span class="dt">time =</span> kimberley_data<span class="op">$</span>time)  </span>
<span id="cb296-4"><a href="appendix-b-shorts-package.html#cb296-4"></a></span>
<span id="cb296-5"><a href="appendix-b-shorts-package.html#cb296-5"></a>kimberley_profile</span>
<span id="cb296-6"><a href="appendix-b-shorts-package.html#cb296-6"></a><span class="co">#&gt; Estimated model parameters</span></span>
<span id="cb296-7"><a href="appendix-b-shorts-package.html#cb296-7"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb296-8"><a href="appendix-b-shorts-package.html#cb296-8"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb296-9"><a href="appendix-b-shorts-package.html#cb296-9"></a><span class="co">#&gt;           8.5911421           0.8113282          10.5889855          22.7428698 </span></span>
<span id="cb296-10"><a href="appendix-b-shorts-package.html#cb296-10"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb296-11"><a href="appendix-b-shorts-package.html#cb296-11"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb296-12"><a href="appendix-b-shorts-package.html#cb296-12"></a><span class="co">#&gt; </span></span>
<span id="cb296-13"><a href="appendix-b-shorts-package.html#cb296-13"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb296-14"><a href="appendix-b-shorts-package.html#cb296-14"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb296-15"><a href="appendix-b-shorts-package.html#cb296-15"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb296-16"><a href="appendix-b-shorts-package.html#cb296-16"></a><span class="co">#&gt;  0.03403413  0.99965531 -0.02699169  0.05293444  0.05293444  0.02778875  0.02333342  1.19263116</span></span>
<span id="cb296-17"><a href="appendix-b-shorts-package.html#cb296-17"></a></span>
<span id="cb296-18"><a href="appendix-b-shorts-package.html#cb296-18"></a><span class="kw">summary</span>(kimberley_profile)</span>
<span id="cb296-19"><a href="appendix-b-shorts-package.html#cb296-19"></a><span class="co">#&gt; </span></span>
<span id="cb296-20"><a href="appendix-b-shorts-package.html#cb296-20"></a><span class="co">#&gt; Formula: corrected_time ~ TAU * I(LambertW::W(-exp(1)^(-distance/(MSS * </span></span>
<span id="cb296-21"><a href="appendix-b-shorts-package.html#cb296-21"></a><span class="co">#&gt;     TAU) - 1))) + distance/MSS + TAU</span></span>
<span id="cb296-22"><a href="appendix-b-shorts-package.html#cb296-22"></a><span class="co">#&gt; </span></span>
<span id="cb296-23"><a href="appendix-b-shorts-package.html#cb296-23"></a><span class="co">#&gt; Parameters:</span></span>
<span id="cb296-24"><a href="appendix-b-shorts-package.html#cb296-24"></a><span class="co">#&gt;     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb296-25"><a href="appendix-b-shorts-package.html#cb296-25"></a><span class="co">#&gt; MSS  8.59114    0.12251   70.13 2.48e-07 ***</span></span>
<span id="cb296-26"><a href="appendix-b-shorts-package.html#cb296-26"></a><span class="co">#&gt; TAU  0.81133    0.04581   17.71 5.97e-05 ***</span></span>
<span id="cb296-27"><a href="appendix-b-shorts-package.html#cb296-27"></a><span class="co">#&gt; ---</span></span>
<span id="cb296-28"><a href="appendix-b-shorts-package.html#cb296-28"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb296-29"><a href="appendix-b-shorts-package.html#cb296-29"></a><span class="co">#&gt; </span></span>
<span id="cb296-30"><a href="appendix-b-shorts-package.html#cb296-30"></a><span class="co">#&gt; Residual standard error: 0.03403 on 4 degrees of freedom</span></span>
<span id="cb296-31"><a href="appendix-b-shorts-package.html#cb296-31"></a><span class="co">#&gt; </span></span>
<span id="cb296-32"><a href="appendix-b-shorts-package.html#cb296-32"></a><span class="co">#&gt; Number of iterations to convergence: 4 </span></span>
<span id="cb296-33"><a href="appendix-b-shorts-package.html#cb296-33"></a><span class="co">#&gt; Achieved convergence tolerance: 4.058e-06</span></span>
<span id="cb296-34"><a href="appendix-b-shorts-package.html#cb296-34"></a></span>
<span id="cb296-35"><a href="appendix-b-shorts-package.html#cb296-35"></a><span class="kw">coef</span>(kimberley_profile)</span>
<span id="cb296-36"><a href="appendix-b-shorts-package.html#cb296-36"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb296-37"><a href="appendix-b-shorts-package.html#cb296-37"></a><span class="co">#&gt;           8.5911421           0.8113282          10.5889855          22.7428698 </span></span>
<span id="cb296-38"><a href="appendix-b-shorts-package.html#cb296-38"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb296-39"><a href="appendix-b-shorts-package.html#cb296-39"></a><span class="co">#&gt;           0.0000000           0.0000000</span></span></code></pre></div>
<p>To return the predicted outcome (in this case time variable), use <code>predict</code> function:</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="appendix-b-shorts-package.html#cb297-1"></a><span class="kw">predict</span>(kimberley_profile)</span>
<span id="cb297-2"><a href="appendix-b-shorts-package.html#cb297-2"></a><span class="co">#&gt; [1] 1.210934 1.897021 2.521028 3.122008 4.299243 5.466325</span></span></code></pre></div>
<p>If you are interested in calculating average split velocity, use <code>shorts::format_splits</code></p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="appendix-b-shorts-package.html#cb298-1"></a>shorts<span class="op">::</span><span class="kw">format_splits</span>(</span>
<span id="cb298-2"><a href="appendix-b-shorts-package.html#cb298-2"></a>  <span class="dt">distance =</span> kimberley_data<span class="op">$</span>distance,</span>
<span id="cb298-3"><a href="appendix-b-shorts-package.html#cb298-3"></a>  <span class="dt">time =</span> kimberley_data<span class="op">$</span>time)</span>
<span id="cb298-4"><a href="appendix-b-shorts-package.html#cb298-4"></a><span class="co">#&gt;   split split_distance_start split_distance_stop split_distance split_time_start</span></span>
<span id="cb298-5"><a href="appendix-b-shorts-package.html#cb298-5"></a><span class="co">#&gt; 1     1                    0                   5              5                0</span></span>
<span id="cb298-6"><a href="appendix-b-shorts-package.html#cb298-6"></a><span class="co">#&gt; 2     2                    5                  10              5            1.158</span></span>
<span id="cb298-7"><a href="appendix-b-shorts-package.html#cb298-7"></a><span class="co">#&gt; 3     3                   10                  15              5            1.893</span></span>
<span id="cb298-8"><a href="appendix-b-shorts-package.html#cb298-8"></a><span class="co">#&gt; 4     4                   15                  20              5            2.541</span></span>
<span id="cb298-9"><a href="appendix-b-shorts-package.html#cb298-9"></a><span class="co">#&gt; 5     5                   20                  30             10            3.149</span></span>
<span id="cb298-10"><a href="appendix-b-shorts-package.html#cb298-10"></a><span class="co">#&gt; 6     6                   30                  40             10            4.313</span></span>
<span id="cb298-11"><a href="appendix-b-shorts-package.html#cb298-11"></a><span class="co">#&gt;   split_time_stop split_time split_mean_velocity</span></span>
<span id="cb298-12"><a href="appendix-b-shorts-package.html#cb298-12"></a><span class="co">#&gt; 1           1.158      1.158        4.317789....</span></span>
<span id="cb298-13"><a href="appendix-b-shorts-package.html#cb298-13"></a><span class="co">#&gt; 2           1.893      0.735        6.802721....</span></span>
<span id="cb298-14"><a href="appendix-b-shorts-package.html#cb298-14"></a><span class="co">#&gt; 3           2.541      0.648        7.716049....</span></span>
<span id="cb298-15"><a href="appendix-b-shorts-package.html#cb298-15"></a><span class="co">#&gt; 4           3.149      0.608        8.223684....</span></span>
<span id="cb298-16"><a href="appendix-b-shorts-package.html#cb298-16"></a><span class="co">#&gt; 5           4.313      1.164        8.591065....</span></span>
<span id="cb298-17"><a href="appendix-b-shorts-package.html#cb298-17"></a><span class="co">#&gt; 6           5.444      1.131        8.841732....</span></span></code></pre></div>
<p>Let’s plot observed vs fitted split times. For this we can use <code>data</code> returned from <code>shorts::model_using_splits</code> since it contains <code>pred_time</code> column.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="appendix-b-shorts-package.html#cb299-1"></a><span class="kw">ggplot</span>(kimberley_profile<span class="op">$</span>data, <span class="kw">aes</span>(<span class="dt">x =</span> distance)) <span class="op">+</span></span>
<span id="cb299-2"><a href="appendix-b-shorts-package.html#cb299-2"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb299-3"><a href="appendix-b-shorts-package.html#cb299-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> time)) <span class="op">+</span></span>
<span id="cb299-4"><a href="appendix-b-shorts-package.html#cb299-4"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred_time)) <span class="op">+</span></span>
<span id="cb299-5"><a href="appendix-b-shorts-package.html#cb299-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Distance (m)&quot;</span>) <span class="op">+</span></span>
<span id="cb299-6"><a href="appendix-b-shorts-package.html#cb299-6"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Time (s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-6-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To plot predicted velocity, acceleration, and relative power over distance, use <code>shorts:predict_</code></p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="appendix-b-shorts-package.html#cb300-1"></a>kimberley_pred &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb300-2"><a href="appendix-b-shorts-package.html#cb300-2"></a>  <span class="dt">distance =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">40</span>, <span class="dt">length.out =</span> <span class="dv">1000</span>),</span>
<span id="cb300-3"><a href="appendix-b-shorts-package.html#cb300-3"></a>  </span>
<span id="cb300-4"><a href="appendix-b-shorts-package.html#cb300-4"></a>  <span class="co"># Velocity</span></span>
<span id="cb300-5"><a href="appendix-b-shorts-package.html#cb300-5"></a>  <span class="dt">pred_velocity =</span> shorts<span class="op">::</span><span class="kw">predict_velocity_at_distance</span>(</span>
<span id="cb300-6"><a href="appendix-b-shorts-package.html#cb300-6"></a>    distance,</span>
<span id="cb300-7"><a href="appendix-b-shorts-package.html#cb300-7"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb300-8"><a href="appendix-b-shorts-package.html#cb300-8"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU),</span>
<span id="cb300-9"><a href="appendix-b-shorts-package.html#cb300-9"></a>  </span>
<span id="cb300-10"><a href="appendix-b-shorts-package.html#cb300-10"></a>  <span class="co"># Acceleration</span></span>
<span id="cb300-11"><a href="appendix-b-shorts-package.html#cb300-11"></a>  <span class="dt">pred_acceleration =</span> shorts<span class="op">::</span><span class="kw">predict_acceleration_at_distance</span>(</span>
<span id="cb300-12"><a href="appendix-b-shorts-package.html#cb300-12"></a>    distance,</span>
<span id="cb300-13"><a href="appendix-b-shorts-package.html#cb300-13"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb300-14"><a href="appendix-b-shorts-package.html#cb300-14"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU),</span>
<span id="cb300-15"><a href="appendix-b-shorts-package.html#cb300-15"></a>  </span>
<span id="cb300-16"><a href="appendix-b-shorts-package.html#cb300-16"></a>  <span class="co"># Power</span></span>
<span id="cb300-17"><a href="appendix-b-shorts-package.html#cb300-17"></a>  <span class="dt">pred_power =</span> shorts<span class="op">::</span><span class="kw">predict_relative_power_at_distance</span>(</span>
<span id="cb300-18"><a href="appendix-b-shorts-package.html#cb300-18"></a>    distance,</span>
<span id="cb300-19"><a href="appendix-b-shorts-package.html#cb300-19"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb300-20"><a href="appendix-b-shorts-package.html#cb300-20"></a>    kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU),</span>
<span id="cb300-21"><a href="appendix-b-shorts-package.html#cb300-21"></a>)</span>
<span id="cb300-22"><a href="appendix-b-shorts-package.html#cb300-22"></a></span>
<span id="cb300-23"><a href="appendix-b-shorts-package.html#cb300-23"></a><span class="co"># Convert to long</span></span>
<span id="cb300-24"><a href="appendix-b-shorts-package.html#cb300-24"></a>kimberley_pred &lt;-<span class="st"> </span><span class="kw">gather</span>(kimberley_pred, <span class="st">&quot;metric&quot;</span>, <span class="st">&quot;value&quot;</span>, <span class="op">-</span>distance)</span>
<span id="cb300-25"><a href="appendix-b-shorts-package.html#cb300-25"></a></span>
<span id="cb300-26"><a href="appendix-b-shorts-package.html#cb300-26"></a><span class="kw">ggplot</span>(kimberley_pred, <span class="kw">aes</span>(<span class="dt">x =</span> distance, <span class="dt">y =</span> value)) <span class="op">+</span></span>
<span id="cb300-27"><a href="appendix-b-shorts-package.html#cb300-27"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb300-28"><a href="appendix-b-shorts-package.html#cb300-28"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb300-29"><a href="appendix-b-shorts-package.html#cb300-29"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>metric, <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb300-30"><a href="appendix-b-shorts-package.html#cb300-30"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Distance (m)&quot;</span>) <span class="op">+</span></span>
<span id="cb300-31"><a href="appendix-b-shorts-package.html#cb300-31"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-7-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To do prediction simpler, use <code>shorts::predict_kinematics</code> function. This will provide kinematics for 0-6s sprint using 100Hz.</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="appendix-b-shorts-package.html#cb301-1"></a>predicted_kinematics &lt;-<span class="st"> </span><span class="kw">predict_kinematics</span>(kimberley_profile)</span>
<span id="cb301-2"><a href="appendix-b-shorts-package.html#cb301-2"></a><span class="kw">head</span>(predicted_kinematics)</span>
<span id="cb301-3"><a href="appendix-b-shorts-package.html#cb301-3"></a><span class="co">#&gt;   time     distance  velocity acceleration    power</span></span>
<span id="cb301-4"><a href="appendix-b-shorts-package.html#cb301-4"></a><span class="co">#&gt; 1 0.00 0.0000000000 0.0000000    10.588986 0.000000</span></span>
<span id="cb301-5"><a href="appendix-b-shorts-package.html#cb301-5"></a><span class="co">#&gt; 2 0.01 0.0005272807 0.1052400    10.459272 1.100733</span></span>
<span id="cb301-6"><a href="appendix-b-shorts-package.html#cb301-6"></a><span class="co">#&gt; 3 0.02 0.0021005019 0.2091907    10.331148 2.161181</span></span>
<span id="cb301-7"><a href="appendix-b-shorts-package.html#cb301-7"></a><span class="co">#&gt; 4 0.03 0.0047068510 0.3118682    10.204593 3.182488</span></span>
<span id="cb301-8"><a href="appendix-b-shorts-package.html#cb301-8"></a><span class="co">#&gt; 5 0.04 0.0083336724 0.4132878    10.079589 4.165771</span></span>
<span id="cb301-9"><a href="appendix-b-shorts-package.html#cb301-9"></a><span class="co">#&gt; 6 0.05 0.0129684654 0.5134650     9.956116 5.112117</span></span></code></pre></div>
<p>To get model residuals, use <code>residuals</code> function:</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="appendix-b-shorts-package.html#cb302-1"></a><span class="kw">residuals</span>(kimberley_profile)</span>
<span id="cb302-2"><a href="appendix-b-shorts-package.html#cb302-2"></a><span class="co">#&gt; [1]  0.052934436  0.004021074 -0.019971823 -0.026991691 -0.013756850  0.022324628</span></span></code></pre></div>
<p>Package <code>shorts</code> comes with <code>find_</code> family of functions that allow finding peak power and it’s location, as well as <em>critical distance</em> over which velocity, acceleration, or power drops below certain threshold:</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="appendix-b-shorts-package.html#cb303-1"></a><span class="co"># Peak power and location</span></span>
<span id="cb303-2"><a href="appendix-b-shorts-package.html#cb303-2"></a>shorts<span class="op">::</span><span class="kw">find_max_power_distance</span>(</span>
<span id="cb303-3"><a href="appendix-b-shorts-package.html#cb303-3"></a>  kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb303-4"><a href="appendix-b-shorts-package.html#cb303-4"></a>  kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU</span>
<span id="cb303-5"><a href="appendix-b-shorts-package.html#cb303-5"></a>)</span>
<span id="cb303-6"><a href="appendix-b-shorts-package.html#cb303-6"></a><span class="co">#&gt; $max_power</span></span>
<span id="cb303-7"><a href="appendix-b-shorts-package.html#cb303-7"></a><span class="co">#&gt; [1] 22.74287</span></span>
<span id="cb303-8"><a href="appendix-b-shorts-package.html#cb303-8"></a><span class="co">#&gt; </span></span>
<span id="cb303-9"><a href="appendix-b-shorts-package.html#cb303-9"></a><span class="co">#&gt; $distance</span></span>
<span id="cb303-10"><a href="appendix-b-shorts-package.html#cb303-10"></a><span class="co">#&gt; [1] 1.346271</span></span>
<span id="cb303-11"><a href="appendix-b-shorts-package.html#cb303-11"></a></span>
<span id="cb303-12"><a href="appendix-b-shorts-package.html#cb303-12"></a><span class="co"># Distance over which power is over 50%</span></span>
<span id="cb303-13"><a href="appendix-b-shorts-package.html#cb303-13"></a>shorts<span class="op">::</span><span class="kw">find_power_critical_distance</span>(</span>
<span id="cb303-14"><a href="appendix-b-shorts-package.html#cb303-14"></a>  <span class="dt">MSS =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb303-15"><a href="appendix-b-shorts-package.html#cb303-15"></a>  <span class="dt">TAU =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU,</span>
<span id="cb303-16"><a href="appendix-b-shorts-package.html#cb303-16"></a>  <span class="dt">percent =</span> <span class="fl">0.5</span></span>
<span id="cb303-17"><a href="appendix-b-shorts-package.html#cb303-17"></a>)</span>
<span id="cb303-18"><a href="appendix-b-shorts-package.html#cb303-18"></a><span class="co">#&gt; $lower</span></span>
<span id="cb303-19"><a href="appendix-b-shorts-package.html#cb303-19"></a><span class="co">#&gt; [1] 0.08295615</span></span>
<span id="cb303-20"><a href="appendix-b-shorts-package.html#cb303-20"></a><span class="co">#&gt; </span></span>
<span id="cb303-21"><a href="appendix-b-shorts-package.html#cb303-21"></a><span class="co">#&gt; $upper</span></span>
<span id="cb303-22"><a href="appendix-b-shorts-package.html#cb303-22"></a><span class="co">#&gt; [1] 7.441024</span></span>
<span id="cb303-23"><a href="appendix-b-shorts-package.html#cb303-23"></a></span>
<span id="cb303-24"><a href="appendix-b-shorts-package.html#cb303-24"></a><span class="co"># Distance over which acceleration is under 50%</span></span>
<span id="cb303-25"><a href="appendix-b-shorts-package.html#cb303-25"></a>shorts<span class="op">::</span><span class="kw">find_acceleration_critical_distance</span>(</span>
<span id="cb303-26"><a href="appendix-b-shorts-package.html#cb303-26"></a>  <span class="dt">MSS =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb303-27"><a href="appendix-b-shorts-package.html#cb303-27"></a>  <span class="dt">TAU =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU,</span>
<span id="cb303-28"><a href="appendix-b-shorts-package.html#cb303-28"></a>  <span class="dt">percent =</span> <span class="fl">0.5</span></span>
<span id="cb303-29"><a href="appendix-b-shorts-package.html#cb303-29"></a>)</span>
<span id="cb303-30"><a href="appendix-b-shorts-package.html#cb303-30"></a><span class="co">#&gt; [1] 1.346279</span></span>
<span id="cb303-31"><a href="appendix-b-shorts-package.html#cb303-31"></a></span>
<span id="cb303-32"><a href="appendix-b-shorts-package.html#cb303-32"></a><span class="co"># Distance over which velocity is over 95%</span></span>
<span id="cb303-33"><a href="appendix-b-shorts-package.html#cb303-33"></a>shorts<span class="op">::</span><span class="kw">find_velocity_critical_distance</span>(</span>
<span id="cb303-34"><a href="appendix-b-shorts-package.html#cb303-34"></a>  <span class="dt">MSS =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb303-35"><a href="appendix-b-shorts-package.html#cb303-35"></a>  <span class="dt">TAU =</span> kimberley_profile<span class="op">$</span>parameters<span class="op">$</span>TAU,</span>
<span id="cb303-36"><a href="appendix-b-shorts-package.html#cb303-36"></a>  <span class="dt">percent =</span> <span class="fl">0.95</span></span>
<span id="cb303-37"><a href="appendix-b-shorts-package.html#cb303-37"></a>)</span>
<span id="cb303-38"><a href="appendix-b-shorts-package.html#cb303-38"></a><span class="co">#&gt; [1] 14.25922</span></span></code></pre></div>
<div id="mixed-effect-models" class="section level4" number="18.2.1.1">
<h4><span class="header-section-number">18.2.1.1</span> Mixed-effect models</h4>
<p>Each individual can be modeled separately, or we can perform <em>non-linear mixed model</em> using <code>nlme</code> function from <em>nlme</em> package (Pinheiro <em>et al.</em>, 2019). This is done using <code>shorts::mixed_model_using_splits</code>:</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="appendix-b-shorts-package.html#cb304-1"></a>mixed_model &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">mixed_model_using_splits</span>(</span>
<span id="cb304-2"><a href="appendix-b-shorts-package.html#cb304-2"></a>  <span class="dt">data =</span> split_times,</span>
<span id="cb304-3"><a href="appendix-b-shorts-package.html#cb304-3"></a>  <span class="dt">distance =</span> <span class="st">&quot;distance&quot;</span>,</span>
<span id="cb304-4"><a href="appendix-b-shorts-package.html#cb304-4"></a>  <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb304-5"><a href="appendix-b-shorts-package.html#cb304-5"></a>  <span class="dt">athlete =</span> <span class="st">&quot;athlete&quot;</span></span>
<span id="cb304-6"><a href="appendix-b-shorts-package.html#cb304-6"></a>)</span>
<span id="cb304-7"><a href="appendix-b-shorts-package.html#cb304-7"></a></span>
<span id="cb304-8"><a href="appendix-b-shorts-package.html#cb304-8"></a>mixed_model</span>
<span id="cb304-9"><a href="appendix-b-shorts-package.html#cb304-9"></a><span class="co">#&gt; Estimated fixed model parameters</span></span>
<span id="cb304-10"><a href="appendix-b-shorts-package.html#cb304-10"></a><span class="co">#&gt; --------------------------------</span></span>
<span id="cb304-11"><a href="appendix-b-shorts-package.html#cb304-11"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb304-12"><a href="appendix-b-shorts-package.html#cb304-12"></a><span class="co">#&gt;           8.0649112           0.6551988          12.3091052          24.8179600 </span></span>
<span id="cb304-13"><a href="appendix-b-shorts-package.html#cb304-13"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb304-14"><a href="appendix-b-shorts-package.html#cb304-14"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb304-15"><a href="appendix-b-shorts-package.html#cb304-15"></a><span class="co">#&gt; </span></span>
<span id="cb304-16"><a href="appendix-b-shorts-package.html#cb304-16"></a><span class="co">#&gt; Estimated frandom model parameters</span></span>
<span id="cb304-17"><a href="appendix-b-shorts-package.html#cb304-17"></a><span class="co">#&gt; ----------------------------------</span></span>
<span id="cb304-18"><a href="appendix-b-shorts-package.html#cb304-18"></a><span class="co">#&gt;     athlete      MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb304-19"><a href="appendix-b-shorts-package.html#cb304-19"></a><span class="co">#&gt; 1     James 9.691736 0.8469741 11.44278 27.72510               0                   0</span></span>
<span id="cb304-20"><a href="appendix-b-shorts-package.html#cb304-20"></a><span class="co">#&gt; 2       Jim 7.833622 0.5048535 15.51663 30.38785               0                   0</span></span>
<span id="cb304-21"><a href="appendix-b-shorts-package.html#cb304-21"></a><span class="co">#&gt; 3      John 7.780395 0.7274302 10.69573 20.80424               0                   0</span></span>
<span id="cb304-22"><a href="appendix-b-shorts-package.html#cb304-22"></a><span class="co">#&gt; 4 Kimberley 8.569518 0.8022235 10.68221 22.88535               0                   0</span></span>
<span id="cb304-23"><a href="appendix-b-shorts-package.html#cb304-23"></a><span class="co">#&gt; 5  Samantha 6.449284 0.3945129 16.34746 26.35735               0                   0</span></span>
<span id="cb304-24"><a href="appendix-b-shorts-package.html#cb304-24"></a><span class="co">#&gt; </span></span>
<span id="cb304-25"><a href="appendix-b-shorts-package.html#cb304-25"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb304-26"><a href="appendix-b-shorts-package.html#cb304-26"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb304-27"><a href="appendix-b-shorts-package.html#cb304-27"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb304-28"><a href="appendix-b-shorts-package.html#cb304-28"></a><span class="co">#&gt;  0.02600213  0.99982036 -0.02934519  0.04964582  0.04964582  0.02139178  0.01722581  0.90185579</span></span>
<span id="cb304-29"><a href="appendix-b-shorts-package.html#cb304-29"></a></span>
<span id="cb304-30"><a href="appendix-b-shorts-package.html#cb304-30"></a><span class="kw">summary</span>(mixed_model)</span>
<span id="cb304-31"><a href="appendix-b-shorts-package.html#cb304-31"></a><span class="co">#&gt; Nonlinear mixed-effects model fit by maximum likelihood</span></span>
<span id="cb304-32"><a href="appendix-b-shorts-package.html#cb304-32"></a><span class="co">#&gt;   Model: corrected_time ~ TAU * I(LambertW::W(-exp(1)^(-distance/(MSS *      TAU) - 1))) + distance/MSS + TAU </span></span>
<span id="cb304-33"><a href="appendix-b-shorts-package.html#cb304-33"></a><span class="co">#&gt;  Data: train </span></span>
<span id="cb304-34"><a href="appendix-b-shorts-package.html#cb304-34"></a><span class="co">#&gt;         AIC       BIC  logLik</span></span>
<span id="cb304-35"><a href="appendix-b-shorts-package.html#cb304-35"></a><span class="co">#&gt;   -75.06719 -66.66001 43.5336</span></span>
<span id="cb304-36"><a href="appendix-b-shorts-package.html#cb304-36"></a><span class="co">#&gt; </span></span>
<span id="cb304-37"><a href="appendix-b-shorts-package.html#cb304-37"></a><span class="co">#&gt; Random effects:</span></span>
<span id="cb304-38"><a href="appendix-b-shorts-package.html#cb304-38"></a><span class="co">#&gt;  Formula: list(MSS ~ 1, TAU ~ 1)</span></span>
<span id="cb304-39"><a href="appendix-b-shorts-package.html#cb304-39"></a><span class="co">#&gt;  Level: athlete</span></span>
<span id="cb304-40"><a href="appendix-b-shorts-package.html#cb304-40"></a><span class="co">#&gt;  Structure: General positive-definite, Log-Cholesky parametrization</span></span>
<span id="cb304-41"><a href="appendix-b-shorts-package.html#cb304-41"></a><span class="co">#&gt;          StdDev     Corr </span></span>
<span id="cb304-42"><a href="appendix-b-shorts-package.html#cb304-42"></a><span class="co">#&gt; MSS      1.06581655 MSS  </span></span>
<span id="cb304-43"><a href="appendix-b-shorts-package.html#cb304-43"></a><span class="co">#&gt; TAU      0.17821114 0.877</span></span>
<span id="cb304-44"><a href="appendix-b-shorts-package.html#cb304-44"></a><span class="co">#&gt; Residual 0.02600213      </span></span>
<span id="cb304-45"><a href="appendix-b-shorts-package.html#cb304-45"></a><span class="co">#&gt; </span></span>
<span id="cb304-46"><a href="appendix-b-shorts-package.html#cb304-46"></a><span class="co">#&gt; Fixed effects: MSS + TAU ~ 1 </span></span>
<span id="cb304-47"><a href="appendix-b-shorts-package.html#cb304-47"></a><span class="co">#&gt;        Value Std.Error DF   t-value p-value</span></span>
<span id="cb304-48"><a href="appendix-b-shorts-package.html#cb304-48"></a><span class="co">#&gt; MSS 8.064911 0.4949104 24 16.295699       0</span></span>
<span id="cb304-49"><a href="appendix-b-shorts-package.html#cb304-49"></a><span class="co">#&gt; TAU 0.655199 0.0837593 24  7.822404       0</span></span>
<span id="cb304-50"><a href="appendix-b-shorts-package.html#cb304-50"></a><span class="co">#&gt;  Correlation: </span></span>
<span id="cb304-51"><a href="appendix-b-shorts-package.html#cb304-51"></a><span class="co">#&gt;     MSS  </span></span>
<span id="cb304-52"><a href="appendix-b-shorts-package.html#cb304-52"></a><span class="co">#&gt; TAU 0.874</span></span>
<span id="cb304-53"><a href="appendix-b-shorts-package.html#cb304-53"></a><span class="co">#&gt; </span></span>
<span id="cb304-54"><a href="appendix-b-shorts-package.html#cb304-54"></a><span class="co">#&gt; Standardized Within-Group Residuals:</span></span>
<span id="cb304-55"><a href="appendix-b-shorts-package.html#cb304-55"></a><span class="co">#&gt;        Min         Q1        Med         Q3        Max </span></span>
<span id="cb304-56"><a href="appendix-b-shorts-package.html#cb304-56"></a><span class="co">#&gt; -1.9092981 -0.6050683  0.1536529  0.5226467  1.1285687 </span></span>
<span id="cb304-57"><a href="appendix-b-shorts-package.html#cb304-57"></a><span class="co">#&gt; </span></span>
<span id="cb304-58"><a href="appendix-b-shorts-package.html#cb304-58"></a><span class="co">#&gt; Number of Observations: 30</span></span>
<span id="cb304-59"><a href="appendix-b-shorts-package.html#cb304-59"></a><span class="co">#&gt; Number of Groups: 5</span></span>
<span id="cb304-60"><a href="appendix-b-shorts-package.html#cb304-60"></a></span>
<span id="cb304-61"><a href="appendix-b-shorts-package.html#cb304-61"></a><span class="kw">coef</span>(mixed_model)</span>
<span id="cb304-62"><a href="appendix-b-shorts-package.html#cb304-62"></a><span class="co">#&gt; $fixed</span></span>
<span id="cb304-63"><a href="appendix-b-shorts-package.html#cb304-63"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb304-64"><a href="appendix-b-shorts-package.html#cb304-64"></a><span class="co">#&gt;           8.0649112           0.6551988          12.3091052          24.8179600 </span></span>
<span id="cb304-65"><a href="appendix-b-shorts-package.html#cb304-65"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb304-66"><a href="appendix-b-shorts-package.html#cb304-66"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb304-67"><a href="appendix-b-shorts-package.html#cb304-67"></a><span class="co">#&gt; </span></span>
<span id="cb304-68"><a href="appendix-b-shorts-package.html#cb304-68"></a><span class="co">#&gt; $random</span></span>
<span id="cb304-69"><a href="appendix-b-shorts-package.html#cb304-69"></a><span class="co">#&gt;     athlete      MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb304-70"><a href="appendix-b-shorts-package.html#cb304-70"></a><span class="co">#&gt; 1     James 9.691736 0.8469741 11.44278 27.72510               0                   0</span></span>
<span id="cb304-71"><a href="appendix-b-shorts-package.html#cb304-71"></a><span class="co">#&gt; 2       Jim 7.833622 0.5048535 15.51663 30.38785               0                   0</span></span>
<span id="cb304-72"><a href="appendix-b-shorts-package.html#cb304-72"></a><span class="co">#&gt; 3      John 7.780395 0.7274302 10.69573 20.80424               0                   0</span></span>
<span id="cb304-73"><a href="appendix-b-shorts-package.html#cb304-73"></a><span class="co">#&gt; 4 Kimberley 8.569518 0.8022235 10.68221 22.88535               0                   0</span></span>
<span id="cb304-74"><a href="appendix-b-shorts-package.html#cb304-74"></a><span class="co">#&gt; 5  Samantha 6.449284 0.3945129 16.34746 26.35735               0                   0</span></span></code></pre></div>
<p><code>shorts::mixed_model_using_splits</code> return the similar object, but <code>parameters</code> contain two elements: <code>fixed</code> and <code>random</code>.</p>
<p>Let’s plot predicted velocity over distance for athletes in the <code>split_times</code> data set:</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="appendix-b-shorts-package.html#cb305-1"></a>velocity_over_distance &lt;-<span class="st"> </span><span class="kw">merge</span>(</span>
<span id="cb305-2"><a href="appendix-b-shorts-package.html#cb305-2"></a>    mixed_model<span class="op">$</span>parameters<span class="op">$</span>random,</span>
<span id="cb305-3"><a href="appendix-b-shorts-package.html#cb305-3"></a>    <span class="kw">data.frame</span>(<span class="dt">distance =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">40</span>, <span class="dt">length.out =</span> <span class="dv">1000</span>))</span>
<span id="cb305-4"><a href="appendix-b-shorts-package.html#cb305-4"></a>)</span>
<span id="cb305-5"><a href="appendix-b-shorts-package.html#cb305-5"></a></span>
<span id="cb305-6"><a href="appendix-b-shorts-package.html#cb305-6"></a>velocity_over_distance<span class="op">$</span>pred_velocity &lt;-<span class="st"> </span><span class="kw">with</span>(velocity_over_distance,</span>
<span id="cb305-7"><a href="appendix-b-shorts-package.html#cb305-7"></a>  shorts<span class="op">::</span><span class="kw">predict_velocity_at_distance</span>(</span>
<span id="cb305-8"><a href="appendix-b-shorts-package.html#cb305-8"></a>    <span class="dt">distance =</span> distance,</span>
<span id="cb305-9"><a href="appendix-b-shorts-package.html#cb305-9"></a>    <span class="dt">MSS =</span> MSS,</span>
<span id="cb305-10"><a href="appendix-b-shorts-package.html#cb305-10"></a>    <span class="dt">TAU =</span> TAU)</span>
<span id="cb305-11"><a href="appendix-b-shorts-package.html#cb305-11"></a>)</span>
<span id="cb305-12"><a href="appendix-b-shorts-package.html#cb305-12"></a></span>
<span id="cb305-13"><a href="appendix-b-shorts-package.html#cb305-13"></a><span class="kw">ggplot</span>(velocity_over_distance, <span class="kw">aes</span>(<span class="dt">x =</span> distance, <span class="dt">y =</span> pred_velocity, <span class="dt">color =</span> athlete)) <span class="op">+</span></span>
<span id="cb305-14"><a href="appendix-b-shorts-package.html#cb305-14"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb305-15"><a href="appendix-b-shorts-package.html#cb305-15"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb305-16"><a href="appendix-b-shorts-package.html#cb305-16"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Distance (m)&quot;</span>) <span class="op">+</span></span>
<span id="cb305-17"><a href="appendix-b-shorts-package.html#cb305-17"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Predicted velocity (m/s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-12-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>To modify random effects, which are by default <code>MSS</code> and <code>TAU</code> (<code>MSS + TAU ~ 1</code>), use the <code>random</code> parameter. For example, we can assume same <code>TAU</code> for all athletes and only use <code>MSS</code> as random effect:</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb306-1"><a href="appendix-b-shorts-package.html#cb306-1"></a>mixed_model &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">mixed_model_using_splits</span>(</span>
<span id="cb306-2"><a href="appendix-b-shorts-package.html#cb306-2"></a>  <span class="dt">data =</span> split_times,</span>
<span id="cb306-3"><a href="appendix-b-shorts-package.html#cb306-3"></a>  <span class="dt">distance =</span> <span class="st">&quot;distance&quot;</span>,</span>
<span id="cb306-4"><a href="appendix-b-shorts-package.html#cb306-4"></a>  <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb306-5"><a href="appendix-b-shorts-package.html#cb306-5"></a>  <span class="dt">athlete =</span> <span class="st">&quot;athlete&quot;</span>,</span>
<span id="cb306-6"><a href="appendix-b-shorts-package.html#cb306-6"></a>  <span class="dt">random =</span> MSS <span class="op">~</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb306-7"><a href="appendix-b-shorts-package.html#cb306-7"></a>)</span>
<span id="cb306-8"><a href="appendix-b-shorts-package.html#cb306-8"></a></span>
<span id="cb306-9"><a href="appendix-b-shorts-package.html#cb306-9"></a>mixed_model</span>
<span id="cb306-10"><a href="appendix-b-shorts-package.html#cb306-10"></a><span class="co">#&gt; Estimated fixed model parameters</span></span>
<span id="cb306-11"><a href="appendix-b-shorts-package.html#cb306-11"></a><span class="co">#&gt; --------------------------------</span></span>
<span id="cb306-12"><a href="appendix-b-shorts-package.html#cb306-12"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb306-13"><a href="appendix-b-shorts-package.html#cb306-13"></a><span class="co">#&gt;           7.9366665           0.6277251          12.6435385          25.0868872 </span></span>
<span id="cb306-14"><a href="appendix-b-shorts-package.html#cb306-14"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb306-15"><a href="appendix-b-shorts-package.html#cb306-15"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb306-16"><a href="appendix-b-shorts-package.html#cb306-16"></a><span class="co">#&gt; </span></span>
<span id="cb306-17"><a href="appendix-b-shorts-package.html#cb306-17"></a><span class="co">#&gt; Estimated frandom model parameters</span></span>
<span id="cb306-18"><a href="appendix-b-shorts-package.html#cb306-18"></a><span class="co">#&gt; ----------------------------------</span></span>
<span id="cb306-19"><a href="appendix-b-shorts-package.html#cb306-19"></a><span class="co">#&gt;     athlete      MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb306-20"><a href="appendix-b-shorts-package.html#cb306-20"></a><span class="co">#&gt; 1     James 9.021822 0.6277251 14.37225 32.41597               0                   0</span></span>
<span id="cb306-21"><a href="appendix-b-shorts-package.html#cb306-21"></a><span class="co">#&gt; 2       Jim 8.111530 0.6277251 12.92211 26.20451               0                   0</span></span>
<span id="cb306-22"><a href="appendix-b-shorts-package.html#cb306-22"></a><span class="co">#&gt; 3      John 7.576142 0.6277251 12.06920 22.85950               0                   0</span></span>
<span id="cb306-23"><a href="appendix-b-shorts-package.html#cb306-23"></a><span class="co">#&gt; 4 Kimberley 8.144414 0.6277251 12.97449 26.41741               0                   0</span></span>
<span id="cb306-24"><a href="appendix-b-shorts-package.html#cb306-24"></a><span class="co">#&gt; 5  Samantha 6.829424 0.6277251 10.87964 18.57542               0                   0</span></span>
<span id="cb306-25"><a href="appendix-b-shorts-package.html#cb306-25"></a><span class="co">#&gt; </span></span>
<span id="cb306-26"><a href="appendix-b-shorts-package.html#cb306-26"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb306-27"><a href="appendix-b-shorts-package.html#cb306-27"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb306-28"><a href="appendix-b-shorts-package.html#cb306-28"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb306-29"><a href="appendix-b-shorts-package.html#cb306-29"></a><span class="co">#&gt;  0.07635631  0.99801628 -0.10228573  0.15987989  0.15987989  0.06979851  0.05845303  2.68555639</span></span></code></pre></div>
</div>
</div>
<div id="profiling-using-radar-gun-data" class="section level3" number="18.2.2">
<h3><span class="header-section-number">18.2.2</span> Profiling using radar gun data</h3>
<p>The radar gun data is modeled using measured velocity as target variable and time as predictor. Individual analysis is performed using <code>shorts::model_using_radar</code> function. Let’s do analysis for Jim:</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="appendix-b-shorts-package.html#cb307-1"></a>jim_data &lt;-<span class="st"> </span><span class="kw">filter</span>(radar_gun_data, athlete <span class="op">==</span><span class="st"> &quot;Jim&quot;</span>)</span>
<span id="cb307-2"><a href="appendix-b-shorts-package.html#cb307-2"></a></span>
<span id="cb307-3"><a href="appendix-b-shorts-package.html#cb307-3"></a>jim_profile &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">model_using_radar</span>(</span>
<span id="cb307-4"><a href="appendix-b-shorts-package.html#cb307-4"></a>  <span class="dt">time =</span> jim_data<span class="op">$</span>time,</span>
<span id="cb307-5"><a href="appendix-b-shorts-package.html#cb307-5"></a>  <span class="dt">velocity =</span> jim_data<span class="op">$</span>velocity</span>
<span id="cb307-6"><a href="appendix-b-shorts-package.html#cb307-6"></a>)</span>
<span id="cb307-7"><a href="appendix-b-shorts-package.html#cb307-7"></a></span>
<span id="cb307-8"><a href="appendix-b-shorts-package.html#cb307-8"></a>jim_profile</span>
<span id="cb307-9"><a href="appendix-b-shorts-package.html#cb307-9"></a><span class="co">#&gt; Estimated model parameters</span></span>
<span id="cb307-10"><a href="appendix-b-shorts-package.html#cb307-10"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb307-11"><a href="appendix-b-shorts-package.html#cb307-11"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb307-12"><a href="appendix-b-shorts-package.html#cb307-12"></a><span class="co">#&gt;           7.9979331           0.8886595           8.9999977          17.9953449 </span></span>
<span id="cb307-13"><a href="appendix-b-shorts-package.html#cb307-13"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb307-14"><a href="appendix-b-shorts-package.html#cb307-14"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb307-15"><a href="appendix-b-shorts-package.html#cb307-15"></a><span class="co">#&gt; </span></span>
<span id="cb307-16"><a href="appendix-b-shorts-package.html#cb307-16"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb307-17"><a href="appendix-b-shorts-package.html#cb307-17"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb307-18"><a href="appendix-b-shorts-package.html#cb307-18"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb307-19"><a href="appendix-b-shorts-package.html#cb307-19"></a><span class="co">#&gt;  0.05058726  0.99924408 -0.15099212  0.16415830  0.16415830  0.05050288  0.03927901         NaN</span></span>
<span id="cb307-20"><a href="appendix-b-shorts-package.html#cb307-20"></a></span>
<span id="cb307-21"><a href="appendix-b-shorts-package.html#cb307-21"></a><span class="kw">summary</span>(jim_profile)</span>
<span id="cb307-22"><a href="appendix-b-shorts-package.html#cb307-22"></a><span class="co">#&gt; </span></span>
<span id="cb307-23"><a href="appendix-b-shorts-package.html#cb307-23"></a><span class="co">#&gt; Formula: velocity ~ MSS * (1 - exp(1)^(-(corrected_time)/TAU))</span></span>
<span id="cb307-24"><a href="appendix-b-shorts-package.html#cb307-24"></a><span class="co">#&gt; </span></span>
<span id="cb307-25"><a href="appendix-b-shorts-package.html#cb307-25"></a><span class="co">#&gt; Parameters:</span></span>
<span id="cb307-26"><a href="appendix-b-shorts-package.html#cb307-26"></a><span class="co">#&gt;     Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb307-27"><a href="appendix-b-shorts-package.html#cb307-27"></a><span class="co">#&gt; MSS 7.997933   0.003069  2606.3   &lt;2e-16 ***</span></span>
<span id="cb307-28"><a href="appendix-b-shorts-package.html#cb307-28"></a><span class="co">#&gt; TAU 0.888659   0.001564   568.2   &lt;2e-16 ***</span></span>
<span id="cb307-29"><a href="appendix-b-shorts-package.html#cb307-29"></a><span class="co">#&gt; ---</span></span>
<span id="cb307-30"><a href="appendix-b-shorts-package.html#cb307-30"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb307-31"><a href="appendix-b-shorts-package.html#cb307-31"></a><span class="co">#&gt; </span></span>
<span id="cb307-32"><a href="appendix-b-shorts-package.html#cb307-32"></a><span class="co">#&gt; Residual standard error: 0.05059 on 598 degrees of freedom</span></span>
<span id="cb307-33"><a href="appendix-b-shorts-package.html#cb307-33"></a><span class="co">#&gt; </span></span>
<span id="cb307-34"><a href="appendix-b-shorts-package.html#cb307-34"></a><span class="co">#&gt; Number of iterations to convergence: 3 </span></span>
<span id="cb307-35"><a href="appendix-b-shorts-package.html#cb307-35"></a><span class="co">#&gt; Achieved convergence tolerance: 9.313e-07</span></span></code></pre></div>
<p>The object returned from <code>shorts::model_using_radar</code> is same as object returned from <code>shorts::model_using_splits</code>. Let’s plot Jim’s measured velocity and predicted velocity:</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="appendix-b-shorts-package.html#cb308-1"></a><span class="kw">ggplot</span>(jim_profile<span class="op">$</span>data, <span class="kw">aes</span>(<span class="dt">x =</span> time)) <span class="op">+</span></span>
<span id="cb308-2"><a href="appendix-b-shorts-package.html#cb308-2"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb308-3"><a href="appendix-b-shorts-package.html#cb308-3"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> velocity), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb308-4"><a href="appendix-b-shorts-package.html#cb308-4"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred_velocity), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb308-5"><a href="appendix-b-shorts-package.html#cb308-5"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Time (s)&quot;</span>) <span class="op">+</span></span>
<span id="cb308-6"><a href="appendix-b-shorts-package.html#cb308-6"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Velocity (m/s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-15-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Radar gun data can be modeled individually or using <em>non-linear mixed model</em> implemented in <code>shorts::mixed_model_using_radar</code>:</p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="appendix-b-shorts-package.html#cb309-1"></a>mixed_model &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">mixed_model_using_radar</span>(</span>
<span id="cb309-2"><a href="appendix-b-shorts-package.html#cb309-2"></a>  <span class="dt">data =</span> radar_gun_data,</span>
<span id="cb309-3"><a href="appendix-b-shorts-package.html#cb309-3"></a>  <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb309-4"><a href="appendix-b-shorts-package.html#cb309-4"></a>  <span class="dt">velocity =</span> <span class="st">&quot;velocity&quot;</span>,</span>
<span id="cb309-5"><a href="appendix-b-shorts-package.html#cb309-5"></a>  <span class="dt">athlete =</span> <span class="st">&quot;athlete&quot;</span></span>
<span id="cb309-6"><a href="appendix-b-shorts-package.html#cb309-6"></a>)</span>
<span id="cb309-7"><a href="appendix-b-shorts-package.html#cb309-7"></a></span>
<span id="cb309-8"><a href="appendix-b-shorts-package.html#cb309-8"></a>mixed_model</span>
<span id="cb309-9"><a href="appendix-b-shorts-package.html#cb309-9"></a><span class="co">#&gt; Estimated fixed model parameters</span></span>
<span id="cb309-10"><a href="appendix-b-shorts-package.html#cb309-10"></a><span class="co">#&gt; --------------------------------</span></span>
<span id="cb309-11"><a href="appendix-b-shorts-package.html#cb309-11"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb309-12"><a href="appendix-b-shorts-package.html#cb309-12"></a><span class="co">#&gt;            8.301178            1.007782            8.237080           17.094367 </span></span>
<span id="cb309-13"><a href="appendix-b-shorts-package.html#cb309-13"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb309-14"><a href="appendix-b-shorts-package.html#cb309-14"></a><span class="co">#&gt;            0.000000            0.000000 </span></span>
<span id="cb309-15"><a href="appendix-b-shorts-package.html#cb309-15"></a><span class="co">#&gt; </span></span>
<span id="cb309-16"><a href="appendix-b-shorts-package.html#cb309-16"></a><span class="co">#&gt; Estimated frandom model parameters</span></span>
<span id="cb309-17"><a href="appendix-b-shorts-package.html#cb309-17"></a><span class="co">#&gt; ----------------------------------</span></span>
<span id="cb309-18"><a href="appendix-b-shorts-package.html#cb309-18"></a><span class="co">#&gt;     athlete      MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb309-19"><a href="appendix-b-shorts-package.html#cb309-19"></a><span class="co">#&gt; 1     James 9.998556 1.1108457 9.000851 22.49888               0                   0</span></span>
<span id="cb309-20"><a href="appendix-b-shorts-package.html#cb309-20"></a><span class="co">#&gt; 2       Jim 7.997945 0.8886712 8.999892 17.99516               0                   0</span></span>
<span id="cb309-21"><a href="appendix-b-shorts-package.html#cb309-21"></a><span class="co">#&gt; 3      John 8.000051 1.0690357 7.483427 14.96695               0                   0</span></span>
<span id="cb309-22"><a href="appendix-b-shorts-package.html#cb309-22"></a><span class="co">#&gt; 4 Kimberley 9.005500 1.2855706 7.005061 15.77102               0                   0</span></span>
<span id="cb309-23"><a href="appendix-b-shorts-package.html#cb309-23"></a><span class="co">#&gt; 5  Samantha 6.503839 0.6847851 9.497635 15.44277               0                   0</span></span>
<span id="cb309-24"><a href="appendix-b-shorts-package.html#cb309-24"></a><span class="co">#&gt; </span></span>
<span id="cb309-25"><a href="appendix-b-shorts-package.html#cb309-25"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb309-26"><a href="appendix-b-shorts-package.html#cb309-26"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb309-27"><a href="appendix-b-shorts-package.html#cb309-27"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb309-28"><a href="appendix-b-shorts-package.html#cb309-28"></a><span class="co">#&gt;  0.05164818  0.99942171 -0.21912952  0.19832897  0.21912952  0.05156203  0.03949473         NaN</span></span>
<span id="cb309-29"><a href="appendix-b-shorts-package.html#cb309-29"></a></span>
<span id="cb309-30"><a href="appendix-b-shorts-package.html#cb309-30"></a><span class="kw">summary</span>(mixed_model)</span>
<span id="cb309-31"><a href="appendix-b-shorts-package.html#cb309-31"></a><span class="co">#&gt; Nonlinear mixed-effects model fit by maximum likelihood</span></span>
<span id="cb309-32"><a href="appendix-b-shorts-package.html#cb309-32"></a><span class="co">#&gt;   Model: velocity ~ MSS * (1 - exp(1)^(-(corrected_time)/TAU)) </span></span>
<span id="cb309-33"><a href="appendix-b-shorts-package.html#cb309-33"></a><span class="co">#&gt;  Data: train </span></span>
<span id="cb309-34"><a href="appendix-b-shorts-package.html#cb309-34"></a><span class="co">#&gt;         AIC       BIC   logLik</span></span>
<span id="cb309-35"><a href="appendix-b-shorts-package.html#cb309-35"></a><span class="co">#&gt;   -9150.177 -9114.139 4581.089</span></span>
<span id="cb309-36"><a href="appendix-b-shorts-package.html#cb309-36"></a><span class="co">#&gt; </span></span>
<span id="cb309-37"><a href="appendix-b-shorts-package.html#cb309-37"></a><span class="co">#&gt; Random effects:</span></span>
<span id="cb309-38"><a href="appendix-b-shorts-package.html#cb309-38"></a><span class="co">#&gt;  Formula: list(MSS ~ 1, TAU ~ 1)</span></span>
<span id="cb309-39"><a href="appendix-b-shorts-package.html#cb309-39"></a><span class="co">#&gt;  Level: athlete</span></span>
<span id="cb309-40"><a href="appendix-b-shorts-package.html#cb309-40"></a><span class="co">#&gt;  Structure: General positive-definite, Log-Cholesky parametrization</span></span>
<span id="cb309-41"><a href="appendix-b-shorts-package.html#cb309-41"></a><span class="co">#&gt;          StdDev     Corr </span></span>
<span id="cb309-42"><a href="appendix-b-shorts-package.html#cb309-42"></a><span class="co">#&gt; MSS      1.16535852 MSS  </span></span>
<span id="cb309-43"><a href="appendix-b-shorts-package.html#cb309-43"></a><span class="co">#&gt; TAU      0.20497379 0.811</span></span>
<span id="cb309-44"><a href="appendix-b-shorts-package.html#cb309-44"></a><span class="co">#&gt; Residual 0.05164818      </span></span>
<span id="cb309-45"><a href="appendix-b-shorts-package.html#cb309-45"></a><span class="co">#&gt; </span></span>
<span id="cb309-46"><a href="appendix-b-shorts-package.html#cb309-46"></a><span class="co">#&gt; Fixed effects: MSS + TAU ~ 1 </span></span>
<span id="cb309-47"><a href="appendix-b-shorts-package.html#cb309-47"></a><span class="co">#&gt;        Value Std.Error   DF  t-value p-value</span></span>
<span id="cb309-48"><a href="appendix-b-shorts-package.html#cb309-48"></a><span class="co">#&gt; MSS 8.301178 0.5213403 2994 15.92276       0</span></span>
<span id="cb309-49"><a href="appendix-b-shorts-package.html#cb309-49"></a><span class="co">#&gt; TAU 1.007782 0.0917011 2994 10.98986       0</span></span>
<span id="cb309-50"><a href="appendix-b-shorts-package.html#cb309-50"></a><span class="co">#&gt;  Correlation: </span></span>
<span id="cb309-51"><a href="appendix-b-shorts-package.html#cb309-51"></a><span class="co">#&gt;     MSS  </span></span>
<span id="cb309-52"><a href="appendix-b-shorts-package.html#cb309-52"></a><span class="co">#&gt; TAU 0.811</span></span>
<span id="cb309-53"><a href="appendix-b-shorts-package.html#cb309-53"></a><span class="co">#&gt; </span></span>
<span id="cb309-54"><a href="appendix-b-shorts-package.html#cb309-54"></a><span class="co">#&gt; Standardized Within-Group Residuals:</span></span>
<span id="cb309-55"><a href="appendix-b-shorts-package.html#cb309-55"></a><span class="co">#&gt;           Min            Q1           Med            Q3           Max </span></span>
<span id="cb309-56"><a href="appendix-b-shorts-package.html#cb309-56"></a><span class="co">#&gt; -3.8399995748 -0.5932967650 -0.0002562518  0.6111624765  4.2427350284 </span></span>
<span id="cb309-57"><a href="appendix-b-shorts-package.html#cb309-57"></a><span class="co">#&gt; </span></span>
<span id="cb309-58"><a href="appendix-b-shorts-package.html#cb309-58"></a><span class="co">#&gt; Number of Observations: 3000</span></span>
<span id="cb309-59"><a href="appendix-b-shorts-package.html#cb309-59"></a><span class="co">#&gt; Number of Groups: 5</span></span></code></pre></div>
<p>Let’s plot predicted acceleration over time (0-6sec) for athletes in the <code>radar_gun_data</code> data set:</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="appendix-b-shorts-package.html#cb310-1"></a>model_predictions &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">predict_kinematics</span>(mixed_model)</span>
<span id="cb310-2"><a href="appendix-b-shorts-package.html#cb310-2"></a></span>
<span id="cb310-3"><a href="appendix-b-shorts-package.html#cb310-3"></a><span class="kw">ggplot</span>(model_predictions, <span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> acceleration, <span class="dt">color =</span> athlete)) <span class="op">+</span></span>
<span id="cb310-4"><a href="appendix-b-shorts-package.html#cb310-4"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb310-5"><a href="appendix-b-shorts-package.html#cb310-5"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb310-6"><a href="appendix-b-shorts-package.html#cb310-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Time (s)&quot;</span>) <span class="op">+</span></span>
<span id="cb310-7"><a href="appendix-b-shorts-package.html#cb310-7"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Predicted acceleration (m/s^2)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-17-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
<div id="using-corrections" class="section level3" number="18.2.3">
<h3><span class="header-section-number">18.2.3</span> Using corrections</h3>
<p>You have probably noticed that estimated MSS and TAU were a bit too high for splits data. Biased estimates are due to differences in starting positions and <em>timing triggering methods</em> for certain measurement approaches (e.g. starting behind first timing gate, or allowing for body rocking). This topic is further explained in <code>sprint-corrections</code> <a href="https://mladenjovanovic.github.io/shorts/articles/sprint-corrections.html">vignette</a> that can be accessed by typing:</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="appendix-b-shorts-package.html#cb311-1"></a><span class="kw">vignette</span>(<span class="st">&quot;sprint-corrections&quot;</span>)</span></code></pre></div>
<p>Here I will provide quick summary. Often, this bias in estimates is dealt with by using heuristic rule of thumb of adding <code>time_correction</code> to split times (e.g. from 0.3-0.5sec; see more in Haugen <em>et al.</em>, 2012). This functionality is available in all covered <code>shorts</code> functions:</p>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="appendix-b-shorts-package.html#cb312-1"></a>mixed_model_corrected &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">mixed_model_using_splits</span>(</span>
<span id="cb312-2"><a href="appendix-b-shorts-package.html#cb312-2"></a>  <span class="dt">data =</span> split_times,</span>
<span id="cb312-3"><a href="appendix-b-shorts-package.html#cb312-3"></a>  <span class="dt">distance =</span> <span class="st">&quot;distance&quot;</span>,</span>
<span id="cb312-4"><a href="appendix-b-shorts-package.html#cb312-4"></a>  <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb312-5"><a href="appendix-b-shorts-package.html#cb312-5"></a>  <span class="dt">athlete =</span> <span class="st">&quot;athlete&quot;</span>, </span>
<span id="cb312-6"><a href="appendix-b-shorts-package.html#cb312-6"></a>  <span class="dt">time_correction =</span> <span class="fl">0.3</span></span>
<span id="cb312-7"><a href="appendix-b-shorts-package.html#cb312-7"></a>)</span>
<span id="cb312-8"><a href="appendix-b-shorts-package.html#cb312-8"></a></span>
<span id="cb312-9"><a href="appendix-b-shorts-package.html#cb312-9"></a>mixed_model_corrected</span>
<span id="cb312-10"><a href="appendix-b-shorts-package.html#cb312-10"></a><span class="co">#&gt; Estimated fixed model parameters</span></span>
<span id="cb312-11"><a href="appendix-b-shorts-package.html#cb312-11"></a><span class="co">#&gt; --------------------------------</span></span>
<span id="cb312-12"><a href="appendix-b-shorts-package.html#cb312-12"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb312-13"><a href="appendix-b-shorts-package.html#cb312-13"></a><span class="co">#&gt;            8.474621            1.154940            7.337715           15.546088 </span></span>
<span id="cb312-14"><a href="appendix-b-shorts-package.html#cb312-14"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb312-15"><a href="appendix-b-shorts-package.html#cb312-15"></a><span class="co">#&gt;            0.300000            0.000000 </span></span>
<span id="cb312-16"><a href="appendix-b-shorts-package.html#cb312-16"></a><span class="co">#&gt; </span></span>
<span id="cb312-17"><a href="appendix-b-shorts-package.html#cb312-17"></a><span class="co">#&gt; Estimated frandom model parameters</span></span>
<span id="cb312-18"><a href="appendix-b-shorts-package.html#cb312-18"></a><span class="co">#&gt; ----------------------------------</span></span>
<span id="cb312-19"><a href="appendix-b-shorts-package.html#cb312-19"></a><span class="co">#&gt;     athlete       MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb312-20"><a href="appendix-b-shorts-package.html#cb312-20"></a><span class="co">#&gt; 1     James 10.549314 1.4953619 7.054689 18.60553             0.3                   0</span></span>
<span id="cb312-21"><a href="appendix-b-shorts-package.html#cb312-21"></a><span class="co">#&gt; 2       Jim  8.048378 0.9216038 8.733012 17.57165             0.3                   0</span></span>
<span id="cb312-22"><a href="appendix-b-shorts-package.html#cb312-22"></a><span class="co">#&gt; 3      John  8.130968 1.2295728 6.612839 13.44220             0.3                   0</span></span>
<span id="cb312-23"><a href="appendix-b-shorts-package.html#cb312-23"></a><span class="co">#&gt; 4 Kimberley  9.114979 1.3721302 6.642940 15.13756             0.3                   0</span></span>
<span id="cb312-24"><a href="appendix-b-shorts-package.html#cb312-24"></a><span class="co">#&gt; 5  Samantha  6.529465 0.7560310 8.636504 14.09794             0.3                   0</span></span>
<span id="cb312-25"><a href="appendix-b-shorts-package.html#cb312-25"></a><span class="co">#&gt; </span></span>
<span id="cb312-26"><a href="appendix-b-shorts-package.html#cb312-26"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb312-27"><a href="appendix-b-shorts-package.html#cb312-27"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb312-28"><a href="appendix-b-shorts-package.html#cb312-28"></a><span class="co">#&gt;          RSE    R_squared       minErr       maxErr    maxAbsErr         RMSE          MAE </span></span>
<span id="cb312-29"><a href="appendix-b-shorts-package.html#cb312-29"></a><span class="co">#&gt;  0.015195052  0.999941466 -0.041155421  0.020298042  0.041155421  0.012443740  0.009087699 </span></span>
<span id="cb312-30"><a href="appendix-b-shorts-package.html#cb312-30"></a><span class="co">#&gt;         MAPE </span></span>
<span id="cb312-31"><a href="appendix-b-shorts-package.html#cb312-31"></a><span class="co">#&gt;  0.496822694</span></span>
<span id="cb312-32"><a href="appendix-b-shorts-package.html#cb312-32"></a></span>
<span id="cb312-33"><a href="appendix-b-shorts-package.html#cb312-33"></a><span class="kw">summary</span>(mixed_model_corrected)</span>
<span id="cb312-34"><a href="appendix-b-shorts-package.html#cb312-34"></a><span class="co">#&gt; Nonlinear mixed-effects model fit by maximum likelihood</span></span>
<span id="cb312-35"><a href="appendix-b-shorts-package.html#cb312-35"></a><span class="co">#&gt;   Model: corrected_time ~ TAU * I(LambertW::W(-exp(1)^(-distance/(MSS *      TAU) - 1))) + distance/MSS + TAU </span></span>
<span id="cb312-36"><a href="appendix-b-shorts-package.html#cb312-36"></a><span class="co">#&gt;  Data: train </span></span>
<span id="cb312-37"><a href="appendix-b-shorts-package.html#cb312-37"></a><span class="co">#&gt;         AIC       BIC   logLik</span></span>
<span id="cb312-38"><a href="appendix-b-shorts-package.html#cb312-38"></a><span class="co">#&gt;   -96.92355 -88.51636 54.46177</span></span>
<span id="cb312-39"><a href="appendix-b-shorts-package.html#cb312-39"></a><span class="co">#&gt; </span></span>
<span id="cb312-40"><a href="appendix-b-shorts-package.html#cb312-40"></a><span class="co">#&gt; Random effects:</span></span>
<span id="cb312-41"><a href="appendix-b-shorts-package.html#cb312-41"></a><span class="co">#&gt;  Formula: list(MSS ~ 1, TAU ~ 1)</span></span>
<span id="cb312-42"><a href="appendix-b-shorts-package.html#cb312-42"></a><span class="co">#&gt;  Level: athlete</span></span>
<span id="cb312-43"><a href="appendix-b-shorts-package.html#cb312-43"></a><span class="co">#&gt;  Structure: General positive-definite, Log-Cholesky parametrization</span></span>
<span id="cb312-44"><a href="appendix-b-shorts-package.html#cb312-44"></a><span class="co">#&gt;          StdDev     Corr </span></span>
<span id="cb312-45"><a href="appendix-b-shorts-package.html#cb312-45"></a><span class="co">#&gt; MSS      1.32853982 MSS  </span></span>
<span id="cb312-46"><a href="appendix-b-shorts-package.html#cb312-46"></a><span class="co">#&gt; TAU      0.27791928 0.924</span></span>
<span id="cb312-47"><a href="appendix-b-shorts-package.html#cb312-47"></a><span class="co">#&gt; Residual 0.01519505      </span></span>
<span id="cb312-48"><a href="appendix-b-shorts-package.html#cb312-48"></a><span class="co">#&gt; </span></span>
<span id="cb312-49"><a href="appendix-b-shorts-package.html#cb312-49"></a><span class="co">#&gt; Fixed effects: MSS + TAU ~ 1 </span></span>
<span id="cb312-50"><a href="appendix-b-shorts-package.html#cb312-50"></a><span class="co">#&gt;        Value Std.Error DF   t-value p-value</span></span>
<span id="cb312-51"><a href="appendix-b-shorts-package.html#cb312-51"></a><span class="co">#&gt; MSS 8.474621 0.6159646 24 13.758292       0</span></span>
<span id="cb312-52"><a href="appendix-b-shorts-package.html#cb312-52"></a><span class="co">#&gt; TAU 1.154940 0.1293310 24  8.930112       0</span></span>
<span id="cb312-53"><a href="appendix-b-shorts-package.html#cb312-53"></a><span class="co">#&gt;  Correlation: </span></span>
<span id="cb312-54"><a href="appendix-b-shorts-package.html#cb312-54"></a><span class="co">#&gt;     MSS  </span></span>
<span id="cb312-55"><a href="appendix-b-shorts-package.html#cb312-55"></a><span class="co">#&gt; TAU 0.923</span></span>
<span id="cb312-56"><a href="appendix-b-shorts-package.html#cb312-56"></a><span class="co">#&gt; </span></span>
<span id="cb312-57"><a href="appendix-b-shorts-package.html#cb312-57"></a><span class="co">#&gt; Standardized Within-Group Residuals:</span></span>
<span id="cb312-58"><a href="appendix-b-shorts-package.html#cb312-58"></a><span class="co">#&gt;        Min         Q1        Med         Q3        Max </span></span>
<span id="cb312-59"><a href="appendix-b-shorts-package.html#cb312-59"></a><span class="co">#&gt; -1.3358323 -0.4066588 -0.1325837  0.3284514  2.7084751 </span></span>
<span id="cb312-60"><a href="appendix-b-shorts-package.html#cb312-60"></a><span class="co">#&gt; </span></span>
<span id="cb312-61"><a href="appendix-b-shorts-package.html#cb312-61"></a><span class="co">#&gt; Number of Observations: 30</span></span>
<span id="cb312-62"><a href="appendix-b-shorts-package.html#cb312-62"></a><span class="co">#&gt; Number of Groups: 5</span></span></code></pre></div>
<p>And <code>time_correction</code> can also be used in <code>predict_</code> and <code>find_</code> family of functions:</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="appendix-b-shorts-package.html#cb313-1"></a>velocity_over_distance_corrected &lt;-<span class="st"> </span><span class="kw">merge</span>(</span>
<span id="cb313-2"><a href="appendix-b-shorts-package.html#cb313-2"></a>    mixed_model_corrected<span class="op">$</span>parameters<span class="op">$</span>random,</span>
<span id="cb313-3"><a href="appendix-b-shorts-package.html#cb313-3"></a>    <span class="kw">data.frame</span>(<span class="dt">distance =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">40</span>, <span class="dt">length.out =</span> <span class="dv">1000</span>))</span>
<span id="cb313-4"><a href="appendix-b-shorts-package.html#cb313-4"></a>)</span>
<span id="cb313-5"><a href="appendix-b-shorts-package.html#cb313-5"></a></span>
<span id="cb313-6"><a href="appendix-b-shorts-package.html#cb313-6"></a>velocity_over_distance_corrected<span class="op">$</span>pred_velocity &lt;-<span class="st"> </span><span class="kw">with</span>(velocity_over_distance,</span>
<span id="cb313-7"><a href="appendix-b-shorts-package.html#cb313-7"></a>  shorts<span class="op">::</span><span class="kw">predict_velocity_at_distance</span>(</span>
<span id="cb313-8"><a href="appendix-b-shorts-package.html#cb313-8"></a>    <span class="dt">distance =</span> distance,</span>
<span id="cb313-9"><a href="appendix-b-shorts-package.html#cb313-9"></a>    <span class="dt">MSS =</span> MSS,</span>
<span id="cb313-10"><a href="appendix-b-shorts-package.html#cb313-10"></a>    <span class="dt">TAU =</span> TAU,</span>
<span id="cb313-11"><a href="appendix-b-shorts-package.html#cb313-11"></a>    <span class="dt">time_correction =</span> <span class="fl">0.3</span>)</span>
<span id="cb313-12"><a href="appendix-b-shorts-package.html#cb313-12"></a>)</span>
<span id="cb313-13"><a href="appendix-b-shorts-package.html#cb313-13"></a></span>
<span id="cb313-14"><a href="appendix-b-shorts-package.html#cb313-14"></a><span class="kw">ggplot</span>(velocity_over_distance_corrected, <span class="kw">aes</span>(<span class="dt">x =</span> distance, <span class="dt">y =</span> pred_velocity, <span class="dt">color =</span> athlete)) <span class="op">+</span></span>
<span id="cb313-15"><a href="appendix-b-shorts-package.html#cb313-15"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb313-16"><a href="appendix-b-shorts-package.html#cb313-16"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb313-17"><a href="appendix-b-shorts-package.html#cb313-17"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Distance (m)&quot;</span>) <span class="op">+</span></span>
<span id="cb313-18"><a href="appendix-b-shorts-package.html#cb313-18"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Predicted velocity (m/s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-19-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Instead of providing for <code>time_correction</code>, this parameter can be estimated using <code>shorts::model_using_splits_with_time_correction</code> and <code>shorts::mixed_model_using_splits_with_time_correction</code>:</p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="appendix-b-shorts-package.html#cb314-1"></a>kimberley_profile_with_time_correction &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">model_using_splits_with_time_correction</span>(</span>
<span id="cb314-2"><a href="appendix-b-shorts-package.html#cb314-2"></a>  <span class="dt">distance =</span> kimberley_data<span class="op">$</span>distance,</span>
<span id="cb314-3"><a href="appendix-b-shorts-package.html#cb314-3"></a>  <span class="dt">time =</span> kimberley_data<span class="op">$</span>time)  </span>
<span id="cb314-4"><a href="appendix-b-shorts-package.html#cb314-4"></a></span>
<span id="cb314-5"><a href="appendix-b-shorts-package.html#cb314-5"></a>kimberley_profile_with_time_correction</span>
<span id="cb314-6"><a href="appendix-b-shorts-package.html#cb314-6"></a><span class="co">#&gt; Estimated model parameters</span></span>
<span id="cb314-7"><a href="appendix-b-shorts-package.html#cb314-7"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb314-8"><a href="appendix-b-shorts-package.html#cb314-8"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb314-9"><a href="appendix-b-shorts-package.html#cb314-9"></a><span class="co">#&gt;           8.9748353           1.2348565           7.2679175          16.3070907 </span></span>
<span id="cb314-10"><a href="appendix-b-shorts-package.html#cb314-10"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb314-11"><a href="appendix-b-shorts-package.html#cb314-11"></a><span class="co">#&gt;           0.2346537           0.0000000 </span></span>
<span id="cb314-12"><a href="appendix-b-shorts-package.html#cb314-12"></a><span class="co">#&gt; </span></span>
<span id="cb314-13"><a href="appendix-b-shorts-package.html#cb314-13"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb314-14"><a href="appendix-b-shorts-package.html#cb314-14"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb314-15"><a href="appendix-b-shorts-package.html#cb314-15"></a><span class="co">#&gt;           RSE     R_squared        minErr        maxErr     maxAbsErr          RMSE </span></span>
<span id="cb314-16"><a href="appendix-b-shorts-package.html#cb314-16"></a><span class="co">#&gt;  0.0011290466  0.9999996942 -0.0012094658  0.0011807342  0.0012094658  0.0007983565 </span></span>
<span id="cb314-17"><a href="appendix-b-shorts-package.html#cb314-17"></a><span class="co">#&gt;           MAE          MAPE </span></span>
<span id="cb314-18"><a href="appendix-b-shorts-package.html#cb314-18"></a><span class="co">#&gt;  0.0006586035  0.0282352643</span></span>
<span id="cb314-19"><a href="appendix-b-shorts-package.html#cb314-19"></a></span>
<span id="cb314-20"><a href="appendix-b-shorts-package.html#cb314-20"></a><span class="co"># Mixed-effect model using `time_correction` as fixed effect only</span></span>
<span id="cb314-21"><a href="appendix-b-shorts-package.html#cb314-21"></a><span class="co"># To use `time_correction` as random effects, use random = MSS + TAU + time_correction ~ 1</span></span>
<span id="cb314-22"><a href="appendix-b-shorts-package.html#cb314-22"></a>mixed_model_with_time_correction &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">mixed_model_using_splits_with_time_correction</span>(</span>
<span id="cb314-23"><a href="appendix-b-shorts-package.html#cb314-23"></a>  <span class="dt">data =</span> split_times,</span>
<span id="cb314-24"><a href="appendix-b-shorts-package.html#cb314-24"></a>  <span class="dt">distance =</span> <span class="st">&quot;distance&quot;</span>,</span>
<span id="cb314-25"><a href="appendix-b-shorts-package.html#cb314-25"></a>  <span class="dt">time =</span> <span class="st">&quot;time&quot;</span>,</span>
<span id="cb314-26"><a href="appendix-b-shorts-package.html#cb314-26"></a>  <span class="dt">athlete =</span> <span class="st">&quot;athlete&quot;</span></span>
<span id="cb314-27"><a href="appendix-b-shorts-package.html#cb314-27"></a>)</span>
<span id="cb314-28"><a href="appendix-b-shorts-package.html#cb314-28"></a></span>
<span id="cb314-29"><a href="appendix-b-shorts-package.html#cb314-29"></a><span class="co"># Parameters</span></span>
<span id="cb314-30"><a href="appendix-b-shorts-package.html#cb314-30"></a>mixed_model_with_time_correction</span>
<span id="cb314-31"><a href="appendix-b-shorts-package.html#cb314-31"></a><span class="co">#&gt; Estimated fixed model parameters</span></span>
<span id="cb314-32"><a href="appendix-b-shorts-package.html#cb314-32"></a><span class="co">#&gt; --------------------------------</span></span>
<span id="cb314-33"><a href="appendix-b-shorts-package.html#cb314-33"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb314-34"><a href="appendix-b-shorts-package.html#cb314-34"></a><span class="co">#&gt;           8.3040140           0.9687348           8.5720197          17.7955429 </span></span>
<span id="cb314-35"><a href="appendix-b-shorts-package.html#cb314-35"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb314-36"><a href="appendix-b-shorts-package.html#cb314-36"></a><span class="co">#&gt;           0.1989677           0.0000000 </span></span>
<span id="cb314-37"><a href="appendix-b-shorts-package.html#cb314-37"></a><span class="co">#&gt; </span></span>
<span id="cb314-38"><a href="appendix-b-shorts-package.html#cb314-38"></a><span class="co">#&gt; Estimated frandom model parameters</span></span>
<span id="cb314-39"><a href="appendix-b-shorts-package.html#cb314-39"></a><span class="co">#&gt; ----------------------------------</span></span>
<span id="cb314-40"><a href="appendix-b-shorts-package.html#cb314-40"></a><span class="co">#&gt;     athlete       MSS       TAU       MAC     PMAX time_correction distance_correction</span></span>
<span id="cb314-41"><a href="appendix-b-shorts-package.html#cb314-41"></a><span class="co">#&gt; 1     James 10.186327 1.2429367  8.195370 20.87018       0.1989677                   0</span></span>
<span id="cb314-42"><a href="appendix-b-shorts-package.html#cb314-42"></a><span class="co">#&gt; 2       Jim  7.946099 0.7643674 10.395655 20.65123       0.1989677                   0</span></span>
<span id="cb314-43"><a href="appendix-b-shorts-package.html#cb314-43"></a><span class="co">#&gt; 3      John  7.996262 1.0488272  7.624003 15.24088       0.1989677                   0</span></span>
<span id="cb314-44"><a href="appendix-b-shorts-package.html#cb314-44"></a><span class="co">#&gt; 4 Kimberley  8.899472 1.1615147  7.661953 17.04683       0.1989677                   0</span></span>
<span id="cb314-45"><a href="appendix-b-shorts-package.html#cb314-45"></a><span class="co">#&gt; 5  Samantha  6.491911 0.6260282 10.369998 16.83028       0.1989677                   0</span></span>
<span id="cb314-46"><a href="appendix-b-shorts-package.html#cb314-46"></a><span class="co">#&gt; </span></span>
<span id="cb314-47"><a href="appendix-b-shorts-package.html#cb314-47"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb314-48"><a href="appendix-b-shorts-package.html#cb314-48"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb314-49"><a href="appendix-b-shorts-package.html#cb314-49"></a><span class="co">#&gt;          RSE    R_squared       minErr       maxErr    maxAbsErr         RMSE          MAE </span></span>
<span id="cb314-50"><a href="appendix-b-shorts-package.html#cb314-50"></a><span class="co">#&gt;  0.005976815  0.999990286 -0.016508275  0.009370607  0.016508275  0.004882226  0.003481096 </span></span>
<span id="cb314-51"><a href="appendix-b-shorts-package.html#cb314-51"></a><span class="co">#&gt;         MAPE </span></span>
<span id="cb314-52"><a href="appendix-b-shorts-package.html#cb314-52"></a><span class="co">#&gt;  0.186135567</span></span></code></pre></div>
<p>For more details, please refer to <code>sprint-corrections</code> <a href="https://mladenjovanovic.github.io/shorts/articles/sprint-corrections.html">vignette</a>.</p>
</div>
<div id="leave-one-out-cross-validation-loocv" class="section level3" number="18.2.4">
<h3><span class="header-section-number">18.2.4</span> Leave-One-Out Cross-Validation (LOOCV)</h3>
<p><code>...model_using_splits..</code> family of functions come with LOOCV feature that is performed by setting the function parameter <code>LOOCV = TRUE</code>. This feature is very useful for checking model parameters robustness and model predictions on unseen data. LOOCV involve iterative model building and testing by removing observation one by one and making predictions for them. Let’s use Kimberly again, but this time perform LOOCV:</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="appendix-b-shorts-package.html#cb315-1"></a>kimberley_profile_LOOCV &lt;-<span class="st"> </span>shorts<span class="op">::</span><span class="kw">model_using_splits</span>(</span>
<span id="cb315-2"><a href="appendix-b-shorts-package.html#cb315-2"></a>  <span class="dt">distance =</span> kimberley_data<span class="op">$</span>distance,</span>
<span id="cb315-3"><a href="appendix-b-shorts-package.html#cb315-3"></a>  <span class="dt">time =</span> kimberley_data<span class="op">$</span>time,</span>
<span id="cb315-4"><a href="appendix-b-shorts-package.html#cb315-4"></a>  <span class="dt">LOOCV =</span> <span class="ot">TRUE</span>)  </span>
<span id="cb315-5"><a href="appendix-b-shorts-package.html#cb315-5"></a></span>
<span id="cb315-6"><a href="appendix-b-shorts-package.html#cb315-6"></a>kimberley_profile_LOOCV</span>
<span id="cb315-7"><a href="appendix-b-shorts-package.html#cb315-7"></a><span class="co">#&gt; Estimated model parameters</span></span>
<span id="cb315-8"><a href="appendix-b-shorts-package.html#cb315-8"></a><span class="co">#&gt; --------------------------</span></span>
<span id="cb315-9"><a href="appendix-b-shorts-package.html#cb315-9"></a><span class="co">#&gt;                 MSS                 TAU                 MAC                PMAX </span></span>
<span id="cb315-10"><a href="appendix-b-shorts-package.html#cb315-10"></a><span class="co">#&gt;           8.5911421           0.8113282          10.5889855          22.7428698 </span></span>
<span id="cb315-11"><a href="appendix-b-shorts-package.html#cb315-11"></a><span class="co">#&gt;     time_correction distance_correction </span></span>
<span id="cb315-12"><a href="appendix-b-shorts-package.html#cb315-12"></a><span class="co">#&gt;           0.0000000           0.0000000 </span></span>
<span id="cb315-13"><a href="appendix-b-shorts-package.html#cb315-13"></a><span class="co">#&gt; </span></span>
<span id="cb315-14"><a href="appendix-b-shorts-package.html#cb315-14"></a><span class="co">#&gt; Model fit estimators</span></span>
<span id="cb315-15"><a href="appendix-b-shorts-package.html#cb315-15"></a><span class="co">#&gt; --------------------</span></span>
<span id="cb315-16"><a href="appendix-b-shorts-package.html#cb315-16"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb315-17"><a href="appendix-b-shorts-package.html#cb315-17"></a><span class="co">#&gt;  0.03403413  0.99965531 -0.02699169  0.05293444  0.05293444  0.02778875  0.02333342  1.19263116 </span></span>
<span id="cb315-18"><a href="appendix-b-shorts-package.html#cb315-18"></a><span class="co">#&gt; </span></span>
<span id="cb315-19"><a href="appendix-b-shorts-package.html#cb315-19"></a><span class="co">#&gt; </span></span>
<span id="cb315-20"><a href="appendix-b-shorts-package.html#cb315-20"></a><span class="co">#&gt; Leave-One-Out Cross-Validation</span></span>
<span id="cb315-21"><a href="appendix-b-shorts-package.html#cb315-21"></a><span class="co">#&gt; ------------------------------</span></span>
<span id="cb315-22"><a href="appendix-b-shorts-package.html#cb315-22"></a><span class="co">#&gt; Parameters:</span></span>
<span id="cb315-23"><a href="appendix-b-shorts-package.html#cb315-23"></a><span class="co">#&gt;        MSS       TAU      MAC     PMAX time_correction distance_correction</span></span>
<span id="cb315-24"><a href="appendix-b-shorts-package.html#cb315-24"></a><span class="co">#&gt; 1 8.693799 0.8561004 10.15512 22.07164               0                   0</span></span>
<span id="cb315-25"><a href="appendix-b-shorts-package.html#cb315-25"></a><span class="co">#&gt; 2 8.599598 0.8152654 10.54822 22.67761               0                   0</span></span>
<span id="cb315-26"><a href="appendix-b-shorts-package.html#cb315-26"></a><span class="co">#&gt; 3 8.560665 0.7953644 10.76320 23.03504               0                   0</span></span>
<span id="cb315-27"><a href="appendix-b-shorts-package.html#cb315-27"></a><span class="co">#&gt; 4 8.571599 0.7972996 10.75079 23.03786               0                   0</span></span>
<span id="cb315-28"><a href="appendix-b-shorts-package.html#cb315-28"></a><span class="co">#&gt; 5 8.608051 0.8130138 10.58783 22.78514               0                   0</span></span>
<span id="cb315-29"><a href="appendix-b-shorts-package.html#cb315-29"></a><span class="co">#&gt; 6 8.394673 0.7596923 11.05010 23.19049               0                   0</span></span>
<span id="cb315-30"><a href="appendix-b-shorts-package.html#cb315-30"></a><span class="co">#&gt; </span></span>
<span id="cb315-31"><a href="appendix-b-shorts-package.html#cb315-31"></a><span class="co">#&gt; Model fit:</span></span>
<span id="cb315-32"><a href="appendix-b-shorts-package.html#cb315-32"></a><span class="co">#&gt;         RSE   R_squared      minErr      maxErr   maxAbsErr        RMSE         MAE        MAPE </span></span>
<span id="cb315-33"><a href="appendix-b-shorts-package.html#cb315-33"></a><span class="co">#&gt;          NA  0.99901083 -0.03444984  0.08009048  0.08009048  0.04742769  0.03923869  1.72270273</span></span></code></pre></div>
<p>Box-plot is suitable method for plotting estimated parameters:</p>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="appendix-b-shorts-package.html#cb316-1"></a>LOOCV_parameters &lt;-<span class="st"> </span><span class="kw">gather</span>(kimberley_profile_LOOCV<span class="op">$</span>LOOCV<span class="op">$</span>parameters) <span class="op">%&gt;%</span></span>
<span id="cb316-2"><a href="appendix-b-shorts-package.html#cb316-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">key =</span> <span class="kw">factor</span>(</span>
<span id="cb316-3"><a href="appendix-b-shorts-package.html#cb316-3"></a>    key,</span>
<span id="cb316-4"><a href="appendix-b-shorts-package.html#cb316-4"></a>    <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;MSS&quot;</span>, <span class="st">&quot;TAU&quot;</span>, <span class="st">&quot;MAC&quot;</span>, <span class="st">&quot;PMAX&quot;</span>, <span class="st">&quot;time_correction&quot;</span>, <span class="st">&quot;distance_correction&quot;</span>)</span>
<span id="cb316-5"><a href="appendix-b-shorts-package.html#cb316-5"></a>  ))</span>
<span id="cb316-6"><a href="appendix-b-shorts-package.html#cb316-6"></a></span>
<span id="cb316-7"><a href="appendix-b-shorts-package.html#cb316-7"></a><span class="kw">ggplot</span>(LOOCV_parameters, <span class="kw">aes</span>(<span class="dt">y =</span> value)) <span class="op">+</span></span>
<span id="cb316-8"><a href="appendix-b-shorts-package.html#cb316-8"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb316-9"><a href="appendix-b-shorts-package.html#cb316-9"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb316-10"><a href="appendix-b-shorts-package.html#cb316-10"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>key, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>) <span class="op">+</span></span>
<span id="cb316-11"><a href="appendix-b-shorts-package.html#cb316-11"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="ot">NULL</span>) <span class="op">+</span></span>
<span id="cb316-12"><a href="appendix-b-shorts-package.html#cb316-12"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.ticks.x =</span> <span class="kw">element_blank</span>(), <span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>())</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Let’s plot model LOOCV predictions and training (when using all data set) predictions against observed performance:</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb317-1"><a href="appendix-b-shorts-package.html#cb317-1"></a>kimberley_data &lt;-<span class="st"> </span>kimberley_data <span class="op">%&gt;%</span></span>
<span id="cb317-2"><a href="appendix-b-shorts-package.html#cb317-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb317-3"><a href="appendix-b-shorts-package.html#cb317-3"></a>    <span class="dt">pred_time =</span> <span class="kw">predict</span>(kimberley_profile_LOOCV),</span>
<span id="cb317-4"><a href="appendix-b-shorts-package.html#cb317-4"></a>    <span class="dt">LOOCV_time =</span> kimberley_profile_LOOCV<span class="op">$</span>LOOCV<span class="op">$</span>data<span class="op">$</span>pred_time</span>
<span id="cb317-5"><a href="appendix-b-shorts-package.html#cb317-5"></a>  )</span>
<span id="cb317-6"><a href="appendix-b-shorts-package.html#cb317-6"></a></span>
<span id="cb317-7"><a href="appendix-b-shorts-package.html#cb317-7"></a><span class="kw">ggplot</span>(kimberley_data, <span class="kw">aes</span>(<span class="dt">x =</span> distance)) <span class="op">+</span></span>
<span id="cb317-8"><a href="appendix-b-shorts-package.html#cb317-8"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb317-9"><a href="appendix-b-shorts-package.html#cb317-9"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">y =</span> time)) <span class="op">+</span></span>
<span id="cb317-10"><a href="appendix-b-shorts-package.html#cb317-10"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> pred_time), <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></span>
<span id="cb317-11"><a href="appendix-b-shorts-package.html#cb317-11"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> LOOCV_time), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb317-12"><a href="appendix-b-shorts-package.html#cb317-12"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Distance (m)&quot;</span>) <span class="op">+</span></span>
<span id="cb317-13"><a href="appendix-b-shorts-package.html#cb317-13"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Time (s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;" /></p>
<p>Let’s plot predicted velocity using LOOCV estimate parameters to check robustness of the model predictions:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="appendix-b-shorts-package.html#cb318-1"></a>plot_data &lt;-<span class="st"> </span>kimberley_profile_LOOCV<span class="op">$</span>LOOCV<span class="op">$</span>parameters <span class="op">%&gt;%</span></span>
<span id="cb318-2"><a href="appendix-b-shorts-package.html#cb318-2"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">LOOCV =</span> <span class="kw">row_number</span>())</span>
<span id="cb318-3"><a href="appendix-b-shorts-package.html#cb318-3"></a></span>
<span id="cb318-4"><a href="appendix-b-shorts-package.html#cb318-4"></a>plot_data &lt;-<span class="st"> </span><span class="kw">expand_grid</span>(</span>
<span id="cb318-5"><a href="appendix-b-shorts-package.html#cb318-5"></a>  <span class="kw">data.frame</span>(<span class="dt">time =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">6</span>, <span class="dt">length.out =</span> <span class="dv">100</span>)),</span>
<span id="cb318-6"><a href="appendix-b-shorts-package.html#cb318-6"></a>  plot_data</span>
<span id="cb318-7"><a href="appendix-b-shorts-package.html#cb318-7"></a>) <span class="op">%&gt;%</span></span>
<span id="cb318-8"><a href="appendix-b-shorts-package.html#cb318-8"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb318-9"><a href="appendix-b-shorts-package.html#cb318-9"></a>    <span class="dt">LOOCV_velocity =</span> <span class="kw">predict_velocity_at_time</span>(</span>
<span id="cb318-10"><a href="appendix-b-shorts-package.html#cb318-10"></a>      <span class="dt">time =</span> time,</span>
<span id="cb318-11"><a href="appendix-b-shorts-package.html#cb318-11"></a>      <span class="dt">MSS =</span> MSS,</span>
<span id="cb318-12"><a href="appendix-b-shorts-package.html#cb318-12"></a>      <span class="dt">TAU =</span> TAU),</span>
<span id="cb318-13"><a href="appendix-b-shorts-package.html#cb318-13"></a>    <span class="dt">velocity =</span> <span class="kw">predict_velocity_at_time</span>(</span>
<span id="cb318-14"><a href="appendix-b-shorts-package.html#cb318-14"></a>      <span class="dt">time =</span> time,</span>
<span id="cb318-15"><a href="appendix-b-shorts-package.html#cb318-15"></a>      <span class="dt">MSS =</span> kimberley_profile_LOOCV<span class="op">$</span>parameters<span class="op">$</span>MSS,</span>
<span id="cb318-16"><a href="appendix-b-shorts-package.html#cb318-16"></a>      <span class="dt">TAU =</span> kimberley_profile_LOOCV<span class="op">$</span>parameters<span class="op">$</span>TAU)</span>
<span id="cb318-17"><a href="appendix-b-shorts-package.html#cb318-17"></a>  )</span>
<span id="cb318-18"><a href="appendix-b-shorts-package.html#cb318-18"></a></span>
<span id="cb318-19"><a href="appendix-b-shorts-package.html#cb318-19"></a><span class="kw">ggplot</span>(plot_data, <span class="kw">aes</span>(<span class="dt">x =</span> time, <span class="dt">y =</span> LOOCV_velocity, <span class="dt">group =</span> LOOCV)) <span class="op">+</span></span>
<span id="cb318-20"><a href="appendix-b-shorts-package.html#cb318-20"></a><span class="st">  </span><span class="kw">theme_bw</span>() <span class="op">+</span></span>
<span id="cb318-21"><a href="appendix-b-shorts-package.html#cb318-21"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="dt">alpha =</span> <span class="fl">0.8</span>) <span class="op">+</span></span>
<span id="cb318-22"><a href="appendix-b-shorts-package.html#cb318-22"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">y =</span> velocity), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">size =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb318-23"><a href="appendix-b-shorts-package.html#cb318-23"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Time (sec)&quot;</span>) <span class="op">+</span></span>
<span id="cb318-24"><a href="appendix-b-shorts-package.html#cb318-24"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Velocity (m/s)&quot;</span>)</span></code></pre></div>
<p><img src="18-Appendix-B-shorts_files/figure-html/unnamed-chunk-24-1.png" width="90%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="shorts-citation" class="section level2" number="18.3">
<h2><span class="header-section-number">18.3</span> <code>shorts</code> Citation</h2>
<p>To cite <code>shorts</code>, please use the following command to get the BibTex entry:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="appendix-b-shorts-package.html#cb319-1"></a><span class="kw">citation</span>(<span class="st">&quot;shorts&quot;</span>)</span></code></pre></div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-R-shorts">
<p>95. Jovanovic, M. shorts: Short sprints., 2020.Available from: <a href="https://mladenjovanovic.github.io/shorts/">https://mladenjovanovic.github.io/shorts/</a></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="appendix-a-dorem-package.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-c-vjsim-package.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({"sharing": true,"fontsettings": {"theme": "white","family": "sans","size": 2},"edit": {"link": "https://github.com/mladenjovanovic/bmbstats-book/18-Appendix-B-shorts.Rmd","text": "Edit"},"history": {"link": null,"text": null},"view": {"link": null,"text": null},"download": ["bmbstats-book.pdf"],"toc": {"collapse": "subsection"}});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
